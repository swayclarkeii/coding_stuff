{
    "description": "Two new modules to add between Module 259 and Module 143 in Task 3",
    "modules": [
        {
            "id": 501,
            "module": "util:SetVariable2",
            "version": 1,
            "parameters": {},
            "mapper": {
                "name": "cleanedPriceNumber",
                "scope": "roundtrip",
                "value": "{{if(contains(233.priceRaw; \"IDR\"); parseNumber(replace(replace(replace(replace(233.priceRaw; newline; emptystring); \"IDR\"; emptystring); \".\"; emptystring); \" \"; emptystring)); if(contains(233.priceRaw; \"$\"); floor(parseNumber(replace(replace(replace(233.priceRaw; \"$\"; emptystring); \",\"; emptystring); \" \"; emptystring))); 0))}}"
            },
            "metadata": {
                "designer": {
                    "x": 2550,
                    "y": 1950,
                    "name": "Extract Raw Number (Task 3)"
                },
                "restore": {
                    "expect": {
                        "scope": {
                            "label": "One cycle"
                        }
                    }
                },
                "expect": [
                    {
                        "name": "name",
                        "type": "text",
                        "label": "Variable name",
                        "required": true
                    },
                    {
                        "name": "scope",
                        "type": "select",
                        "label": "Variable lifetime",
                        "required": true,
                        "validate": {
                            "enum": [
                                "roundtrip",
                                "execution"
                            ]
                        }
                    },
                    {
                        "name": "value",
                        "type": "any",
                        "label": "Variable value"
                    }
                ],
                "interface": [
                    {
                        "name": "cleanedPriceNumber",
                        "type": "any",
                        "label": "cleanedPriceNumber"
                    }
                ]
            }
        },
        {
            "id": 502,
            "module": "util:SetVariable2",
            "version": 1,
            "parameters": {},
            "mapper": {
                "name": "currencyType",
                "scope": "roundtrip",
                "value": "{{if(contains(233.priceRaw; \"IDR\"); \"IDR\"; if(contains(233.priceRaw; \"$\"); \"USD\"; \"UNKNOWN\"))}}"
            },
            "metadata": {
                "designer": {
                    "x": 2625,
                    "y": 1950,
                    "name": "Detect Currency Type (Task 3)"
                },
                "restore": {
                    "expect": {
                        "scope": {
                            "label": "One cycle"
                        }
                    }
                },
                "expect": [
                    {
                        "name": "name",
                        "type": "text",
                        "label": "Variable name",
                        "required": true
                    },
                    {
                        "name": "scope",
                        "type": "select",
                        "label": "Variable lifetime",
                        "required": true,
                        "validate": {
                            "enum": [
                                "roundtrip",
                                "execution"
                            ]
                        }
                    },
                    {
                        "name": "value",
                        "type": "any",
                        "label": "Variable value"
                    }
                ],
                "interface": [
                    {
                        "name": "currencyType",
                        "type": "any",
                        "label": "currencyType"
                    }
                ]
            }
        }
    ],
    "updated_module_143": {
        "id": 143,
        "module": "util:SetVariable2",
        "version": 1,
        "parameters": {},
        "mapper": {
            "name": "priceUSD",
            "scope": "roundtrip",
            "value": "{{if(currencyType = \"IDR\"; round(cleanedPriceNumber / 15700); cleanedPriceNumber)}}"
        },
        "metadata": {
            "designer": {
                "x": 2700,
                "y": 1950,
                "name": "Normalize Price USD for Task 3"
            }
        }
    },
    "updated_module_21_datasetId": "6kCy5ZnpavOkAxTjR"
}
