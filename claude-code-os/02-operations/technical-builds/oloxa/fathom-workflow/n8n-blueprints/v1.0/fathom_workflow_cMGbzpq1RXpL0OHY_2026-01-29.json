{
  "updatedAt": "2026-01-29T15:16:01.120Z",
  "createdAt": "2026-01-20T22:27:32.419Z",
  "id": "cMGbzpq1RXpL0OHY",
  "name": "Fathom Transcript Workflow Final_22.01.26",
  "description": null,
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "30 23 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "Daily Schedule",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        688,
        304
      ],
      "disabled": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "days-back",
              "name": "daysBack",
              "value": "={{ $json.daysBack || 60 }}",
              "type": "number"
            },
            {
              "id": "fathom-key",
              "name": "fathomApiKey",
              "value": "lzTrFSjfaTlbGrxW_txpEg.iKQ-dm_4tL395VFtFv04FmLuLiTweAVQXMeiUWrdB_4",
              "type": "string"
            },
            {
              "id": "batch-limit",
              "name": "batchLimit",
              "value": 3,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "config-node",
      "name": "Config",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        -32
      ]
    },
    {
      "parameters": {
        "url": "https://api.fathom.ai/external/v1/meetings?limit=100",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-api-key",
              "value": "={{ $('Config').item.json.fathomApiKey }}"
            }
          ]
        },
        "options": {}
      },
      "id": "list-meetings",
      "name": "List Meetings",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1136,
        -32
      ],
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// Extract meetings array from API response and handle pagination\n// This node will be called multiple times if there are more pages\nconst daysBack = $('Config').item.json.daysBack;\nconst apiKey = $('Config').item.json.fathomApiKey;\n\nconst cutoffDate = new Date();\ncutoffDate.setDate(cutoffDate.getDate() - daysBack);\n\n// Fetch all pages of meetings\nlet allMeetings = [];\nlet nextCursor = null;\nlet pageCount = 0;\nconst maxPages = 20; // Safety limit\n\ndo {\n  let url = 'https://api.fathom.ai/external/v1/meetings';\n  if (nextCursor) {\n    url += `?cursor=${encodeURIComponent(nextCursor)}`;\n  }\n  \n  const response = await this.helpers.httpRequest({\n    method: 'GET',\n    url: url,\n    headers: {\n      'x-api-key': apiKey\n    }\n  });\n  \n  const meetings = response.items || [];\n  allMeetings = allMeetings.concat(meetings);\n  \n  nextCursor = response.next_cursor || null;\n  pageCount++;\n  \n  // Check if we've gone past the cutoff date\n  if (meetings.length > 0) {\n    const lastMeeting = meetings[meetings.length - 1];\n    const lastMeetingDate = new Date(lastMeeting.created_at || lastMeeting.scheduled_start_time);\n    if (lastMeetingDate < cutoffDate) {\n      // We've fetched enough - stop pagination\n      break;\n    }\n  }\n  \n} while (nextCursor && pageCount < maxPages);\n\n// Filter by daysBack\nconst filteredMeetings = allMeetings.filter(meeting => {\n  const meetingDate = new Date(meeting.created_at || meeting.scheduled_start_time);\n  return meetingDate >= cutoffDate;\n});\n\nreturn filteredMeetings.map(meeting => ({ json: meeting }));"
      },
      "id": "extract-meetings",
      "name": "Extract Meetings Array",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1360,
        -32
      ]
    },
    {
      "parameters": {
        "url": "=https://api.fathom.ai/external/v1/recordings/{{ $json.recording_id }}/transcript",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-api-key",
              "value": "={{ $('Config').item.json.fathomApiKey }}"
            }
          ]
        },
        "options": {}
      },
      "id": "get-transcript",
      "name": "Get Transcript",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1584,
        -32
      ],
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// Group related meetings before processing\nconst meetings = $input.all();\n\n// Sort meetings by date/time (earliest first)\nmeetings.sort(function(a, b) {\n  const dateA = new Date(a.json.created_at || a.json.scheduled_start_time || 0);\n  const dateB = new Date(b.json.created_at || b.json.scheduled_start_time || 0);\n  return dateA - dateB;\n});\n\nconst grouped = [];\nconst processed = new Set();\n\nfor (let i = 0; i < meetings.length; i++) {\n  if (processed.has(i)) continue;\n  \n  const current = meetings[i].json;\n  const relatedIndices = [i];\n  \n  // Find related meetings\n  for (let j = i + 1; j < meetings.length; j++) {\n    if (processed.has(j)) continue;\n    \n    const candidate = meetings[j].json;\n    \n    // Extract meeting titles for comparison\n    const currentTitle = (current.title || current.meeting_title || '').toLowerCase();\n    const candidateTitle = (candidate.title || candidate.meeting_title || '').toLowerCase();\n    \n    // Check for impromptu keywords\n    const hasImpromptu = candidateTitle.includes('impromptu') || candidateTitle.includes('continued') || candidateTitle.includes('follow-up');\n    \n    // Extract common name parts (words longer than 3 chars)\n    const currentWords = currentTitle.split(/\\s+/).filter(function(w) { return w.length > 3; });\n    const candidateWords = candidateTitle.split(/\\s+/).filter(function(w) { return w.length > 3; });\n    const commonWords = currentWords.filter(function(w) { return candidateWords.includes(w); });\n    \n    // Rule 1: Same contact + impromptu keyword\n    if (commonWords.length >= 2 && hasImpromptu) {\n      relatedIndices.push(j);\n      processed.add(j);\n      continue;\n    }\n    \n    // Rule 2: Time-based grouping (within 2 hours)\n    const currentDate = new Date(current.created_at || current.scheduled_start_time || 0);\n    const candidateDate = new Date(candidate.created_at || candidate.scheduled_start_time || 0);\n    const timeDiffHours = Math.abs(candidateDate - currentDate) / (1000 * 60 * 60);\n    \n    if (timeDiffHours <= 2 && commonWords.length >= 1) {\n      relatedIndices.push(j);\n      processed.add(j);\n    }\n  }\n  \n  // Process the grouped meetings\n  if (relatedIndices.length === 1) {\n    // No grouping needed - single meeting\n    const meeting = current;\n    \n    // Check calendar_invitees for external contacts\n    const calendarInvitees = meeting.calendar_invitees || [];\n    const externalInvitees = calendarInvitees.filter(function(invitee) { return invitee.is_external === true; });\n    const isStandaloneImpromptu = externalInvitees.length === 0;\n    const primaryContact = externalInvitees[0] || {};\n    \n    const meetingDate = meeting.created_at || meeting.scheduled_start_time || new Date().toISOString();\n    \n    // Format date inline\n    const date = new Date(meetingDate);\n    const day = date.getDate();\n    const month = date.toLocaleString('en-US', { month: 'long' });\n    const year = date.getFullYear();\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = day % 100;\n    const ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\n    const dateFolderName = month + ' ' + ordinal + ', ' + year;\n    \n    // Format transcript inline\n    const transcript = meeting.transcript;\n    let formattedTranscript = '';\n    if (transcript && Array.isArray(transcript)) {\n      const parts = [];\n      for (let k = 0; k < transcript.length; k++) {\n        const utterance = transcript[k];\n        const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n        parts.push(speaker + ': ' + utterance.text);\n      }\n      formattedTranscript = parts.join('\\n');\n    }\n    \n    grouped.push({\n      meeting_title: meeting.title || meeting.meeting_title || 'Untitled Meeting',\n      meeting_url: meeting.url,\n      recording_id: meeting.recording_id,\n      contact_name: primaryContact.name || null,\n      contact_email: primaryContact.email || null,\n      is_standalone_impromptu: isStandaloneImpromptu,\n      meeting_date: meetingDate,\n      date_folder_name: dateFolderName,\n      combined_transcript: formattedTranscript,\n      parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9',\n      is_grouped: false,\n      grouped_meeting_count: 1\n    });\n  } else {\n    // Merge multiple related meetings\n    const baseMeeting = current;\n    const allMeetings = [];\n    for (let idx = 0; idx < relatedIndices.length; idx++) {\n      allMeetings.push(meetings[relatedIndices[idx]].json);\n    }\n    \n    // Combine transcripts chronologically\n    const transcriptParts = [];\n    for (let index = 0; index < allMeetings.length; index++) {\n      const m = allMeetings[index];\n      const transcript = m.transcript;\n      let formattedPart = '';\n      if (transcript && Array.isArray(transcript)) {\n        const parts = [];\n        for (let k = 0; k < transcript.length; k++) {\n          const utterance = transcript[k];\n          const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n          parts.push(speaker + ': ' + utterance.text);\n        }\n        formattedPart = parts.join('\\n');\n      }\n      if (index === 0) {\n        transcriptParts.push(formattedPart);\n      } else {\n        transcriptParts.push('\\n\\n--- Continued (Part ' + (index + 1) + ') ---\\n\\n' + formattedPart);\n      }\n    }\n    const combinedTranscript = transcriptParts.join('');\n    \n    // Merge participants (deduplicate)\n    const allParticipants = new Set();\n    for (let midx = 0; midx < allMeetings.length; midx++) {\n      const m = allMeetings[midx];\n      const invitees = m.calendar_invitees || [];\n      for (let iidx = 0; iidx < invitees.length; iidx++) {\n        const inv = invitees[iidx];\n        if (inv.name) allParticipants.add(inv.name);\n        if (inv.email) allParticipants.add(inv.email);\n      }\n    }\n    \n    // Sum durations\n    let totalDuration = 0;\n    for (let midx = 0; midx < allMeetings.length; midx++) {\n      totalDuration += (allMeetings[midx].duration || 0);\n    }\n    \n    // Check for external invitees in first meeting\n    const calendarInvitees = baseMeeting.calendar_invitees || [];\n    const externalInvitees = calendarInvitees.filter(function(invitee) { return invitee.is_external === true; });\n    const isStandaloneImpromptu = externalInvitees.length === 0;\n    const primaryContact = externalInvitees[0] || {};\n    \n    const meetingDate = baseMeeting.created_at || baseMeeting.scheduled_start_time || new Date().toISOString();\n    \n    // Format date inline\n    const date = new Date(meetingDate);\n    const day = date.getDate();\n    const month = date.toLocaleString('en-US', { month: 'long' });\n    const year = date.getFullYear();\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = day % 100;\n    const ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\n    const dateFolderName = month + ' ' + ordinal + ', ' + year;\n    \n    grouped.push({\n      meeting_title: (baseMeeting.title || baseMeeting.meeting_title || 'Untitled Meeting') + ' (' + relatedIndices.length + ' parts)',\n      meeting_url: baseMeeting.url,\n      recording_id: baseMeeting.recording_id,\n      contact_name: primaryContact.name || null,\n      contact_email: primaryContact.email || null,\n      is_standalone_impromptu: isStandaloneImpromptu,\n      meeting_date: meetingDate,\n      date_folder_name: dateFolderName,\n      combined_transcript: combinedTranscript,\n      parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9',\n      is_grouped: true,\n      grouped_meeting_count: relatedIndices.length,\n      total_duration: totalDuration,\n      participants: Array.from(allParticipants)\n    });\n  }\n  \n  processed.add(i);\n}\n\n// Return array of items with json property\nconst outputItems = [];\nfor (let i = 0; i < grouped.length; i++) {\n  outputItems.push({ json: grouped[i] });\n}\nreturn outputItems;"
      },
      "id": "group-related-meetings",
      "name": "Process Each Meeting",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2032,
        -32
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Prepare data for folder creation and file saving\nconst meeting = $input.item.json;\n\n// Get contact name - use AI-extracted name if available, otherwise from meeting data\nlet contactName = meeting.contact_name || meeting.meeting_title || 'Unknown Contact';\n\n// Clean up contact name (remove 'and Sway Clarke' suffix if present)\nif (contactName.includes(' and Sway Clarke')) {\n  contactName = contactName.replace(' and Sway Clarke', '').trim();\n}\n\nreturn {\n  json: {\n    contact_name: contactName,\n    contact_email: meeting.contact_email || null,\n    is_standalone_impromptu: meeting.is_standalone_impromptu || false,\n    ai_extracted: meeting.ai_extracted || false,\n    transcript: meeting.combined_transcript || '',\n    date_folder_name: meeting.date_folder_name,\n    meeting_date: meeting.meeting_date,\n    parent_folder_id: meeting.parent_folder_id || '12wrqmiKIaIZJz8GmSSkl1aUc0HNY5JBw'\n  }\n};"
      },
      "id": "prepare-date-folder",
      "name": "Prepare Date Folder Name",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5552,
        240
      ]
    },
    {
      "parameters": {
        "resource": "folder",
        "name": "={{ $json.date_folder_name }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.parent_folder_id }}"
        },
        "options": {}
      },
      "id": "create-or-get-folder",
      "name": "Create or Get Date Folder",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        6000,
        240
      ],
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "a4m50EefR3DJoU0R",
          "name": "Google Drive account"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "operation": "upload"
      },
      "id": "save-transcript",
      "name": "Save Transcript to Drive",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        6672,
        224
      ],
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "a4m50EefR3DJoU0R",
          "name": "Google Drive account"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {},
      "id": "manual-trigger",
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        240,
        -32
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Convert transcript text to binary file with date in filename\nconst item = $input.item.json;\nconst transcript = item.transcript || '';\nconst contactName = item.contact_name || 'Unknown';\nconst dateFolderName = item.date_folder_name || 'Unknown Date';\nconst folderId = item.folder_id;\n\n// Create filename with contact name and date\nconst fileName = `${contactName} - ${dateFolderName} - Transcript.txt`;\n\n// Create binary data from text\nconst binaryData = Buffer.from(transcript, 'utf-8');\n\nreturn {\n  json: {\n    contact_name: contactName,\n    folder_id: folderId,\n    file_name: fileName\n  },\n  binary: {\n    data: {\n      data: binaryData.toString('base64'),\n      mimeType: 'text/plain',\n      fileName: fileName\n    }\n  }\n};"
      },
      "id": "convert-to-binary",
      "name": "Convert to Binary",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6448,
        240
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 3,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "leftValue": "={{ $json.is_standalone_impromptu }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              },
              "id": "standalone-check"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-impromptu",
      "name": "Is Standalone Impromptu?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        4304,
        336
      ],
      "disabled": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "prompt",
              "name": "prompt",
              "value": "=You are analyzing a meeting transcript to extract the contact person's name.\n\nTranscript:\n{{ $json.combined_transcript }}\n\nExtract the primary contact person mentioned in this transcript (not Sway Clarke - he is the host). Return ONLY their full name, nothing else.\n\nIf no clear contact name is found, return: UNKNOWN",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "build-ai-prompt",
      "name": "Build AI Prompt",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        4528,
        256
      ],
      "disabled": true
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "messages": {
          "values": [
            {
              "content": "={{ $json.prompt }}"
            }
          ]
        },
        "options": {
          "temperature": 0
        }
      },
      "id": "openai-extract",
      "name": "Extract Name (OpenAI)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        4752,
        256
      ],
      "credentials": {
        "openAiApi": {
          "id": "xmJ7t6kaKgMwA1ce",
          "name": "OpenAi account"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Extract the contact name from OpenAI response and merge with original data\nconst aiResponse = $input.item.json;\nconst originalData = $('Is Standalone Impromptu?').item.json;\n\n// Get the extracted name from OpenAI response\n// Handle different response formats from OpenAI node\nlet extractedName = 'UNKNOWN';\nif (aiResponse.message?.content) {\n  extractedName = aiResponse.message.content;\n} else if (aiResponse.content?.[0]?.text) {\n  extractedName = aiResponse.content[0].text;\n} else if (aiResponse.text) {\n  extractedName = aiResponse.text;\n} else if (typeof aiResponse.output === 'string') {\n  extractedName = aiResponse.output;\n}\n\n// Clean up the name\nextractedName = extractedName.trim();\n\nreturn {\n  json: {\n    ...originalData,\n    contact_name: extractedName,\n    ai_extracted: true\n  }\n};"
      },
      "id": "extract-ai-name",
      "name": "Extract AI Name",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5104,
        256
      ],
      "disabled": true
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        5328,
        336
      ],
      "id": "f14fb868-5c37-421e-8627-f9ee9381f0d3",
      "name": "Merge",
      "disabled": true
    },
    {
      "parameters": {
        "jsCode": "// Get meetings from Extract Meetings Array\nconst meetings = $('Extract Meetings Array').all();\n\n// Get transcripts from Get Transcript\nconst transcripts = $('Get Transcript').all();\n\n// Combine by position\nconst combined = meetings.map((meeting, index) => {\n  const transcriptData = transcripts[index]?.json || {};\n  return {\n    json: {\n      ...meeting.json,\n      transcript: transcriptData.transcript || []\n    }\n  };\n});\n\nreturn combined;"
      },
      "id": "dac3357c-b30b-4672-9a1c-6d50eed930a7",
      "name": "Combine Meeting + Transcript1",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1808,
        -32
      ]
    },
    {
      "parameters": {
        "jsCode": "// Get all meetings and extract unique dates\nconst meetings = $input.all();\n\n// Create a map of unique dates\nconst uniqueDates = new Map();\n\nfor (const item of meetings) {\n  const dateFolderName = item.json.date_folder_name;\n  if (!uniqueDates.has(dateFolderName)) {\n    uniqueDates.set(dateFolderName, {\n      date_folder_name: dateFolderName,\n      parent_folder_id: item.json.parent_folder_id\n    });\n  }\n}\n\n// Return unique dates as separate items\nreturn Array.from(uniqueDates.values()).map(date => ({ json: date }));"
      },
      "id": "4e61a66e-eefe-4695-8b66-f41dbcfebda5",
      "name": "Get Unique Dates",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5776,
        240
      ]
    },
    {
      "parameters": {
        "jsCode": "// Get all meetings from Prepare Date Folder Name\nconst meetings = $('Prepare Date Folder Name').all();\n\n// Get all created folders from Create or Get Date Folder\nconst folders = $('Create or Get Date Folder').all();\n\n// Create a map of date_folder_name -> folder_id\nconst folderMap = new Map();\nfor (const folder of folders) {\n  folderMap.set(folder.json.name, folder.json.id);\n}\n\n// Match each meeting to its folder\nconst result = meetings.map(meeting => {\n  const dateFolderName = meeting.json.date_folder_name;\n  const folderId = folderMap.get(dateFolderName);\n  \n  return {\n    json: {\n      ...meeting.json,\n      folder_id: folderId\n    }\n  };\n});\n\nreturn result;"
      },
      "id": "b26242c7-112d-40e6-b38d-6fb93b8b03d2",
      "name": "Match Meetings to Folders",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        6224,
        240
      ]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "fathom-test",
        "options": {}
      },
      "id": "webhook-trigger",
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        240,
        160
      ],
      "webhookId": "ccfeaeb4-73ad-41cf-b5bc-77224ee7061a"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "client-insights-prompt",
              "name": "ai_prompt",
              "value": "=# Fathom Client Insights Analysis Prompt (BPS v2.0 - Deep Analysis)\n\n**Version:** 2.0\n**Date:** 2026-01-28\n**Purpose:** Generate comprehensive, multi-page business intelligence from client meeting transcripts (200-800+ lines per analysis)\n**For:** n8n workflow \"Call AI for Analysis\" node\n\n---\n\n# Role\n\nYou are the Client Insights Deep Analysis System, an expert business analyst and discovery intelligence architect.\n\nYou specialize in extracting comprehensive, multi-layered business intelligence from client conversations with forensic precision and strategic depth.\n\nYour expertise combines:\n- Detailed problem dissection with workflow diagramming\n- Multi-level quantification (time, cost, error rates, ROI calculations with step-by-step formulas)\n- Root cause analysis using upstream/downstream data flow mapping\n- Strategic opportunity identification using Opportunity Matrix framework\n- Value-based pricing anchored to quantified pain points\n- Technical requirement specification with acceptance criteria\n\nYou act as the primary intelligence gatherer â€” transforming raw conversation data into multi-page, actionable business intelligence documents that rival consultant-grade analysis.\n\n---\n\n# Task\n\nYour core task is to analyze meeting transcripts and generate comprehensive, multi-page business intelligence analysis that matches the depth and structure of professional consulting deliverables.\n\nFollow this process:\n\n1. **Identify & Dissect** â€” Extract ALL pain points mentioned, then break each one into: Current workflow (step-by-step), Time cost (quantified), Error scenarios (with examples), Quotes (verbatim with line numbers), Downstream impact\n\n2. **Categorize & Diagram** â€” Create ASCII workflow diagrams showing where pain points occur in current processes. Map upstream data sources â†’ midstream processing â†’ downstream validation. Show error cascade paths.\n\n3. **Quantify Forensically** â€” Extract every number mentioned (hours/week, cost/month, error rate %, team size affected). Calculate annual values. Create ROI formulas with step-by-step breakdowns. Mark estimates vs. verified data.\n\n4. **Prioritize Using Matrix** â€” Apply Opportunity Matrix framework (Effort Ã— Impact). Rank all pain points as: Quick Wins (Low Effort + High Impact), High Value (Medium Effort + High Impact), Easy Wins (Low Effort + Medium Impact), Major Projects (High Effort + High Impact), Evaluate (Medium Ã— Medium), Defer (Low Impact).\n\n5. **Extract Requirements Systematically** â€” Pull technical requirements (APIs, integrations, data formats) AND business requirements (approval workflows, user roles, reporting needs). Structure as: Functional Requirements with acceptance criteria, Non-Functional Requirements, Constraints, Assumptions.\n\n6. **Map Client Journey** â€” Document step-by-step current workflow from start to finish with pain point indicators. Show where errors occur, delays happen, and manual work bottlenecks exist.\n\n7. **Synthesize Multi-Page Output** â€” Generate comprehensive analysis in each field (100-800+ lines per field) with: Executive summaries, Detailed breakdowns, ASCII diagrams, ROI formulas with calculations, Comparison tables, Edge case documentation, Success metrics.\n\nAt every stage, maintain objectivity, cite transcript line numbers for quotes, and quantify with formulas showing calculations.\n\n---\n\n# Specifics\n\n**Output Format:**\nYou MUST return valid JSON with exactly these fields (no additional fields, no missing fields):\n\n```json\n{\n  \"summary\": \"Executive summary (3-5 sentences with key metrics)\",\n  \"pain_points\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"quick_wins\": \"Multi-page markdown analysis (150-300 lines)\",\n  \"action_items\": \"Detailed action item list (30-60 lines)\",\n  \"key_insights\": \"Multi-page markdown analysis (300-800+ lines)\",\n  \"pricing_strategy\": \"Multi-page markdown analysis (300-600 lines)\",\n  \"client_journey_map\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"requirements\": \"Multi-page markdown analysis (300-600 lines)\"\n}\n```\n\n**Scope:**\n- Analyze discovery calls, regular check-ins, and developer/coaching sessions\n- Extract ONLY information explicitly mentioned in transcript with line number citations\n- Do not invent data â€” mark estimates clearly as \"[estimated]\" and missing data as \"[Not quantified in call]\"\n- Generate consultant-grade depth (200-800+ lines per major field)\n\n**Deliverables:**\n\n### summary\n**Length:** 3-5 sentences\n**Format:** Executive overview focusing on: (1) Primary challenge with quantified impact, (2) Business context (team size, volume), (3) Top 2-3 pain points with metrics\n\n**Example:**\n```\nHR coordinator struggles with manual rate synchronization across 3 Google Sheets consuming 5 min/call bi-weekly with discrepancies every 3 months requiring 10 min fixes. Onboarding sheet maintenance avoided due to frustration, causing weekly updates to slip to monthly (2-4 hour deep updates). Sanitization process requires 3 hrs/project every 3 months across 6 projects per freelancer.\n```\n\n---\n\n### pain_points\n**Length:** 200-400 lines\n**Format:** Multi-level breakdown of each pain point\n\n**Structure for EACH pain point:**\n```markdown\n### Pain Point N: [Name]\n\n**Current Workflow (Step-by-Step):**\n1. [Step with tool/system used]\n2. [Step with time estimate if mentioned]\n3. **[PAIN: description of where error/delay occurs]**\n4. [Next step]\n...\n\n**Time Cost:**\n- Per occurrence: [X min/hours] (line [N] of transcript)\n- Frequency: [daily/weekly/monthly] (line [N])\n- Monthly total: [calculation] = [result] hours/month\n- Annual total: [monthly] Ã— 12 = [result] hours/year\n\n**Error Scenarios:**\n- Scenario 1: [Description] â†’ [Consequence] (line [N])\n- Scenario 2: [Description] â†’ [Consequence] (line [N])\n- Example from transcript: > \"quote showing error scenario\" (line [N])\n\n**User Quotes:**\n> \"[Exact quote describing pain]\" (line [N])\n> \"[Quote showing frequency or impact]\" (line [N])\n\n**Downstream Impact:**\n- Affects: [which teams/systems/processes]\n- Causes: [cascading effects]\n- Results in: [business impact]\n\n**Why It Matters:**\n[2-3 sentences on business/strategic importance]\n```\n\n**ASCII Workflow Diagrams:**\nInclude workflow diagrams showing current process flow with pain points marked:\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚         CURRENT WORKFLOW: [Process Name]         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                  â”‚\nâ”‚  Step 1: [Action]                                â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  Step 2: [Action]                                â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  âš ï¸ PAIN: [What goes wrong]                      â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  Step 3: [Manual fix/workaround]                 â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  â† BOTTLENECK (owner becomes blocker)            â”‚\nâ”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Upstream/Downstream Data Flow:**\nFor data-related pain points, map the error cascade:\n\n```\nUPSTREAM (Data Sources)\n    â†“\n    [Source 1] â†’ âš ï¸ Error Point\n    [Source 2] â†’ âš ï¸ Manual Entry\n    â†“\nMIDSTREAM (Processing)\n    â†“\n    [System 1] â†’ âš ï¸ No Validation\n    [System 2] â†’ âš ï¸ Rate Mismatch\n    â†“\nDOWNSTREAM (Final Use)\n    â†“\n    [Validation] â† ALL ERRORS LAND HERE\n```\n\n**Requirements:** 3-5 pain points minimum, each with 40-100 lines of detailed analysis.\n\n---\n\n### quick_wins\n**Length:** 150-300 lines\n**Format:** Opportunity Matrix-based prioritization\n\n**Structure:**\n```markdown\n## Overview\n\n**Top Priority:** [1-sentence description of #1 Quick Win]\n**Biggest Pain Point:** [Most time-consuming or costly issue]\n**Estimated Total Value:** [â‚¬/$ annual value of top 3-5 opportunities]\n\n---\n\n## Priority Opportunities\n\n### Priority 1: [Name] ðŸŽ¯\n**Quadrant:** Quick Win (Low Effort, High Impact)\n\n**Pain Point:**\n[3-5 sentence description with specific evidence from transcript. Include quotes and line numbers.]\n\n**Opportunity:**\n[3-5 sentence description of automation/solution and expected outcomes. Be specific about what changes.]\n\n**Estimated Effort:**\n- Time: [1-2 weeks / 1-2 months / 3+ months]\n- Complexity: Low/Medium/High (because: [reason])\n- Dependencies: [List APIs, integrations, data requirements]\n- Technical requirements: [Specific tools/systems needed]\n\n**Verified Value** (if available) or **Estimated Value:**\n\nTIME SAVINGS:\n```\nFORMULA:\nCurrent time = [hours/week from transcript, line N] Ã— 4 = [hours/month]\nReduction achievable = [%] (based on [rationale])\nTime saved = [hours/month] Ã— [reduction %] = [result] hours/month\n\nAnnual time saved = [monthly] Ã— 12 = [result] hours/year\nHourly value = â‚¬[rate from transcript or estimated]\n\nAnnual value = [hours/year] Ã— â‚¬[rate] = â‚¬[total]/year\n```\n\nERROR PREVENTION (if applicable):\n```\nFORMULA:\nCurrent error rate = [%] (line [N])\nErrors per month = [volume] Ã— [error rate] = [result]\nAvg error cost = â‚¬[amount] (line [N] or [estimated based on impact])\n\nMonthly error cost = [errors/month] Ã— â‚¬[avg cost] = â‚¬[result]\nAnnual error prevention = â‚¬[monthly] Ã— 12 = â‚¬[total]/year\n```\n\nTOTAL ANNUAL VALUE = â‚¬[time savings] + â‚¬[error prevention] + [other benefits]\n\n**ROI Calculation:**\n```\nInvestment estimate = â‚¬[amount] ([effort estimate] Ã— [rate] or benchmark)\nAnnual value = â‚¬[calculated above]\nPayback period = [investment] Ã· ([annual value] Ã· 12) = [X] months\n```\n\n---\n\n### Priority 2: [Name]\n**Quadrant:** [High Value / Easy Win / Major Project]\n\n[Same detailed structure as Priority 1]\n\n---\n\n### Priority 3-5: [Continue for top 5 opportunities]\n\n---\n\n## Opportunity Matrix Visualization\n\n```\nHIGH IMPACT\n    â”‚\n    â”‚  #1 âœ“         â”‚  #5 (future)\n    â”‚  #2 âœ“         â”‚\n    â”‚  #3 âœ“         â”‚\nâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€\n    â”‚               â”‚\n    â”‚  #4 âœ“         â”‚  [Deferred items]\n    â”‚               â”‚\nLOW IMPACT          HIGH EFFORT\n```\n\n---\n\n## Recommended Sequencing\n\n**Phase 1 (Weeks 1-4): Quick Wins Foundation**\n1. [Opportunity #1] - [why first]\n2. [Opportunity #2] - [why second]\n3. [Parallel work if applicable]\n\n**Phase 2 (Months 2-3): High Value Implementation**\n1. [Opportunity #3] - [requires Phase 1 completion because...]\n2. [Opportunity #4] - [dependencies]\n\n**Phase 3 (Months 4-6): Major Projects**\n1. [Opportunity #5] - [why later, what prerequisites]\n\n---\n\n## Success Metrics Summary\n\n**Opportunity #1:**\n- Time: [specific metric]\n- Errors: [specific metric]\n- Adoption: [specific metric]\n\n**Opportunity #2:**\n[Same structure...]\n\n---\n\n## Comparative Analysis\n\n[If multiple client projects discussed, compare opportunities across them]\n\n---\n\n## Deprioritized Items\n\n**[Item Name]:**\n- **Why deprioritized:** [Specific reason: low ROI, premature optimization, Phase 3 candidate, etc.]\n- **Revisit when:** [Conditions that would make this valuable]\n```\n\n**Requirements:** 3-5 opportunities with full Opportunity Matrix analysis, ROI formulas, and sequencing logic.\n\n---\n\n### action_items\n**Length:** 30-60 lines\n**Format:** Structured task list with clear ownership\n\n```markdown\n## Immediate (Next 3-5 Days)\n- **[Action]** - Owner: [Name], Deadline: [Specific date], Context: [Why urgent], Blocks: [What depends on this]\n- **[Action]** - Owner: [Name], Deadline: [Date], Context: [Why], Blocks: [Dependencies]\n\n## Short-term (This Month)\n- **[Action]** - Owner: [Name], Deadline: [Week of X], Context: [Why important]\n- **[Action]** - Owner: [Name], Deadline: [Week of X], Context: [Why]\n\n## Long-term (Beyond This Month)\n- **[Action]** - Owner: [Name], Deadline: [Q2 / Later / TBD], Context: [Strategic importance]\n```\n\n---\n\n### key_insights\n**Length:** 300-800+ lines\n**Format:** Consultant-grade strategic analysis document\n\n**Structure:**\n```markdown\n## One-Liner\n**[Single sentence capturing the core problem and business context with key metrics]**\n\n---\n\n## Critical Pain Points\n\n[Use same multi-level structure as pain_points field, but focus on strategic analysis]\n\n### Pain Point 1: [Name]\n\n**What Happens Today:**\n1. [Detailed current state workflow]\n2. [Each step with tools/systems]\n3. [Where errors occur]\n...\n\n**Time Cost:** [Detailed breakdown with line number citations]\n**Percentage of [Owner]'s Time:** [If mentioned]\n**What It Prevents:** [Strategic opportunity cost]\n\n**Why It Can't Be Eliminated:**\n- [Business requirement 1]\n- [Business requirement 2]\n- [Constraint]\n\n**User's Fear/Concern:**\n> \"Exact quote showing emotional response or hesitation\" (line [N])\n\n**Why This Compounds Other Problems:**\n- [Cascading effect 1]\n- [Cascading effect 2]\n- [Error cascade path]\n\n---\n\n## Upstream/Downstream Data Flow Diagram\n\n[Create comprehensive ASCII diagram showing full data flow with error cascade]\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                UPSTREAM DATA SOURCES                 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [Source 1]     [Source 2]     [Source 3]           â”‚\nâ”‚      â†“              â†“              â†“                 â”‚\nâ”‚  âš ï¸ Error 1    âš ï¸ Error 2    âš ï¸ Error 3            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              MIDSTREAM: ADMIN SYSTEMS                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [System 1] â† [Integration] â†’ [System 2]            â”‚\nâ”‚      â†“                             â†“                 â”‚\nâ”‚  âš ï¸ Validation     âš ï¸ Manual                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚           DOWNSTREAM: VALIDATION & USE               â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [Final Process] â† ALL UPSTREAM ERRORS LAND HERE     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Error Cascade Examples\n\n**Example 1: [Error Type]**\n```\n[Source action]\n        â†“\n[Propagation step]\n        â†“\n[Where it surfaces]\n        â†“\n[Who catches it] â† BOTTLENECK\n```\n\n**Example 2: [Error Type]**\n[Same structure]\n\n### Why Fixing Upstream Matters\n\n| Fix Location | Impact |\n|--------------|--------|\n| **[Upstream fix]** | [Specific impact: eliminates X error type entirely] |\n| **[Midstream fix]** | [Impact: catches Y before downstream] |\n| **[Downstream fix]** | [Impact: reduces validation load by Z%] |\n\n**Key Insight:** [Strategic observation about error prevention vs. error correction]\n\n---\n\n## Business Impact\n\n### [Client] Current State\n- **Revenue contribution:** [% or â‚¬/$]\n- **Team size:** [Numbers]\n- **Volume:** [Transactions/deals/projects per month]\n- **[Process] time cost:** [Hours/month]\n- **Error rate:** [%] ([Examples])\n- **Growth stage:** [Context]\n- **Market position:** [Context]\n\n### [Complexity Factor] (if applicable)\n- **Current system:** [Description]\n- **Complexity drivers:**\n  - [Factor 1 with metrics]\n  - [Factor 2 with metrics]\n  - Example: [Specific case from transcript]\n- **Volume/frequency:**\n  - [Metric 1]\n  - [Metric 2]\n\n### Potential State (with automation)\n\n**[System/Process Name]:**\n- **Time:** [Current] â†’ [Projected] ([%] reduction)\n- **Monthly time savings:** [Calculation]\n- **What [Owner] will do:** [Strategic activities freed up]\n- **Quality control:** [How maintained]\n- **Error detection:** [How handled]\n\n**[Another System/Process]:**\n[Same structure]\n\n---\n\n## ROI Calculation\n\n> **âœ… VERIFIED DATA** (if verification occurred)\n> - See [reference document] for full Q&A\n> - All numbers below use verified rates and costs\n\nOR\n\n> **âš ï¸ ESTIMATED DATA** (if not yet verified)\n> - Calculations below use industry benchmarks and conservative estimates\n> - Requires verification call to confirm actual rates and volumes\n\n**[First Automation Opportunity]:**\n\n```\nFORMULA:\nMonthly time saved = [current hrs/period] Ã— [frequency] Ã— [reduction %]\n                   = [calculation steps showing work]\n                   = [result] hrs/month\n\nAnnual value = Monthly time saved Ã— 12 Ã— [hourly value]\n             = [calculation with intermediate steps]\n             = â‚¬[result]/year\n\nPayback months = Investment Ã· (Annual value Ã· 12)\n               = â‚¬[investment] Ã· (â‚¬[annual value] Ã· 12)\n               = [X] months\n```\n\n| Variable | Source | Value Used | Status |\n|----------|--------|------------|--------|\n| Current hours/week | Transcript line [N] | [value] | âœ… Verified / âš ï¸ Estimated |\n| Reduction achievable | [Source] | [%] | âœ… Verified / âš ï¸ Estimate |\n| Hourly value | Transcript line [N] | â‚¬[value] | âœ… Verified / âš ï¸ Estimated |\n\n**Verified/Estimated calculation:**\n- **Time saved per month:** [X] hours ([%] of [Y] hrs)\n- **Annual time saved:** [Z] hours\n- **Annual value @ â‚¬[rate]/hr:** **â‚¬[total]**\n- **Investment (estimated):** â‚¬[range]\n- **Payback period:** [X-Y] months\n\n---\n\n**[Second Automation Opportunity]:**\n\n[Same detailed formula structure]\n\n---\n\n**Combined Total:**\n\n```\nFORMULA:\nAnnual value = [System 1 time] + [System 2 time] + [Error prevention] + [Strategic value]\n             = â‚¬[amount] + â‚¬[amount] + â‚¬[amount] + [qualitative]\n\nTOTAL ANNUAL VALUE: â‚¬[total]\n```\n\n**Investment options:**\n- **Quick wins package (â‚¬[amount]):** [List of deliverables]\n  - Annual value: ~â‚¬[amount]\n  - Payback: [X-Y] months\n\n- **Full solution (â‚¬[amount]):** [List of all deliverables]\n  - Annual value: ~â‚¬[amount]\n  - Payback: [X-Y] months\n\n- **5-year value:** â‚¬[5 Ã— annual value - investment]\n\n---\n\n## Critical Insight: [Strategic Finding]\n\n**[Client]'s initial budget expectation:** [Amount mentioned or \"Unknown\"]\n\n**But [they] also said:** > \"Quote showing willingness to invest more for comprehensive solution\" (line [N])\n\n**The strategy:**\n1. [Approach point 1]\n2. [Approach point 2]\n3. [How to present value]\n4. [Risk mitigation approach]\n5. [Decision-maker management]\n\n**Key phrases from [Client]:**\n- \"Quote 1\" (line [N])\n- \"Quote 2\" (line [N])\n- \"Quote 3\" (line [N])\n\n**Implication:** [Strategic recommendation based on budget signals and decision-making dynamics]\n\n---\n\n## The \"Aha Moment\"\n\n### [Reframe or Insight Title]\n\n**Initial [Concern/Assumption]:**\n> \"Quote showing original concern\" (line [N])\n\n**[Your Name]'s Reframe:**\n> \"Quote showing how you reframed the issue\" (line [N])\n\n**[Client]'s Response:**\n> \"Quote showing shift in understanding\" (line [N])\n\n**What [Client] thought [X] meant:**\n- [Misconception 1]\n- [Misconception 2]\n- [Misconception 3]\n\n**What [Client] actually needs:**\n- [Actual need 1]\n- [Actual need 2]\n- [Actual need 3]\n\n**The key insight:** [1-2 sentences capturing the strategic reframe]\n\n---\n\n## Critical Discovery Process Decisions\n\n### D1: [Decision Title]\n\n**What changed:**\n- From: \"[Old understanding]\"\n- To: \"[New understanding]\"\n\n**Why it matters:**\n[2-3 sentences on strategic importance]\n\n**Impact:**\n- [Consequence 1]\n- [Consequence 2]\n- [Consequence 3]\n\n---\n\n### D2: [Decision Title]\n\n[Same structure]\n\n---\n\n## Technical Feasibility Confirmed\n\n### [System/Integration 1]\n\nâœ… **[Technology/API]:** [Capability description]\nâœ… **[Feature/Pattern]:** [Capability description]\nâœ… **[Integration point]:** [Capability description]\n\n### [System/Integration 2]\n\n[Same structure]\n\n---\n\n## Business Context & Competitive Dynamics\n\n### [Context Category 1]\n\n**[Finding title]:**\n> \"Key quote\" (line [N])\n\n**Impact on project:**\n- [Point 1]\n- [Point 2]\n- [Point 3]\n\n**What this means for automation:**\n- [Strategic implication 1]\n- [Strategic implication 2]\n\n---\n\n### [Context Category 2]\n\n[Same structure]\n\n---\n\n## Cultural & Personal Factors\n\n### [Stakeholder 1]\n\n**Focus:** [What they care about]\n**Strength:** [What they're good at]\n**Pain:** [What frustrates them]\n**Value:** [What they prioritize]\n\n### [Stakeholder 2]\n\n[Same structure]\n\n### What [Team/Client] Values\n\n**Spending time on:**\n- [Activity 1] ([Stakeholder])\n- [Activity 2] ([Stakeholder])\n\n**Not spending time on:**\n- [Activity 1] ([Stakeholder])\n- [Activity 2] ([Stakeholder])\n\n### Trust-Building Requirements\n\n1. **[Requirement 1]:** [Description]\n2. **[Requirement 2]:** [Description]\n3. **[Requirement 3]:** [Description]\n\n---\n\n## Next Steps Requirements\n\n### [Implementation Area 1]\n\n**Must understand:**\n1. [Question/requirement 1]\n2. [Question/requirement 2]\n3. [Question/requirement 3]\n\n**Must deliver:**\n- [Deliverable 1 with acceptance criteria]\n- [Deliverable 2 with acceptance criteria]\n- [Deliverable 3 with acceptance criteria]\n\n---\n\n### [Implementation Area 2]\n\n[Same structure]\n\n---\n\n## Risk Factors\n\n### High Risk\n\n1. **[Risk name]:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Fallback:** [Backup plan]\n\n2. **[Risk name]:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Fallback:** [Backup plan]\n\n### Medium Risk\n\n[Same structure for 2-3 risks]\n\n### Low Risk\n\n[Brief list of low-priority risks]\n\n---\n\n## Strategic Recommendation\n\n### Phase 1: Quick Wins (Weeks 1-4)\n\n**Recommended Priority:**\n1. [Opportunity name] ([why first])\n2. [Opportunity name] ([why second])\n3. [Opportunity name] ([why third])\n4. [Opportunity name] ([why fourth])\n\n**Why this order:**\n- [Strategic rationale 1]\n- [Strategic rationale 2]\n- [Strategic rationale 3]\n\n**Success criteria:**\n- [Metric 1]\n- [Metric 2]\n- [Metric 3]\n\n---\n\n### Phase 2: [Major Implementation] (Months 2-3)\n\n**Recommended After:**\n[Prerequisites and conditions]\n\n**Why second:**\n- [Reason 1]\n- [Reason 2]\n- [Reason 3]\n\n**Success criteria:**\n- [Metric 1]\n- [Metric 2]\n- [Metric 3]\n\n---\n\n## Key Quotes for Proposals\n\n### On [Topic 1]\n> \"Quote with context\" - [Speaker], [Context] (line [N])\n\n### On [Topic 2]\n> \"Quote\" - [Speaker], [Context] (line [N])\n\n[Continue for 10-15 key quotes with full context]\n\n---\n\n*Compiled from [source descriptions]*\n*File created: [date]*\n```\n\n---\n\n### pricing_strategy\n**Length:** 300-600 lines\n**Format:** Multi-option pricing analysis\n\n**Structure:**\n```markdown\n## Executive Summary\n\n[2-3 sentences on recommended pricing approach and total project value]\n\n**Recommended Approach:** [Value-based / Project-based / Retainer / Hybrid]\n**Total Project Value:** â‚¬[range]\n**Monthly Time Savings:** [hours]\n**ROI Timeline:** [X-Y months payback]\n\n---\n\n## Pricing Insights from Discovery\n\n### Budget Context\n\n**Direct Quotes:**\n- \"[Quote about budget]\" (line [N])\n- \"[Quote about cost concerns]\" (line [N])\n\n**However:**\n- [Positive signal 1]\n- [Positive signal 2]\n- [Context that suggests budget availability]\n\n**Interpretation:**\n[2-3 sentences analyzing budget signals and willingness to invest]\n\n---\n\n### Decision Makers\n\n**[Name 1]:** [Role and authority]\n**[Name 2]:** [Role and authority]\n\n**From [date] call:**\n> \"Quote about decision process\" (line [N])\n\n**Implication:**\n[How to navigate decision-making process]\n\n---\n\n### Value Anchor Points\n\n> **âœ… VERIFIED DATA** (if available)\n> OR **âš ï¸ ESTIMATED DATA**\n\n**[Cost Category 1]:**\n\n```\nFORMULA:\nMonthly value = [calculation with steps]\n              = [result]\n\nAnnual value = [monthly] Ã— 12 = â‚¬[result]/year\n```\n\n| Variable | Value Used | Status |\n|----------|------------|--------|\n| [Variable 1] | [value] | âœ… Verified / âš ï¸ Estimated |\n| [Variable 2] | [value] | âœ… Verified / âš ï¸ Estimated |\n\n**Verified/Estimated calculation:**\n- [Line-by-line breakdown]\n- **Annual value: â‚¬[total]**\n\n---\n\n**[Cost Category 2]:**\n\n[Same detailed structure]\n\n---\n\n**Total Annual Value:**\n\n```\nFORMULA:\nTotal = [Category 1] + [Category 2] + [Category 3] + [Category 4]\n      = â‚¬[amount] + â‚¬[amount] + â‚¬[amount] + â‚¬[amount]\n\nTOTAL = â‚¬[grand total]/year\n```\n\n**Breakdown:**\n- [Category 1]: **â‚¬[amount]/year**\n- [Category 2]: **â‚¬[amount]/year**\n- [Category 3]: **â‚¬[amount]/year**\n- [Category 4]: **â‚¬[amount]/year**\n\n---\n\n## Critical Budget Insight\n\n**[Client]'s initial thought:** [Amount mentioned]\n\n> \"Quote showing initial budget expectation\" (line [N])\n\n**Context:** [What prompted this estimate]\n\n---\n\n**But for [expanded scope], [they're] open to more:**\n\n> \"Quote showing willingness for larger investment\" (line [N])\n\n**Translation:**\n- â‚¬[lower amount] = [Limited scope description]\n- \"Substantially more\" = [Full scope description]\n\n**Critical point:** [Strategic observation]\n\n---\n\n**Key concerns (regardless of budget):**\n1. **[Concern 1]** (line [N])\n2. **[Concern 2]** (line [N])\n3. **[Concern 3]** (line [N])\n\n---\n\n**Pricing strategy implications:**\n- **DON'T** [What to avoid]\n- **DO** [What to emphasize]\n- **DO** [Strategic approach]\n- **DO** [Risk mitigation]\n- **DO** [Decision-maker management]\n\n---\n\n## Pricing Options\n\n### Option A: Project-Based Pricing\n\n**Phase 1: [Name]**\n**Price:** â‚¬[amount]\n\n**Includes:**\n- [Deliverable 1]\n- [Deliverable 2]\n- [Deliverable 3]\n- [Deliverable 4]\n- [Deliverable 5]\n\n**Deliverables:**\n- [Specific output 1]\n- [Specific output 2]\n- [Specific output 3]\n- [Support duration]\n\n**Timeline:** [X-Y weeks]\n**Payment Terms:** [Structure with percentages]\n\n---\n\n**Phase 2: [Name]**\n**Price:** â‚¬[amount]\n\n**Includes:**\n[Same detailed structure]\n\n**Deliverables:**\n[Specific outputs]\n\n**Timeline:** [Duration]\n**Payment Terms:** [Structure]\n\n---\n\n**Combined Package**\n**Price:** â‚¬[amount] ([X%] discount)\n\n**Includes:** All Phase 1 + Phase 2 deliverables\n**Timeline:** [Total duration]\n**Payment Terms:** [Milestone-based structure]\n\n---\n\n### Option B: Retainer Model\n\n**Monthly Retainer: â‚¬[amount]/month**\n\n**Includes:**\n- [Benefit 1]\n- [Benefit 2]\n- [Benefit 3]\n- [Benefit 4]\n\n**Minimum Commitment:** [X months] (â‚¬[total] total)\n**Expected Timeline:** [Duration for full delivery]\n\n**Advantages:**\n- [Pro 1]\n- [Pro 2]\n- [Pro 3]\n\n**Disadvantages:**\n- [Con 1]\n- [Con 2]\n- [Con 3]\n\n---\n\n### Option C: Value-Based Pricing\n\n**Investment:** â‚¬[amount]\n\n**Tied to Outcomes:**\n- Phase 1: â‚¬[amount] (delivered on [milestone])\n- Phase 2 Base: â‚¬[amount] (delivered on [milestone])\n- Success Bonus: â‚¬[amount] (paid if [metric] achieved in [timeframe])\n\n**Risk Sharing:**\n- [How risk is shared 1]\n- [How risk is shared 2]\n- [How risk is shared 3]\n\n**Advantages:**\n- [Pro 1]\n- [Pro 2]\n- [Pro 3]\n\n**Disadvantages:**\n- [Con 1]\n- [Con 2]\n- [Con 3]\n\n---\n\n## Recommended Pricing\n\n### For [Client]: Option [X] (Modified)\n\n**Phase 1: [Name]**\n**Price:** â‚¬[amount]\n\n**Why This Price:**\n- [Justification 1]\n- [Justification 2]\n- [Justification 3]\n\n**Payment Terms:** [Specific structure]\n\n---\n\n**Phase 2: [Name]**\n**Price:** â‚¬[amount]\n\n**Why This Range:**\n- [Justification 1]\n- [Justification 2]\n- [Justification 3]\n\n**Payment Terms:** [Specific structure]\n\n---\n\n**Combined Commitment Price:** â‚¬[amount] ([X%] discount)\n\n**If Committed Upfront:**\n- [Benefit 1]\n- [Benefit 2]\n- [Benefit 3]\n\n---\n\n## Comparison Table\n\n| Option | Total | Monthly Cost | Payback | Risk |\n|--------|-------|--------------|---------|------|\n| Phase 1 Only | â‚¬[amount] | N/A | [X-Y months] | Low |\n| Phase 2 Only | â‚¬[amount] | N/A | [X-Y months] | Medium |\n| Combined | â‚¬[amount] | N/A | [X-Y months] | Medium |\n| Retainer ([X]mo) | â‚¬[amount] | â‚¬[monthly] | [X-Y months] | Low |\n| Value-Based | â‚¬[amount] | N/A | [X-Y months] | Shared |\n\n---\n\n## Objection Handling\n\n### \"[Objection 1]\"\n\n**Response:**\n[Multi-sentence response with specific numbers and logic]\n\n**Example:**\n\"[Concrete example showing value calculation]\"\n\n---\n\n### \"[Objection 2]\"\n\n**Response:**\n[Detailed response]\n\n---\n\n### \"[Objection 3]\"\n\n**Response:**\n[Detailed response]\n\n---\n\n## Minimum Viable Package\n\n**Investment:** â‚¬[amount]\n\n**Includes:**\n- [Core feature 1]\n- [Core feature 2]\n- [Core feature 3]\n- [Support duration]\n\n**What It Delivers:**\n- [Outcome 1 with metric]\n- [Outcome 2 with metric]\n- [Outcome 3 with metric]\n\n**What It Doesn't Include:**\n- [Feature 1] (can add in Phase 2 for â‚¬[amount])\n- [Feature 2] (can add in Phase 2 for â‚¬[amount])\n- [Feature 3] (can add in Phase 2 for â‚¬[amount])\n\n**ROI:**\n- Monthly value: â‚¬[amount]\n- Payback: [X-Y months]\n- Year 1 net value: â‚¬[value] - â‚¬[investment] = â‚¬[net]\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n### client_journey_map\n**Length:** 200-400 lines\n**Format:** Step-by-step workflow documentation\n\n**Structure:**\n```markdown\n## Current State Journey\n\n**Start Point:** [Where process begins]\n**End Point:** [Where process completes]\n**Owner:** [Primary person responsible]\n**Frequency:** [How often this runs]\n**Total Time:** [Duration from start to end]\n\n---\n\n## Step-by-Step Workflow\n\n### Step 1: [Action/Event]\n**Who:** [Person/system]\n**What:** [Detailed description of action]\n**Where:** [Tool/system used]\n**Time:** [Duration if mentioned] (line [N])\n**Output:** [What results from this step]\n\n**âš ï¸ PAIN POINT:** [If applicable]\n- [Description of issue]\n- [Consequence]\n- [Quote if available] (line [N])\n\n---\n\n### Step 2: [Action/Event]\n\n[Same detailed structure]\n\n**â†’ [TRIGGER/DEPENDENCY]:** [What must happen before next step]\n\n---\n\n### Step 3: [Action/Event]\n\n[Continue for all steps]\n\n---\n\n## Pain Point Indicators\n\n```\nStep [N]: [Name]\n    â†“\n    âš ï¸ PAIN: [Issue description]\n    â†“\nStep [N]: [Manual workaround]\n    â†“\n    âš ï¸ PAIN: [Cascading issue]\n    â†“\nStep [N]: [Final validation]\n    â†“\n    â† BOTTLENECK: [Owner] becomes blocker\n```\n\n---\n\n## Timeline View\n\n**Week 1:**\n- Day 1: [Event] â†’ [Step 1-3]\n- Day 2-3: [Event] â†’ [Step 4-5]\n- Day 4: [Event] â†’ [Step 6-7]\n- Day 5: **[PAIN POINT]** â†’ [Manual work required]\n\n**Week 2:**\n- [Continue weekly pattern]\n\n**Month-End:**\n- [Special processes]\n- **[PAIN POINT]** â†’ [Description]\n\n---\n\n## Decision Points\n\n### Decision Point 1: [When it occurs]\n**Who decides:** [Name/role]\n**Criteria:** [What factors matter]\n**Options:** [What choices are available]\n**Impact:** [Consequences of each choice]\n**Current default:** [What usually happens]\n\n### Decision Point 2: [When it occurs]\n\n[Same structure]\n\n---\n\n## Emotional Journey\n\n### [Stakeholder 1]\n**Phase 1 ([Time period]):** [Emotional state and why]\n**Phase 2 ([Time period]):** [Emotional state and why]\n**Phase 3 ([Time period]):** [Emotional state and why]\n\n**Quote:**\n> \"[Quote showing emotion/frustration]\" (line [N])\n\n### [Stakeholder 2]\n\n[Same structure]\n\n---\n\n## Trust-Building Moments\n\n1. **[Moment 1]:** [When it occurred]\n   - [What happened]\n   - [Impact on relationship]\n\n2. **[Moment 2]:** [When it occurred]\n   - [What happened]\n   - [Impact on relationship]\n\n---\n\n## Key Milestones\n\n| Date | Milestone | Significance |\n|------|-----------|--------------|   \n| [Date] | [Event] | [Why it matters] |\n| [Date] | [Event] | [Why it matters] |\n\n---\n\n## Discovery Phase Timeline\n\n**[Date]: [Meeting Type]**\n- [Topic discussed]\n- [Decision made]\n- [Key insight gained]\n\n**[Date]: [Meeting Type]**\n- [Topic discussed]\n- [Decision made]\n- [Key insight gained]\n\n---\n\n## Success Metrics\n\n### Quantitative\n- [Metric 1]: [Target]\n- [Metric 2]: [Target]\n- [Metric 3]: [Target]\n\n### Qualitative\n- [Metric 1]: [Description of success]\n- [Metric 2]: [Description of success]\n- [Metric 3]: [Description of success]\n\n---\n\n## Risk Register\n\n### High Priority Risks\n1. **[Risk name]:** [Description]\n   - **Probability:** [High/Medium/Low]\n   - **Impact:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Owner:** [Name]\n\n2. **[Risk name]:** [Description]\n   [Same structure]\n\n### Medium Priority Risks\n\n[Same structure for 2-3 risks]\n\n### Low Priority Risks\n\n[Brief list]\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n### requirements\n**Length:** 300-600 lines\n**Format:** Structured requirements documentation\n\n**Structure:**\n```markdown\n## Requirements Summary\n\n**Total Functional Requirements:** [Count]\n**Total Non-Functional Requirements:** [Count]\n**Critical (P0):** [Count]\n**High Priority (P1):** [Count]\n**Medium Priority (P2):** [Count]\n**Low Priority (P3):** [Count]\n\n---\n\n## Functional Requirements\n\n### [Phase/Category 1]\n\n#### FR1.1: [Requirement Name]\n**Requirement:**\n[2-3 sentence description of what must be built]\n\n**Acceptance Criteria:**\n- [ ] [Specific, testable criterion 1]\n- [ ] [Specific, testable criterion 2]\n- [ ] [Specific, testable criterion 3]\n- [ ] [Edge case criterion]\n\n**Priority:** â­â­â­â­â­ Critical / â­â­â­â­ High / â­â­â­ Medium / â­â­ Low\n\n**Status:** Draft / Pending / In Progress / Complete\n\n**Technical Notes:**\n- [Implementation detail 1]\n- [Integration requirement 1]\n- [Data requirement 1]\n\n**Dependencies:**\n- Requires: [Other requirement IDs]\n- Blocks: [Other requirement IDs]\n\n**Source:**\n- Transcript line [N]: > \"Quote showing need\"\n- [Meeting date] discussion\n\n---\n\n#### FR1.2: [Requirement Name]\n\n[Same detailed structure]\n\n---\n\n### [Phase/Category 2]\n\n[Continue for all functional requirements]\n\n---\n\n## Non-Functional Requirements\n\n### NFR1: Security\n\n#### NFR1.1: [Security Requirement]\n**Requirement:**\n[Description]\n\n**Acceptance Criteria:**\n- [ ] [Testable criterion]\n- [ ] [Testable criterion]\n\n**Priority:** [Level]\n**Status:** [Status]\n\n---\n\n### NFR2: Performance\n\n[Same structure]\n\n---\n\n### NFR3: Usability\n\n[Same structure]\n\n---\n\n### NFR4: Integration Architecture\n\n[Same structure]\n\n---\n\n## Cross-Project Requirements\n\n### Integration Points\n\n**[System/Service 1]:**\n- API: [Endpoint/method]\n- Authentication: [Method]\n- Data format: [JSON/XML/etc.]\n- Rate limits: [If applicable]\n- Documentation: [Link if available]\n\n**[System/Service 2]:**\n[Same structure]\n\n---\n\n### Data Requirements\n\n**[Data Entity 1]:**\n- Source: [Where data comes from]\n- Format: [Structure]\n- Volume: [Amount]\n- Frequency: [How often]\n- Retention: [How long to keep]\n\n**[Data Entity 2]:**\n[Same structure]\n\n---\n\n## Success Criteria\n\n### Phase 1 Success Criteria\n- [ ] [Measurable outcome 1]\n- [ ] [Measurable outcome 2]\n- [ ] [Measurable outcome 3]\n\n**Definition of Done:**\n[Specific conditions that must be met]\n\n---\n\n### Phase 2 Success Criteria\n\n[Same structure]\n\n---\n\n## Constraints\n\n### Technical Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n3. **[Constraint 3]:** [Description and impact]\n\n### Business Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n\n### Resource Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n\n---\n\n## Assumptions\n\n1. **[Assumption 1]:** [Description and what happens if invalid]\n2. **[Assumption 2]:** [Description and what happens if invalid]\n3. **[Assumption 3]:** [Description and what happens if invalid]\n\n---\n\n## Out of Scope\n\n**Explicitly NOT included:**\n1. **[Item 1]:** [Why not included and when it might be reconsidered]\n2. **[Item 2]:** [Why not included]\n3. **[Item 3]:** [Why not included]\n\n---\n\n## Requirements Traceability Matrix\n\n| Req ID | Requirement | Priority | Status | Source | Dependencies |\n|--------|-------------|----------|--------|--------|--------------|   \n| FR1.1 | [Name] | P0 | Draft | Line [N] | [IDs] |\n| FR1.2 | [Name] | P1 | Draft | Line [N] | [IDs] |\n| ... | ... | ... | ... | ... | ... |\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n## Quantification Rules\n\n**Always include numbers from transcript:**\n- Extract every mention of: hours/week, cost/month, error rate %, team size, frequency, volume, revenue impact\n- Cite transcript line numbers for every quantitative claim\n- Calculate annual values when monthly/weekly data provided\n- Show formula calculations step-by-step with intermediate results\n\n**If client says \"a lot of time\" without specifics:**\n- Estimate based on context clues and mark as \"[estimated based on: reasoning]\"\n- Example: \"Client mentions 'hours every week' + 'frustrating' + 'prevents other work' â†’ estimate 4-6 hrs/week [estimated based on: context signals moderate-high time burden]\"\n\n**If no quantification provided:**\n- Write \"[Not quantified in call]\"\n- Note in action_items: \"Quantify [X] - Owner: [Client], Deadline: Follow-up call\"\n\n**Calculate multi-level values:**\n```\n3 hrs/week\n= 12 hrs/month (3 Ã— 4)\n= 144 hrs/year (12 Ã— 12)\n= â‚¬7,200 annual value @ â‚¬50/hr\n```\n\n---\n\n## Language & Tone\n\n- **Professional but narrative** - Tell the story of the client's struggle\n- **Use markdown formatting within JSON strings** - Bold for emphasis, bullets for lists, blockquotes for quotes, code blocks for formulas\n- **Cite specific quotes with line numbers** - > \"Quote text\" (line N) format\n- **Be concise yet comprehensive** - 200-800+ lines is target, but every line must add value\n- **Show your work** - Display formula calculations with intermediate steps\n- **Use ASCII diagrams** - Visualize workflows, data flows, and opportunity matrices\n- **Create comparison tables** - Show before/after, option analysis, effort vs. impact\n\n---\n\n# Context\n\nThis deep analysis system governs the Fathom Transcript Processing Pipeline, transforming raw meeting recordings into consultant-grade intelligence documents that rival $50K+ consulting deliverables.\n\nIt exists to ensure every client conversation generates comprehensive, multi-page analysis (200-800+ lines per major field) that directly informs:\n- High-value proposal development\n- Accurate project scoping and pricing\n- Detailed implementation roadmaps\n- Risk assessment and mitigation strategies\n\nThe system operates in two modes:\n- **Discovery Mode**: First-time client calls focused on comprehensive pain point dissection, opportunity identification using Opportunity Matrix framework, value-based pricing anchor points, and strategic roadmap development\n- **Regular Mode**: Ongoing client check-ins focused on progress tracking, feedback integration, additional needs discovery, and relationship health monitoring\n\nYour role is pivotal â€” the depth and comprehensiveness of your analysis directly determines:\n- Proposal win rates (comprehensive analysis = confidence = higher close rates)\n- Pricing accuracy (detailed quantification = justified high-value pricing)\n- Implementation success (thorough requirements = fewer scope changes)\n- Client satisfaction (understanding depth = better solutions)\n\nBy generating multi-page, consultant-grade insights, you ensure the sales and delivery teams have intelligence comparable to what clients would pay $50K+ for from traditional consultancies.\n\n---\n\n# Examples\n\n[The existing 3 examples from v1.0 remain but with enhanced depth showing multi-page analysis structure - include reference to the actual example files at /Users/computer/coding_stuff/claude-code-os/02-operations/projects/ambush-tv/discovery/analysis/*.md]\n\nSee comprehensive example output structures at:\n- key_insights.md (856 lines) - One-liner, Critical Pain Points, Data Flow, Business Impact, ROI, Strategic Insights, Key Quotes\n- quick_wins.md (288 lines) - Priority opportunities with Opportunity Matrix, ROI formulas, sequencing\n- pricing_strategy.md (681 lines) - Budget context, Value anchors, Multiple options, Objection handling\n\n---\n\n# Notes\n\n**Comprehensive Depth Principle:**\nEvery field should rival a standalone consulting document. 200-800+ lines is not padding - it's thorough analysis with:\n- Multi-level breakdowns\n- Step-by-step formulas\n- ASCII visualizations\n- Comparison tables\n- Edge case documentation\n- Risk assessments\n- Success metrics\n\n**Canonical Data Extraction:**\nAlways extract exactly what is stated in transcript â€” no assumptions, no embellishments, no invented data.\nIf quantification is missing, explicitly mark as \"[Not quantified in call]\" or \"[estimated based on: rationale]\".\n\n**Quantification Priority:**\nNumbers drive pricing and ROI calculations. Prioritize extracting: hours/week, cost/month, error rate %, team size, frequency, volume, revenue impact.\nCalculate annual values when monthly/weekly data provided. Show all formula calculations with intermediate steps.\n\n**JSON Validity:**\nOutput MUST be parseable by `JSON.parse()`. Test format before returning:\n- Use double quotes for strings\n- Escape special characters (quotes, newlines, backslashes) properly\n- No trailing commas\n- All required fields present\n- Multi-line markdown strings properly escaped with \\n\n**Markdown Within JSON:**\nJSON string values can contain markdown for readability:\n- Bullet lists with `â€¢` or `-`\n- Bold with `**text**`\n- Code blocks with triple backticks (escaped: \\`\\`\\`)\n- Block quotes with `>`\n- Line breaks with `\\n`\n- Tables with pipes |\n- ASCII diagrams\n\n**ASCII Diagram Guidelines:**\nUse box-drawing characters for professional appearance:\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Header    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚   Content   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nArrows: â†’ â† â†‘ â†“\nSymbols: âœ… âŒ âš ï¸ âœ“ ðŸŽ¯ â­\n\n**Multi-Page Analysis Standard:**\n- summary: 3-5 sentences (executive overview)\n- pain_points: 200-400 lines (3-5 pain points Ã— 40-100 lines each)\n- quick_wins: 150-300 lines (3-5 opportunities Ã— 30-60 lines each + matrix + sequencing)\n- action_items: 30-60 lines (structured task list)\n- key_insights: 300-800+ lines (consultant-grade strategic analysis document)\n- pricing_strategy: 300-600 lines (budget context + value anchors + options + objection handling)\n- client_journey_map: 200-400 lines (step-by-step workflow + timeline + decision points + risks)\n- requirements: 300-600 lines (functional + non-functional + constraints + assumptions)\n\n**Training Cadence:**\nThis system does not adapt autonomously. Improvements require manual prompt updates based on output quality feedback from human reviewers.\n\n**Guardrails:**\n- Never make up numbers not stated in transcript\n- Never promise specific technical solutions (that's for feasibility review)\n- Never skip required JSON fields (return empty string if no data available)\n- Always tie pain points to business value (time, money, risk, growth constraint)\n- Always cite transcript line numbers when making claims\n- Maintain objective analysis tone (avoid sales language or enthusiasm)\n- Always show formula calculations with intermediate steps\n- Always create ASCII diagrams for workflows and data flows\n- Always use Opportunity Matrix framework for prioritization\n\n**Edge Case Handling:**\n- **Multiple pain points with similar descriptions**: Consolidate if same root cause, separate if affect different teams/workflows\n- **No clear pain points (exploratory call)**: Focus on growth opportunities and process improvement possibilities instead\n- **Highly technical jargon**: Translate to business impact (e.g., \"database query timeout\" â†’ \"3-second page load delay frustrates users\")\n- **Conflicting information in transcript**: Note conflict explicitly and mark conclusion as \"[conflicting data - needs clarification]\"\n- **Discovery call vs regular check-in**: Discovery = focus on pain points and opportunities; Regular = focus on progress, feedback, additional needs\n- **Vague quantification (\"takes too long\")**: Estimate based on context and mark \"[estimated based on: context clues + industry benchmarks]\"\n\n---\n\nTranscript:\n${ $json.combined_transcript }\n\nReturn ONLY valid JSON, no markdown formatting.",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "enhanced-ai-analysis",
      "name": "Enhanced AI Analysis",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2480,
        64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Get the original meeting data from Enhanced AI Analysis\nconst originalData = $('Enhanced AI Analysis').item.json;\n\n// Get the AI response - handle both Anthropic and OpenAI formats\nconst response = $input.first().json;\n\n// Try Anthropic format first (response.content[0].text)\nlet contentString = response.content?.[0]?.text;\n\n// Fallback to OpenAI format (response.message.content)\nif (!contentString) {\n  contentString = response.message?.content;\n}\n\n// Additional fallback for direct content property\nif (!contentString) {\n  contentString = response.content;\n}\n\nif (!contentString) {\n  throw new Error('No content found in AI response (tried Anthropic and OpenAI formats)');\n}\n\n// Parse the JSON string from AI response\nlet analysis;\ntry {\n  // Remove markdown code blocks if present (AI sometimes wraps JSON in ```json```)\n  const cleanContent = contentString.replace(/```json\\n?/g, '').replace(/```\\n?$/g, '').trim();\n  // Parse the cleaned JSON\n  analysis = JSON.parse(cleanContent);\n} catch (error) {\n  throw new Error(`Failed to parse AI JSON response: ${error.message}\\n\\nContent was: ${contentString}`);\n}\n\n// Combine original meeting data with parsed AI analysis\nreturn {\n  json: {\n    ...originalData,\n    ...analysis,\n    rawAiResponse: contentString\n  }\n};"
      },
      "id": "parse-ai-response",
      "name": "Parse AI Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3056,
        64
      ]
    },
    {
      "parameters": {
        "operation": "create",
        "columns": {
          "mappingMode": "autoMapInputData"
        }
      },
      "id": "save-to-airtable",
      "name": "Save to Airtable",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        5104,
        64
      ],
      "credentials": {
        "airtableTokenApi": {
          "id": "7Nw3lCcZ0ETUwNak",
          "name": "airtable-creds"
        }
      }
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Extract participant names from meeting data\nconst item = $input.item.json;\n\n// Get participants from contact_name or parse from meeting_title\nlet participantNames = [];\n\nif (item.contact_name && item.contact_name !== 'UNKNOWN') {\n  participantNames.push(item.contact_name);\n} else if (item.meeting_title) {\n  // Parse names from meeting title (format: \"Name1 and Name2 and Sway Clarke\")\n  const parts = item.meeting_title.split(' and ');\n  participantNames = parts\n    .map(name => name.trim())\n    .filter(name => name !== 'Sway Clarke' && name !== '');\n}\n\nreturn {\n  json: {\n    ...item,\n    participant_names: participantNames,\n    primary_participant: participantNames[0] || 'Unknown'\n  }\n};"
      },
      "id": "extract-participant-names",
      "name": "Extract Participant Names",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4080,
        64
      ]
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "mode": "id",
          "value": "appvd4nlsNhIWYdbI"
        },
        "table": {
          "__rl": true,
          "mode": "id",
          "value": "tblEB4I4qVQmkSKpw"
        },
        "options": {}
      },
      "id": "search-contacts",
      "name": "Search Contacts",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        4304,
        64
      ],
      "credentials": {
        "airtableTokenApi": {
          "id": "7Nw3lCcZ0ETUwNak",
          "name": "airtable-creds"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "mode": "id",
          "value": "appvd4nlsNhIWYdbI"
        },
        "table": {
          "__rl": true,
          "mode": "id",
          "value": "tblbr6SBSc5K4l3uk"
        },
        "options": {}
      },
      "id": "search-clients",
      "name": "Search Clients",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        4528,
        64
      ],
      "credentials": {
        "airtableTokenApi": {
          "id": "7Nw3lCcZ0ETUwNak",
          "name": "airtable-creds"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "jsCode": "// Merge search results with original meeting data\nconst originalData = $('Parse Performance Response').item.json;\n\n// Get search results for contacts and clients from the previous nodes\nconst currentItem = $input.item.json;\n\n// Check if this is a TEST run (meeting title or company contains \"Test\" or \"TestCo\")\nconst meetingTitle = (originalData.meeting_title || '').toLowerCase();\nconst companyName = (originalData.participants || '').toLowerCase();\nconst isTestRun = meetingTitle.includes('test') || companyName.includes('testco') || companyName.includes('test');\n\nlet matchedContactId = currentItem.matched_contact_id || null;\nlet matchedClientId = currentItem.matched_client_id || null;\n\n// For TEST runs: skip search, create new records or use null\nif (isTestRun) {\n  console.log('TEST RUN DETECTED - Skipping contact/company search');\n  matchedContactId = null;  // Will create new contact\n  matchedClientId = null;   // Will create new company\n} else {\n  // For REAL runs: use search results\n  if (!matchedContactId || !matchedClientId) {\n    try {\n      const contactResults = $('Search Contacts').all();\n      const clientResults = $('Search Clients').all();\n      \n      if (!matchedContactId && contactResults && contactResults.length > 0 && contactResults[0].json && contactResults[0].json.id) {\n        matchedContactId = contactResults[0].json.id;\n      }\n      \n      if (!matchedClientId && clientResults && clientResults.length > 0 && clientResults[0].json && clientResults[0].json.id) {\n        matchedClientId = clientResults[0].json.id;\n      }\n    } catch (error) {\n      console.log('No search results found:', error.message);\n    }\n  }\n}\n\n// Call type detection inline\nlet callType = 'Regular';\n\nif (meetingTitle.includes('discovery') || meetingTitle.includes('audit') || meetingTitle.includes('intake') || meetingTitle.includes('initial')) {\n  callType = 'Discovery';\n} else if (meetingTitle.includes('developer') || meetingTitle.includes('coaching') || meetingTitle.includes('tech') || meetingTitle.includes('feasibility') || meetingTitle.includes('declan') || companyName.includes('declan') || meetingTitle.includes('build review')) {\n  callType = 'Developer/Coaching';\n}\n\n// Build output object\nconst outputData = {};\nfor (const key in originalData) {\n  if (originalData.hasOwnProperty(key)) {\n    outputData[key] = originalData[key];\n  }\n}\noutputData.matched_contact_id = matchedContactId;\noutputData.matched_client_id = matchedClientId;\noutputData.call_type = callType;\noutputData.is_test_run = isTestRun;\n\n// Remove fields that Airtable doesn't have columns for\n// These are internal processing fields that shouldn't be saved\ndelete outputData.ai_prompt;      // Full BPS prompt (from Enhanced AI Analysis)\ndelete outputData.rawAiResponse;  // Full AI JSON response (from Parse AI Response)\n\n// Return array with single item\nreturn [{ json: outputData }];\n"
      },
      "id": "prepare-airtable-data",
      "name": "Prepare Airtable Data",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4816,
        64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Check if webhook contains transcript data\nconst items = $input.all();\n\nif (items.length === 0 || !items[0].json) {\n  // No data, fetch from API\n  return [{ json: { route: 'api', daysBack: 60 } }];\n}\n\nconst data = items[0].json;\n\n// WEBHOOK PAYLOAD STRUCTURE:\n// Expected format: { body: { transcript: [...], title: \"...\", ... } }\n// OR: { transcript: [...], title: \"...\", ... } (direct)\n\n// Check body.transcript first (n8n webhook wraps in body)\nif (data.body?.transcript && Array.isArray(data.body.transcript) && data.body.transcript.length > 0) {\n  console.log('âœ… WEBHOOK ROUTE: Found transcript in body.transcript');\n  return [{ json: { route: 'webhook', meeting: data.body } }];\n}\n\n// Check direct transcript (if webhook doesn't wrap)\nif (data.transcript && Array.isArray(data.transcript) && data.transcript.length > 0) {\n  console.log('âœ… WEBHOOK ROUTE: Found transcript at root level');\n  return [{ json: { route: 'webhook', meeting: data } }];\n}\n\n// No transcript found - fall back to API\nconsole.log('âŒ NO TRANSCRIPT FOUND - Using API route');\nreturn [{ json: { route: 'api', daysBack: 60 } }];\n"
      },
      "id": "route-webhook-or-api",
      "name": "Route: Webhook or API",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        464,
        64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Process single meeting from webhook\nconst routeData = $input.first().json;\nconst meeting = routeData.meeting;\n\n// VALIDATION: Check transcript exists\nconst transcript = meeting.transcript;\nif (!transcript || !Array.isArray(transcript) || transcript.length === 0) {\n  throw new Error('Invalid webhook payload: transcript is missing or empty');\n}\n\n// VALIDATION: Log first 100 chars of transcript for verification\nconst firstUtterance = transcript[0];\nconst speaker = (firstUtterance.speaker && firstUtterance.speaker.display_name) || 'Unknown';\nconst firstText = firstUtterance.text || '';\nconst preview = `${speaker}: ${firstText}`.substring(0, 100);\nconsole.log('âœ… VALIDATION: Transcript first 100 chars:', preview);\n\n// Format transcript inline\nlet formattedTranscript = '';\nif (transcript && Array.isArray(transcript)) {\n  const parts = [];\n  for (let i = 0; i < transcript.length; i++) {\n    const utterance = transcript[i];\n    const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n    parts.push(speaker + ': ' + utterance.text);\n  }\n  formattedTranscript = parts.join('\\n');\n}\n\n// VALIDATION: Check transcript content length\nif (formattedTranscript.length < 100) {\n  throw new Error(`Transcript appears too short: ${formattedTranscript.length} chars`);\n}\nconsole.log(`âœ… VALIDATION: Transcript length: ${transcript.length} utterances, ${formattedTranscript.length} total chars`);\n\n// Format date inline\nconst dateStr = meeting.created_at || meeting.scheduled_start_time || new Date().toISOString();\nconst date = new Date(dateStr);\nconst day = date.getDate();\nconst month = date.toLocaleString('en-US', { month: 'long' });\nconst year = date.getFullYear();\n\n// Add ordinal suffix\nconst s = ['th', 'st', 'nd', 'rd'];\nconst v = day % 100;\nconst ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\nconst dateFolderName = month + ' ' + ordinal + ', ' + year;\n\n// Check calendar_invitees for external contacts\nconst calendarInvitees = meeting.calendar_invitees || [];\nconst externalInvitees = [];\nfor (let i = 0; i < calendarInvitees.length; i++) {\n  if (calendarInvitees[i].is_external === true) {\n    externalInvitees.push(calendarInvitees[i]);\n  }\n}\n\n// Get contact info from first external invitee (if any)\nconst primaryContact = externalInvitees[0] || {};\n\n// Return array of items with json property\nconst result = {\n  json: {\n    meeting_title: meeting.title || meeting.meeting_title || 'Untitled Meeting',\n    meeting_url: meeting.url || meeting.meeting_url,\n    recording_id: meeting.recording_id,\n    contact_name: primaryContact.name || null,\n    contact_email: primaryContact.email || null,\n    meeting_date: dateStr,\n    date_folder_name: dateFolderName,\n    combined_transcript: formattedTranscript,\n    parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9'\n  }\n};\nreturn [result];"
      },
      "id": "process-webhook-meeting",
      "name": "Process Webhook Meeting",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2256,
        160
      ]
    },
    {
      "parameters": {
        "jsCode": "// Limit to 5 meetings per batch to prevent rate limiting\nconst meetings = $input.all();\nconst batchLimit = $('Config').first().json.batchLimit || 5;\n\nconst limited = meetings.slice(0, batchLimit);\n\nif (limited.length < meetings.length) {\n  console.log(`Limited batch from ${meetings.length} to ${limited.length} meetings`);\n}\n\nreturn limited;"
      },
      "id": "limit-batch-size",
      "name": "Limit Batch Size",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2256,
        -32
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "performance-prompt",
              "name": "performance_prompt",
              "value": "=# Fathom Performance Analysis Prompt (BPS v2.0 - Deep Analysis)\n\n**Version:** 2.0\n**Date:** 2026-01-28\n**Purpose:** Generate comprehensive meeting performance assessment and implementation planning (200-600+ lines)\n**For:** n8n workflow \"Call AI for Performance\" node\n\n---\n\n# Role\n\nYou are the Meeting Performance & Implementation Planning System, an expert meeting evaluator, technical architect, and project roadmap designer.\n\nYou specialize in evaluating discovery call quality, assessing solution complexity with component-level detail, and creating month-by-month implementation roadmaps with forensic precision.\n\nYour expertise combines:\n- Conversational analysis and client readiness assessment\n- Component-by-component complexity analysis with risk scoring\n- Effort estimation using best/expected/worst case scenarios\n- Month-by-month roadmap generation with week-level granularity\n- Checkpoint meeting design and success criteria definition\n- Risk identification and mitigation strategy development\n\nYou act as the quality control AND implementation planning system â€” measuring call effectiveness to coach team improvement while simultaneously architecting detailed project roadmaps that enable accurate scoping and realistic timeline commitments.\n\n---\n\n# Task\n\nYour core task is to evaluate meeting performance across multiple dimensions and create comprehensive implementation plans that rival professional project management deliverables.\n\nFollow this process:\n\n1. **Assess Performance** â€” Rate overall call quality using 0-100 scoring rubric based on data quality, engagement, and buying signals\n\n2. **Analyze Strengths** â€” Identify what went well (quantification provided, rapport built, clear requirements gathered, urgency signals detected)\n\n3. **Identify Gaps** â€” Detect what could improve (missing quantification, vague problems, no timeline/budget discussion, unclear decision-making authority)\n\n4. **Evaluate Fit** â€” Measure problem-solution fit and client's technical/business readiness for proposed solution\n\n5. **Decompose Complexity** â€” Break solution into 8-12 components, analyze each for: What it does, Technical requirements, Why it's Low/Medium/High complexity, Known unknowns, Effort estimate (with best/expected/worst case), Risk factors, Confidence level\n\n6. **Map Roadmap** â€” Create month-by-month implementation plan with week-level breakdowns, showing: Investment per phase, Time savings per phase, Deliverables with acceptance criteria, Dependencies between components, Checkpoint meetings with decision gates\n\n7. **Assess Risks** â€” Categorize all risks as High/Medium/Low priority with specific mitigation strategies and fallback plans\n\n8. **Recommend Improvements** â€” Suggest specific, actionable improvements for future calls with coaching-quality feedback\n\nAt every stage, maintain objectivity, base complexity on technical factors (not enthusiasm), and provide project-manager-grade roadmap detail.\n\n---\n\n# Specifics\n\n**Output Format:**\nYou MUST return valid JSON with exactly these fields:\n\n```json\n{\n  \"performance_score\": 75,\n  \"improvement_areas\": \"Markdown bullet list of 3-6 specific improvements\",\n  \"complexity_assessment\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"roadmap\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"call_quality_notes\": \"Comprehensive analysis (100-200 lines)\"\n}\n```\n\n**Scope:**\n- Score all meeting types (discovery, developer/coaching, regular check-ins)\n- Base scoring on objective criteria (data quality, engagement indicators, clarity)\n- Do not let personal feelings or client enthusiasm influence scores\n- Generate consultant-grade depth (200-600+ lines total across all fields)\n\n**Deliverables:**\n\n### performance_score\n**Type:** Integer from 0-100\n**Rubric:** See scoring guidelines below\n\nStart at 50 (neutral baseline), then adjust:\n\n**Add points for:**\n- +10: Each quantified pain point with time/cost data\n- +10: Strong buying signals (budget discussed, timeline mentioned, urgency expressed)\n- +10: Clear technical requirements with specifics\n- +10: Good rapport and engagement (thoughtful questions, active participation)\n- +5: Client proactively calculated ROI or payback period\n- +5: Decision-maker present or identified\n- +5: Explicit urgency with deadline mentioned\n\n**Subtract points for:**\n- -10: Vague problems with no quantification\n- -10: No budget or timeline discussion\n- -10: Poor engagement (one-word answers, distracted, no questions)\n- -5: No clear next steps established\n- -5: Multiple \"I don't know\" responses to basic questions\n- -5: No urgency mentioned (low priority indicator)\n\n**Score Interpretation:**\n- **90-100**: Excellent â€” Clear quantified pain points, strong buying signals, good rapport, next steps defined, decision-maker engaged\n- **75-89**: Good â€” Pain points identified with some quantification, positive engagement, needs minor follow-up\n- **60-74**: Fair â€” Vague pain points, minimal quantification, needs significant follow-up to qualify\n- **40-59**: Poor â€” No clear problem definition, low engagement, may not be qualified lead\n- **0-39**: Very Poor â€” No viable problem, extremely vague, low intent, recommend disqualifying\n\n---\n\n### improvement_areas\n**Length:** 3-6 specific improvement suggestions\n**Format:** Markdown bullet list with actionable coaching\n\n**Structure:**\n```markdown\nâ€¢ **[Area to improve]**: [Specific technique or question to use next time]. Example: \"[Concrete example of what to say/ask]\"\nâ€¢ **[Area to improve]**: [Specific technique]. Example: \"[Concrete example]\"\nâ€¢ **[What went well]**: [Reinforce positive behavior]. Continue: \"[Specific behavior to repeat]\"\n```\n\n**Categories to address:**\n- Quantification gaps (how to ask for numbers)\n- Budget qualification (how to probe budget without being pushy)\n- Urgency signals (how to detect timeline pressure)\n- Technical depth (how to gather requirements)\n- Decision-maker identification (how to navigate authority)\n- Next steps clarity (how to secure commitment)\n\n---\n\n### complexity_assessment\n**Length:** 200-400 lines\n**Format:** Component-by-component technical analysis document\n\n**Structure:**\n```markdown\n## Complexity Overview\n\n**Overall Project Complexity:** [Low / Medium / Medium-High / High] ([X/10] score)\n\n| Component | Complexity | Effort | Risk | Priority |\n|-----------|------------|--------|------|----------|\n| [Component 1] | Low | 1-2 weeks | Low | 1 |\n| [Component 2] | Low | 1 week | Low | 2 |\n| [Component 3] | Medium | 2-3 weeks | Medium | 3 |\n| [Component 4] | High | 3-4 weeks | High | 5 |\n| ... | ... | ... | ... | ... |\n\n**Summary:**\n[2-3 sentence overview of overall complexity, key risk factors, and confidence level]\n\n---\n\n## Component Analysis\n\n### 1. [Component Name]\n\n**Complexity: Low / Medium / Medium-High / High**\n\n**What It Does:**\n[3-5 sentence description of component purpose and functionality]\n\n**Technical Requirements:**\n- [API/integration requirement 1]\n- [Data requirement 1]\n- [System requirement 1]\n- [Development tool/platform]\n- [Testing requirement]\n\n**Why It's [Complexity Level] Complexity:**\n[3-5 sentences explaining the complexity rating]\n\n**Factors that make it [Simple/Complex]:**\n- [Factor 1 with brief explanation]\n- [Factor 2]\n- [Factor 3]\n- [Factor 4]\n\n**Known Unknowns:**\n- [Question/uncertainty 1 that needs validation]\n- [Question/uncertainty 2]\n- [Question/uncertainty 3]\n- [Edge case 1]\n\n**Effort Estimate:**\n- **Best case:** [X days/weeks] (if [ideal conditions])\n- **Expected case:** [Y days/weeks] (realistic with normal blockers)\n- **Worst case:** [Z days/weeks] (if [complications occur])\n\n**Confidence Level:** High / Medium / Low\n**Reasoning:** [1-2 sentences on confidence level justification]\n\n**Dependencies:**\n- Requires: [Other components that must be done first]\n- Enables: [Other components that depend on this]\n- External: [Third-party services or client resources needed]\n\n---\n\n### 2. [Component Name]\n\n[Same detailed structure as Component 1]\n\n---\n\n### 3-12. [Continue for all components]\n\n[Repeat structure for 8-12 total components]\n\n---\n\n## Risk Assessment\n\n### High Risk Components\n\n**1. [Component/Risk Name]**\n- **Risk:** [Specific description of what could go wrong]\n- **Likelihood:** High / Medium / Low\n- **Impact:** [What happens if this risk materializes]\n- **Mitigation Strategy:** [Specific actions to reduce risk]\n- **Fallback Plan:** [What to do if mitigation fails]\n- **Owner:** [Who's responsible for monitoring this risk]\n\n**2. [Component/Risk Name]**\n[Same structure]\n\n---\n\n### Medium Risk Components\n\n**1. [Component/Risk Name]**\n[Same structure]\n\n**2-3. [Continue for 2-4 medium risks]**\n\n---\n\n### Low Risk Components\n\n**Brief list of low-priority risks:**\n- [Risk 1] - [Why low priority]\n- [Risk 2] - [Why low priority]\n- [Risk 3] - [Why low priority]\n\n---\n\n## Technical Dependencies\n\n### Required Infrastructure\n\n| Component | Cost | Setup Time | Notes |\n|-----------|------|------------|-------|\n| [Tool/Platform 1] | â‚¬[amount]/month | [duration] | [Context] |\n| [Tool/Platform 2] | â‚¬[amount]/month | [duration] | [Context] |\n| [Tool/Platform 3] | Free (existing) | [duration] | [Context] |\n\n### API Access Requirements\n\n**[Service 1] API:**\n- Authentication: [OAuth2 / API key / etc.]\n- Permissions needed: [Read/write scope details]\n- Rate limits: [Requests per minute/hour]\n- Documentation: [Quality assessment]\n- Known limitations: [Any gotchas]\n\n**[Service 2] API:**\n[Same structure]\n\n---\n\n## Effort Summary\n\n### Phase 1: [Phase Name] (Weeks 1-X)\n\n| Component | Effort | Complexity | Dependencies |\n|-----------|--------|------------|--------------|\n| [Component 1] | 1-2 weeks | Low | None |\n| [Component 2] | 1 week | Low | [Component 1] |\n| [Component 3] | 2-3 weeks | Medium | [Component 1, 2] |\n| **Total** | **4-7 weeks** | **Low-Medium** | **[List]** |\n\n### Phase 2: [Phase Name] (Weeks X-Y)\n\n[Same table structure]\n\n### Combined Timeline\n\n- **Best Case:** [X] weeks ([duration] months)\n- **Expected Case:** [Y] weeks ([duration] months)\n- **Worst Case:** [Z] weeks ([duration] months)\n\n**Contingency Buffer:** [X]% recommended ([Z-Y] weeks)\n\n---\n\n## Recommendations\n\n### Start With Lowest Complexity\n1. **[Component name]** ([duration], [complexity], [why first])\n2. **[Component name]** ([duration], [complexity], [why second])\n3. **[Component name]** ([duration], [complexity], [why third])\n\n**Rationale:**\n[2-3 sentences on prioritization logic]\n\n---\n\n### Validate Before Committing\n1. **[Validation item 1]** (critical for [Phase/Component])\n2. **[Validation item 2]** (determines [decision])\n3. **[Validation item 3]** (confirms [assumption])\n\n**Recommended validation approach:**\n[Specific steps to validate unknowns before full commitment]\n\n---\n\n### De-Risk High Complexity\n1. **[Strategy 1]:** [Specific de-risking approach]\n2. **[Strategy 2]:** [Specific approach]\n3. **[Strategy 3]:** [Specific approach]\n\n---\n\n## Complexity Scoring Detail\n\n**Overall Project Complexity:** [X/10]\n\n| Category | Score | Notes |\n|----------|-------|-------|\n| API Integrations | [X/10] | [Assessment reasoning] |\n| Data Complexity | [X/10] | [Assessment reasoning] |\n| Business Logic | [X/10] | [Assessment reasoning] |\n| UI/UX Requirements | [X/10] | [Assessment reasoning] |\n| Security Requirements | [X/10] | [Assessment reasoning] |\n| Integration Points | [X/10] | [Assessment reasoning] |\n| Edge Case Handling | [X/10] | [Assessment reasoning] |\n\n**Confidence Level:** High / Medium / Low\n**Reasoning:** [2-3 sentences on overall confidence assessment]\n\n---\n\n*Assessment created: [date]*\n*Confidence level: [High/Medium/Low] (needs [validation items] for [reason])*\n```\n\n---\n\n### roadmap\n**Length:** 200-400 lines\n**Format:** Month-by-month implementation plan with week-level granularity\n\n**Structure:**\n```markdown\n## Executive Summary\n\n**Total Investment:** â‚¬[low]-[high] range\n**Total Time Savings:** [X-Y] hours/month\n**Payback Period:** [X-Y] months\n**Implementation Duration:** [X-Y] months\n**5-Year Value:** â‚¬[calculation]\n\n---\n\n## Phase Overview\n\n```\nMonth 1-2: [Phase Name] (Foundation)\nâ”œâ”€â”€ Week 1-2: [Component 1]\nâ”œâ”€â”€ Week 2-3: [Component 2]\nâ”œâ”€â”€ Week 3-4: [Component 3]\nâ””â”€â”€ Week 4-5: [Component 4]\n    â””â”€â”€ Checkpoint: [Milestone]\n\nMonth 3-4: [Phase Name] (Core Implementation)\nâ”œâ”€â”€ Week 7-10: [Component 5]\nâ”œâ”€â”€ Week 10-12: [Component 6]\nâ”œâ”€â”€ Week 12-14: [Component 7]\nâ””â”€â”€ Week 14-16: [Component 8]\n    â””â”€â”€ Checkpoint: [Milestone]\n\nMonth 5-6: [Phase Name] (Optimization)\nâ”œâ”€â”€ Week 17-18: [Activity 1]\nâ”œâ”€â”€ Week 19-20: [Activity 2]\nâ”œâ”€â”€ Week 21-22: [Activity 3]\nâ””â”€â”€ Week 23-24: [Activity 4]\n    â””â”€â”€ Checkpoint: [Final milestone]\n```\n\n---\n\n## Month 1-2: [Phase Name] (Foundation)\n\n### Overview\n**Investment:** â‚¬[amount]\n**Time Savings:** [X] hours/month\n**Duration:** [X] weeks\n**Risk Level:** Low / Medium / High\n\n---\n\n### Week 1-2: [Component 1]\n\n**Investment:** â‚¬[amount]\n**Time Savings:** [X] hours/month (upon completion)\n\n**Deliverables:**\n- [Deliverable 1 with specific acceptance criteria]\n- [Deliverable 2 with acceptance criteria]\n- [Deliverable 3]\n- [Deliverable 4]\n- [Documentation/training component]\n\n**Success Criteria:**\n- [ ] [Measurable outcome 1]\n- [ ] [Measurable outcome 2]\n- [ ] [Measurable outcome 3]\n- [ ] [Performance metric]\n\n**Dependencies:**\n- **Requires:** [Prerequisites from client or previous work]\n- **Provides to next step:** [What this enables]\n- **External dependencies:** [Third-party services or approvals]\n\n**Risks:**\n- [Risk 1]: [Mitigation approach]\n- [Risk 2]: [Mitigation approach]\n\n**Team Involvement:**\n- [Stakeholder 1]: [Role/time commitment]\n- [Stakeholder 2]: [Role/time commitment]\n\n---\n\n### Week 2-3: [Component 2]\n\n[Same detailed structure as Week 1-2]\n\n---\n\n### Week 3-4: [Component 3]\n\n[Same structure]\n\n---\n\n### Week 4-5: [Component 4]\n\n[Same structure]\n\n---\n\n### Phase 1 Checkpoint: Week 6\n\n**Checkpoint Meeting Agenda:**\n1. [Review item 1] - [Expected outcome]\n2. [Review item 2] - [Expected outcome]\n3. [Review item 3] - [Expected outcome]\n4. [Review item 4] - [Expected outcome]\n5. Go/No-Go Decision for Phase 2\n\n**Expected Outcomes:**\n- [Metric 1]: [Target value]\n- [Metric 2]: [Target value]\n- [Qualitative outcome 1]\n- [Qualitative outcome 2]\n\n**Decision Criteria for Phase 2:**\n- âœ… [Criterion 1 must be met]\n- âœ… [Criterion 2 must be met]\n- âœ… [Criterion 3 must be met]\n\n**If Not Ready for Phase 2:**\n- [Remediation option 1]\n- [Remediation option 2]\n- [Timeline adjustment option]\n\n---\n\n## Month 3-4: [Phase Name] (Core Implementation)\n\n[Same detailed structure as Month 1-2, with weeks 7-16 breakdown]\n\n### Week 7-10: [Component 5]\n\n[Full deliverables, success criteria, dependencies, risks structure]\n\n---\n\n### Week 10-12: [Component 6]\n\n[Same structure]\n\n---\n\n### Week 12-14: [Component 7]\n\n[Same structure]\n\n---\n\n### Week 14-16: [Component 8]\n\n[Same structure]\n\n---\n\n### Phase 2 Checkpoint: Week 16\n\n[Same checkpoint structure as Phase 1]\n\n---\n\n## Month 5-6: [Phase Name] (Optimization & Scaling)\n\n[Same structure, weeks 17-24]\n\n---\n\n## Timeline Summary\n\n### Best Case Scenario\n| Phase | Duration | Deliverables | Value |\n|-------|----------|--------------|-------|\n| Phase 1 | [X] weeks | [Count] components | â‚¬[value]/year |\n| Phase 2 | [Y] weeks | [Count] components | â‚¬[value]/year |\n| Phase 3 | [Z] weeks | [Count] components | â‚¬[value]/year |\n| **Total** | **[W] weeks** | **[Total] components** | **â‚¬[total]/year** |\n\n### Expected Case Scenario\n[Same table with realistic timelines]\n\n### Worst Case Scenario\n[Same table with contingency timelines]\n\n---\n\n## Risk Mitigation Timeline\n\n### Month 1 Risks\n- **Week 1:** [Risk] - [Mitigation action] - Owner: [Name]\n- **Week 2:** [Risk] - [Mitigation action] - Owner: [Name]\n- **Week 3:** [Risk] - [Mitigation action] - Owner: [Name]\n\n### Month 2 Risks\n[Same structure]\n\n### Month 3-4 Risks\n[Same structure]\n\n---\n\n## Success Metrics by Phase\n\n### Phase 1 Success Metrics\n**Quantitative:**\n- [Metric 1]: Baseline [X] â†’ Target [Y] ([Z%] improvement)\n- [Metric 2]: Baseline [X] â†’ Target [Y]\n- [Metric 3]: Baseline [X] â†’ Target [Y]\n\n**Qualitative:**\n- [Metric 1]: [Description of successful outcome]\n- [Metric 2]: [Description]\n\n**Leading Indicators** (Week 3 check-in):\n- [Early signal 1] should show [improvement]\n- [Early signal 2] should show [improvement]\n\n---\n\n### Phase 2 Success Metrics\n\n[Same structure]\n\n---\n\n### Phase 3 Success Metrics\n\n[Same structure]\n\n---\n\n## Resource Allocation\n\n### Development Resources\n| Phase | Developer Hours | Rate | Cost |\n|-------|----------------|------|------|\n| Phase 1 | [X] hours | â‚¬[rate]/hr | â‚¬[total] |\n| Phase 2 | [Y] hours | â‚¬[rate]/hr | â‚¬[total] |\n| Phase 3 | [Z] hours | â‚¬[rate]/hr | â‚¬[total] |\n| **Total** | **[W] hours** | **â‚¬[avg rate]/hr** | **â‚¬[grand total]** |\n\n### Client Resources Required\n| Phase | Stakeholder | Time Commitment | Availability Risk |\n|-------|-------------|-----------------|-------------------|\n| Phase 1 | [Name/Role] | [X hrs/week] | Low / Medium / High |\n| Phase 2 | [Name/Role] | [Y hrs/week] | Low / Medium / High |\n\n---\n\n## Change Management\n\n### Phase 1 Training\n- **Who:** [Roles/people]\n- **What:** [Topics covered]\n- **When:** [Week X]\n- **Duration:** [Hours]\n- **Format:** [Live/recorded/documentation]\n\n### Phase 2 Training\n\n[Same structure]\n\n### Ongoing Support Model\n- **Weeks 1-4:** [Support level and response time]\n- **Weeks 5-12:** [Support level and response time]\n- **Month 4+:** [Support level and response time]\n\n---\n\n*Roadmap created: [date]*\n*Status: [Draft / Proposal Phase]*\n*Next update: [After discovery completion / After Phase 1 kick-off]*\n```\n\n---\n\n### call_quality_notes\n**Length:** 100-200 lines\n**Format:** Comprehensive meeting analysis narrative\n\n**Structure:**\n```markdown\n## Call Overview\n\n**Meeting Type:** Discovery Call / Developer Consultation / Status Update / [Other]\n**Duration:** [Estimated from transcript] or [Unknown]\n**Participants:** [List with roles]\n**Primary Stakeholder:** [Name and role]\n**Decision Authority:** [Who can approve budget and timeline]\n\n---\n\n## What Went Well\n\n### Quantification Quality\n[2-3 sentences on specific numbers provided]\n\n**Examples:**\n- \"[Metric]\" mentioned ([time/cost]) (line [N])\n- \"[Metric]\" provided ([frequency/volume]) (line [N])\n- [Calculation example] (lines [N-M])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Engagement Level\n[2-3 sentences on participation quality]\n\n**Indicators:**\n- [Positive signal 1] (line [N])\n- [Positive signal 2] (line [N])\n- [Question quality example] (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Requirements Clarity\n[2-3 sentences on technical specificity]\n\n**Strengths:**\n- [Requirement 1 with specificity] (line [N])\n- [Requirement 2] (line [N])\n- [Constraint mentioned] (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Buying Signals\n[2-3 sentences on urgency/budget/timeline indicators]\n\n**Strong Signals:**\n- \"[Quote about urgency]\" (line [N])\n- \"[Quote about budget]\" (line [N])\n- \"[Quote about timeline]\" (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n## What Needs Improvement\n\n### Missing Quantification\n[2-3 sentences on gaps in data]\n\n**Examples:**\n- [Vague statement 1] (line [N]) - should have asked: \"[Follow-up question]\"\n- [Vague statement 2] (line [N]) - should have probed: \"[Specific question]\"\n\n**Score Impact:** -[X] points for [reason]\n\n**Coaching Recommendation:**\n\"[Specific technique or question to use next time]\"\n\n---\n\n### Budget Qualification Gap\n[If applicable: 2-3 sentences on budget discussion absence]\n\n**What was missing:**\n- No budget range discussed\n- No investment appetite signals\n- Decision-maker authority unclear\n\n**Score Impact:** -[X] points for [reason]\n\n**Coaching Recommendation:**\n\"[Specific approach for next call]\"\n\n---\n\n### [Other Gap Category]\n\n[Same structure for 1-2 additional improvement areas]\n\n---\n\n## Client Readiness Assessment\n\n### Technical Maturity\n**Rating:** High / Medium / Low\n**Evidence:**\n- [Signal 1] (line [N])\n- [Signal 2] (line [N])\n**Implications:** [What this means for implementation]\n\n---\n\n### Decision-Making Clarity\n**Rating:** Clear / Moderate / Unclear\n**Evidence:**\n- [Who makes decisions] (line [N])\n- [Approval process] (line [N])\n**Implications:** [Timeline impact and next steps needed]\n\n---\n\n### Urgency Level\n**Rating:** High / Medium / Low\n**Evidence:**\n- \"[Quote]\" (line [N])\n- [Context signal] (line [N])\n**Implications:** [Recommended response speed and approach]\n\n---\n\n### Problem-Solution Fit\n**Rating:** Excellent / Good / Fair / Poor\n**Evidence:**\n[2-3 sentences on alignment between stated problem and proposed solution]\n\n**Gaps:**\n- [Gap 1 if any]\n- [Gap 2 if any]\n\n**Recommendation:** [Next steps to validate fit]\n\n---\n\n## Competitive Intelligence\n\n### Existing Solutions Mentioned\n- **[Tool/Approach 1]:** [What they said about it] (line [N])\n- **[Tool/Approach 2]:** [What they said] (line [N])\n\n**Strategic Implications:**\n[How to position against existing attempts]\n\n---\n\n### Prior Automation Attempts\n[If mentioned: what they tried, why it failed, lessons learned]\n\n**Quote:**\n> \"[What they said]\" (line [N])\n\n**Implication:** [What to avoid or emphasize]\n\n---\n\n## Recommended Next Steps\n\n### Immediate (Within 3 Days)\n1. **[Action]** - Owner: [You/Client], Purpose: [Why urgent]\n2. **[Action]** - Owner: [Name], Purpose: [Why]\n\n### Short-term (This Week)\n1. **[Action]** - Owner: [Name], Purpose: [Why important]\n2. **[Action]** - Owner: [Name], Purpose: [Why]\n\n### Before Proposal\n1. **[Validation item 1]** - Critical for [reason]\n2. **[Validation item 2]** - Determines [decision]\n3. **[Validation item 3]** - Confirms [assumption]\n\n---\n\n## Proposal Strategy\n\n### Recommended Approach\n[2-3 sentences on how to structure proposal based on this call]\n\n### Value Anchors to Emphasize\n1. **[Value point 1]:** [Specific metric from call] (line [N])\n2. **[Value point 2]:** [Specific metric] (line [N])\n3. **[Value point 3]:** [Strategic value mentioned] (line [N])\n\n### Objections to Pre-Address\n1. **[Potential objection 1]:** [How to handle based on call signals]\n2. **[Potential objection 2]:** [How to handle]\n\n### Decision-Maker Messaging\n- **For [Stakeholder 1]:** Emphasize [what they care about based on call]\n- **For [Stakeholder 2]:** Emphasize [what they care about]\n\n---\n\n## Overall Assessment\n\n**Performance Score: [X]/100**\n\n**Score Breakdown:**\n- Quantification: [X points] ([reason])\n- Engagement: [X points] ([reason])\n- Requirements: [X points] ([reason])\n- Buying Signals: [X points] ([reason])\n- Gaps: -[X points] ([reason])\n\n**Call Quality Rating:** Excellent / Good / Fair / Poor\n\n**Win Probability Estimate:** High / Medium / Low\n**Reasoning:** [2-3 sentences justifying probability assessment]\n\n**Recommended Investment Level:**\n[How much time/effort to invest in proposal based on win probability]\n\n---\n\n## Coaching Summary\n\n**Top 3 Improvements for Next Call:**\n1. **[Improvement 1]:** [Specific technique]\n2. **[Improvement 2]:** [Specific technique]\n3. **[Improvement 3]:** [Specific technique]\n\n**Top 3 Strengths to Maintain:**\n1. **[Strength 1]:** [What was done well]\n2. **[Strength 2]:** [What was done well]\n3. **[Strength 3]:** [What was done well]\n\n---\n\n*Call analysis completed: [date]*\n*Recommendation: [Proceed to proposal / Schedule follow-up discovery / Qualify further / Pass]*\n```\n\n---\n\n## Complexity Classification\n\n**Use these criteria for component complexity ratings:**\n\n### Low Complexity\n- 1-2 weeks implementation\n- Simple tech (well-documented APIs, standard patterns)\n- Minimal dependencies (<3 integration points)\n- Clear requirements with no unknowns\n- Low technical risk\n- Example: Google Sheets API sync, Discord webhooks, simple scheduled triggers\n\n### Medium Complexity\n- 1-2 months implementation\n- Moderate tech complexity (some custom logic, multiple APIs)\n- Moderate dependencies (5-10 integration points)\n- Some requirements ambiguity\n- Moderate technical risk or unknowns\n- Example: Invoice parsing with OCR, cross-system validation logic, dashboard interfaces\n\n### High Complexity\n- 3+ months implementation\n- Complex tech (heavy custom development, complex algorithms)\n- Significant dependencies (>10 integration points)\n- Major requirements unknowns\n- High technical risk\n- Example: Full payment automation with fraud detection, real-time bidirectional sync, machine learning components\n\n---\n\n## Roadmap Granularity Standards\n\n**Week-level breakdown:**\n- Use for first 2-3 months (highest detail needed for immediate work)\n- Each week: 1-2 major deliverables maximum\n- Include checkpoint meetings every 4-6 weeks\n\n**Month-level breakdown:**\n- Use for months 4-6 (less detail needed for future work)\n- Each month: 3-5 major milestones\n- Include phase-end checkpoints\n\n**Phase-level summary:**\n- Use for months 7-12 (strategic planning only)\n- Each phase: Objectives, major deliverables, success criteria\n- Acknowledge uncertainty and need for replanning\n\n---\n\n## Language & Tone\n\n- **Objective and data-driven** - Avoid emotional language\n- **Specific and actionable** - Not generic advice\n- **Constructive** - Frame improvements positively\n- **Technical but accessible** - Explain complexity clearly\n- **Project-manager grade** - Professional roadmap depth\n- **Coaching-quality feedback** - Helpful, specific improvement guidance\n\n---\n\n# Context\n\nThis performance system governs the Call Quality Feedback Loop AND Implementation Planning Pipeline, a dual-purpose workflow that improves team effectiveness AND enables accurate project scoping.\n\nIt exists to ensure every client interaction receives:\n1. **Objective performance measurement** for team coaching and improvement\n2. **Detailed complexity analysis** for accurate effort estimation\n3. **Month-by-month roadmaps** for realistic timeline commitments\n4. **Risk assessment** for mitigation planning\n\nThe system operates in three evaluation modes:\n- **Discovery Mode**: Score based on problem clarity, quantification, buying signals PLUS generate comprehensive complexity analysis and implementation roadmap\n- **Developer/Coaching Mode**: Score based on technical depth, specific questions, learning indicators PLUS assess technical solution complexity\n- **Regular Mode**: Score based on progress tracking, feedback quality, relationship health\n\nYour role is pivotal â€” the accuracy of your scoring determines coaching effectiveness, AND the quality of your complexity analysis and roadmaps determines project success rates and timeline reliability.\n\nBy providing objective, data-driven performance scores AND project-manager-grade implementation plans, you ensure continuous team improvement AND successful project delivery.\n\n---\n\n# Examples\n\n[Include 3 examples matching the v1.0 examples but with v2.0 depth showing 200-400 line complexity assessments and roadmaps]\n\nSee comprehensive example output structures at:\n- complexity_assessment.md (442 lines) - Component breakdowns, Risk assessment, Effort tables\n- roadmap.md (474 lines) - Month-by-month, Week-by-week, Checkpoint meetings, Timeline tables\n\n---\n\n# Notes\n\n**Comprehensive Depth Principle:**\nComplexity assessment and roadmap should rival professional PM deliverables. 200-400 lines each is not padding - it's thorough analysis with:\n- Component-level breakdowns (8-12 components)\n- Best/expected/worst case timelines\n- Week-level granularity for first 3 months\n- Checkpoint meeting structures\n- Risk assessment with mitigations\n- Success metrics per phase\n\n**Objectivity Principle:**\nScores MUST be based on data quality, not client enthusiasm or likability.\nA friendly client with no quantification scores lower than a cold client with detailed time/cost data.\n\n**Scoring Calibration:**\nStart every score at 50 (neutral). Add/subtract based on rubric. Do not anchor on first impression.\nRe-check math: Is this score justified by the rubric criteria? Can you cite specific evidence?\n\n**Complexity Assessment Rules:**\nBase complexity on: number of integration points, custom logic requirements, team size affected, data volume, technical risk.\nDo NOT base on: client's enthusiasm, urgency, or budget size.\n\n**Roadmap Discipline:**\nOnly create detailed roadmap if solution scope is clear from discovery call.\nFor vague calls, note \"[Roadmap pending further discovery and requirements definition]\".\nEmpty roadmap or high-level only is acceptable if scope unclear.\n\n**JSON Validity:**\nperformance_score MUST be integer (no decimals, no strings).\ncomplexity_assessment MUST start with \"## Complexity Overview\" heading.\nroadmap MUST start with \"## Executive Summary\" heading.\nTest JSON format before returning.\n\n**Multi-Page Analysis Standard:**\n- performance_score: Integer 0-100\n- improvement_areas: 3-6 bullet points (20-40 lines)\n- complexity_assessment: 200-400 lines (8-12 components Ã— 30-40 lines each + tables)\n- roadmap: 200-400 lines (3-6 months Ã— 50-80 lines each + tables + checkpoints)\n- call_quality_notes: 100-200 lines (comprehensive narrative analysis)\n\n**Training Cadence:**\nThis system does not adapt autonomously. Scoring calibration requires periodic manual review:\n- After 20 calls: Review score distribution (should be normal curve centered around 70-75)\n- After 50 calls: Correlate scores with proposal win rate (high scores should win more often)\n- Adjust rubric if scores consistently too high or too low\n\n**Guardrails:**\n- Never let enthusiasm override data deficiencies (friendly â‰  qualified)\n- Never score based on client's budget size (â‚¬1K project with great data > â‚¬100K project with vague problem)\n- Never inflate scores to make team feel good (coaching requires honest feedback)\n- Always provide specific improvement actions (not \"be better at discovery\")\n- Always base complexity on technical factors (not effort or price)\n- Maintain consistent scoring across all call types (discovery vs coaching vs check-in)\n- Always create roadmaps with week-level detail for first 3 months\n- Always include checkpoint meetings every 4-6 weeks\n- Always provide best/expected/worst case timelines\n\n**Edge Case Handling:**\n- **Multi-stakeholder calls**: +5 points if decision-maker present, -5 if decision-maker absent\n- **Second/third calls with same client**: Score based on incremental progress, not cumulative relationship\n- **Emergency/urgent calls**: High urgency adds +5 points IF backed by specific deadline/impact, otherwise no bonus\n- **Calls with no clear problem**: Base score (50) minus engagement deductions, recommend disqualifying\n- **Highly technical calls**: Score technical depth instead of business quantification (different rubric applies)\n- **Vague scope calls**: Generate high-level roadmap only, note need for requirements workshop\n- **Multi-phase projects**: Break roadmap into phases with phase-end decision gates\n\n**Call Type Detection (for context):**\n- **Discovery**: First interaction, focused on problem identification, qualification â†’ Generate full complexity + roadmap\n- **Developer/Coaching**: Technical problem-solving, implementation guidance â†’ Generate complexity only for specific solution discussed\n- **Regular**: Ongoing relationship, progress updates, feedback â†’ Score only, minimal complexity/roadmap unless new scope\n\n---\n\nTranscript:\n${ $json.combined_transcript }\n\nReturn ONLY valid JSON, no markdown formatting.",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "build-performance-prompt",
      "name": "Build Performance Prompt",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3280,
        64
      ]
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// Parse performance AI response and merge with original data\nconst aiResponse = $input.item.json;\nconst originalData = $('Parse AI Response').item.json;\n\n// Extract AI response content - handle both Anthropic and OpenAI formats\nlet aiContent = '';\n\n// Try Anthropic format first (response.content[0].text)\nif (aiResponse.content?.[0]?.text) {\n  aiContent = aiResponse.content[0].text;\n}\n// Fallback to OpenAI format (response.message.content)\nelse if (aiResponse.message?.content) {\n  aiContent = aiResponse.message.content;\n}\n// Additional fallbacks\nelse if (aiResponse.text) {\n  aiContent = aiResponse.text;\n} else if (typeof aiResponse.output === 'string') {\n  aiContent = aiResponse.output;\n}\n\n// Parse JSON response\nlet perfData = {};\ntry {\n  // Remove markdown code blocks if present\n  const cleanContent = aiContent.replace(/```json\\n?|```\\n?/g, '').trim();\n  perfData = JSON.parse(cleanContent);\n} catch (error) {\n  console.error('Failed to parse performance AI response:', error);\n  perfData = {\n    overall_score: 0,\n    framework_adherence: 'Failed to parse',\n    quantification_quality: 0,\n    discovery_depth: 0,\n    talk_ratio: 0,\n    '4_cs_coverage': '',\n    key_questions_asked: '',\n    quantification_tactics_used: '',\n    numbers_captured: '',\n    quotable_moments: '',\n    next_steps_clarity: 0,\n    improvement_areas: '',\n    strengths: ''\n  };\n}\n\nreturn {\n  json: {\n    ...originalData,\n    // Performance fields\n    perf_overall_score: perfData.overall_score || 0,\n    perf_framework_adherence: perfData.framework_adherence || '',\n    perf_quantification_quality: perfData.quantification_quality || 0,\n    perf_discovery_depth: perfData.discovery_depth || 0,\n    perf_talk_ratio: perfData.talk_ratio || 0,\n    perf_4cs_coverage: perfData['4_cs_coverage'] || '',\n    perf_key_questions_asked: perfData.key_questions_asked || '',\n    perf_quantification_tactics_used: perfData.quantification_tactics_used || '',\n    perf_numbers_captured: perfData.numbers_captured || '',\n    perf_quotable_moments: perfData.quotable_moments || '',\n    perf_next_steps_clarity: perfData.next_steps_clarity || 0,\n    perf_improvement_areas: perfData.improvement_areas || '',\n    perf_strengths: perfData.strengths || ''\n  }\n};"
      },
      "id": "parse-performance-response",
      "name": "Parse Performance Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3856,
        64
      ]
    },
    {
      "parameters": {
        "operation": "create",
        "columns": {
          "mappingMode": "autoMapInputData"
        }
      },
      "id": "save-performance-to-airtable",
      "name": "Save Performance to Airtable",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        5328,
        64
      ],
      "credentials": {
        "airtableTokenApi": {
          "id": "7Nw3lCcZ0ETUwNak",
          "name": "airtable-creds"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 3,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "leftValue": "={{ $json.route }}",
              "rightValue": "webhook",
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "id": "route-check"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "789e9ac9-a050-43fd-b0c3-27473d9ed641",
      "name": "IF: Webhook or API?1",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        688,
        64
      ]
    },
    {
      "parameters": {},
      "id": "limit-to-one-record",
      "name": "Limit to 1 Record",
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        4960,
        64
      ]
    },
    {
      "parameters": {
        "operation": "post"
      },
      "id": "slack-notification",
      "name": "Slack Notification",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.4,
      "position": [
        5552,
        64
      ],
      "webhookId": "da14729d-63c5-41af-9f51-f9616c04781a",
      "credentials": {
        "slackApi": {
          "id": "iN2b9bGFpoyptSPr",
          "name": "slack-workflow-notifications"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "jsCode": "const saveToAirtableData = $('Save to Airtable').item.json;\nconst performanceData = $('Save Performance to Airtable').item.json;\nconst parseAIData = $('Parse AI Response').first().json;\n\nconst clientName = saveToAirtableData.matched_client_name || 'Unknown';\nconst contactName = saveToAirtableData.matched_contact_name || 'Unknown';\nconst performanceScore = performanceData.perf_overall_score || 'N/A';\nconst topPainPoint = (parseAIData.pain_points && parseAIData.pain_points[0]) || 'Not identified';\n\nconst blocks = [\n  {\n    type: 'section',\n    text: {\n      type: 'mrkdwn',\n      text: 'ðŸ“ž *Call Analysis Complete*\\n\\n*Client:* ' + clientName + '\\n*Contact:* ' + contactName + '\\n*Performance Score:* ' + performanceScore + '/100\\n\\n*Top Pain Point:* ' + topPainPoint\n    }\n  },\n  {\n    type: 'actions',\n    elements: [\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Create Proposal (Company)' },\n        value: 'proposal_company',\n        action_id: 'proposal_company'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Create Proposal (Individual)' },\n        value: 'proposal_individual',\n        action_id: 'proposal_individual'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Send to Figma' },\n        value: 'send_figma',\n        action_id: 'send_figma'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Send to Slides' },\n        value: 'send_slides',\n        action_id: 'send_slides',\n        style: 'primary'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Do Nothing' },\n        value: 'do_nothing',\n        action_id: 'do_nothing'\n      }\n    ]\n  }\n];\n\nreturn {\n  json: {\n    slackBlocks: JSON.stringify(blocks),\n    ...performanceData\n  }\n};"
      },
      "id": "build-slack-blocks",
      "name": "Build Slack Blocks",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5440,
        64
      ]
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "={{ $json.ai_prompt }}  ",
              "role": "system"
            }
          ]
        },
        "options": {
          "temperature": 0
        }
      },
      "id": "call-ai-for-analysis",
      "name": "Call AI for Analysis",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        2704,
        64
      ],
      "retryOnFail": true,
      "maxTries": 3,
      "waitBetweenTries": 5000,
      "credentials": {
        "openAiApi": {
          "id": "xmJ7t6kaKgMwA1ce",
          "name": "OpenAi account"
        }
      },
      "continueOnFail": true
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "={{ $json.performancePrompt }}",
              "role": "system"
            }
          ]
        },
        "options": {
          "temperature": 0
        }
      },
      "id": "call-ai-performance",
      "name": "Call AI for Performance",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        3504,
        64
      ],
      "retryOnFail": true,
      "maxTries": 3,
      "waitBetweenTries": 5000,
      "credentials": {
        "openAiApi": {
          "id": "xmJ7t6kaKgMwA1ce",
          "name": "OpenAi account"
        }
      },
      "continueOnFail": true
    }
  ],
  "connections": {
    "Daily Schedule": {
      "main": [
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Config": {
      "main": [
        [
          {
            "node": "List Meetings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List Meetings": {
      "main": [
        [
          {
            "node": "Extract Meetings Array",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Meetings Array": {
      "main": [
        [
          {
            "node": "Get Transcript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Transcript": {
      "main": [
        [
          {
            "node": "Combine Meeting + Transcript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to Binary": {
      "main": [
        [
          {
            "node": "Save Transcript to Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Is Standalone Impromptu?": {
      "main": [
        [
          {
            "node": "Build AI Prompt",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Build AI Prompt": {
      "main": [
        [
          {
            "node": "Extract Name (OpenAI)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Name (OpenAI)": {
      "main": [
        [
          {
            "node": "Extract AI Name",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract AI Name": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Prepare Date Folder Name",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine Meeting + Transcript1": {
      "main": [
        [
          {
            "node": "Process Each Meeting",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Date Folder Name": {
      "main": [
        [
          {
            "node": "Get Unique Dates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Unique Dates": {
      "main": [
        [
          {
            "node": "Create or Get Date Folder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create or Get Date Folder": {
      "main": [
        [
          {
            "node": "Match Meetings to Folders",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Match Meetings to Folders": {
      "main": [
        [
          {
            "node": "Convert to Binary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Participant Names": {
      "main": [
        [
          {
            "node": "Search Contacts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search Contacts": {
      "main": [
        [
          {
            "node": "Search Clients",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search Clients": {
      "main": [
        [
          {
            "node": "Prepare Airtable Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Manual Trigger": {
      "main": [
        [
          {
            "node": "Route: Webhook or API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route: Webhook or API": {
      "main": [
        [
          {
            "node": "IF: Webhook or API?1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Webhook Meeting": {
      "main": [
        [
          {
            "node": "Enhanced AI Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Each Meeting": {
      "main": [
        [
          {
            "node": "Limit Batch Size",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit Batch Size": {
      "main": [
        [
          {
            "node": "Enhanced AI Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse AI Response": {
      "main": [
        [
          {
            "node": "Build Performance Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Performance Response": {
      "main": [
        [
          {
            "node": "Extract Participant Names",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save to Airtable": {
      "main": [
        [
          {
            "node": "Save Performance to Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Performance to Airtable": {
      "main": [
        [
          {
            "node": "Prepare Date Folder Name",
            "type": "main",
            "index": 0
          },
          {
            "node": "Build Slack Blocks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Route: Webhook or API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF: Webhook or API?1": {
      "main": [
        [
          {
            "node": "Process Webhook Meeting",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Airtable Data": {
      "main": [
        [
          {
            "node": "Limit to 1 Record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit to 1 Record": {
      "main": [
        [
          {
            "node": "Save to Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Slack Blocks": {
      "main": [
        [
          {
            "node": "Slack Notification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Enhanced AI Analysis": {
      "main": [
        [
          {
            "node": "Call AI for Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call AI for Analysis": {
      "main": [
        [
          {
            "node": "Parse AI Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Performance Prompt": {
      "main": [
        [
          {
            "node": "Call AI for Performance",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Call AI for Performance": {
      "main": [
        [
          {
            "node": "Parse Performance Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all",
    "saveManualExecutions": true,
    "saveExecutionProgress": true,
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": true,
    "timeSavedMode": "fixed"
  },
  "staticData": {
    "node:Daily Schedule": {
      "recurrenceRules": []
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "824181c7-b5d8-4289-9ead-9bedd9a8face",
  "activeVersionId": "824181c7-b5d8-4289-9ead-9bedd9a8face",
  "versionCounter": 407,
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2026-01-20T22:27:32.419Z",
      "createdAt": "2026-01-20T22:27:32.419Z",
      "role": "workflow:owner",
      "workflowId": "cMGbzpq1RXpL0OHY",
      "projectId": "Rs8mhw052fnrzWZM",
      "project": {
        "updatedAt": "2025-12-31T15:54:29.115Z",
        "createdAt": "2025-12-31T15:27:33.865Z",
        "id": "Rs8mhw052fnrzWZM",
        "name": "Sway Clarke <sway@oloxa.ai>",
        "type": "personal",
        "icon": null,
        "description": null,
        "creatorId": "e9bd9112-c2e3-4f67-873a-e1001baeafd8",
        "projectRelations": [
          {
            "updatedAt": "2025-12-31T15:27:33.865Z",
            "createdAt": "2025-12-31T15:27:33.865Z",
            "userId": "e9bd9112-c2e3-4f67-873a-e1001baeafd8",
            "projectId": "Rs8mhw052fnrzWZM",
            "user": {
              "updatedAt": "2026-01-28T23:00:37.532Z",
              "createdAt": "2025-12-31T15:27:33.119Z",
              "id": "e9bd9112-c2e3-4f67-873a-e1001baeafd8",
              "email": "sway@oloxa.ai",
              "firstName": "Sway",
              "lastName": "Clarke",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-12-31T15:54:37.562Z",
                "personalization_survey_n8n_version": "2.1.4"
              },
              "settings": {
                "userActivated": true,
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "zbxHkXOoD1qaz6OS",
                "userActivatedAt": 1767398053308,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1767684846804
                }
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2026-01-28",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [],
  "activeVersion": {
    "updatedAt": "2026-01-29T15:16:01.126Z",
    "createdAt": "2026-01-29T15:16:01.126Z",
    "versionId": "824181c7-b5d8-4289-9ead-9bedd9a8face",
    "workflowId": "cMGbzpq1RXpL0OHY",
    "nodes": [
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "cronExpression",
                "expression": "30 23 * * *"
              }
            ]
          }
        },
        "id": "schedule-trigger",
        "name": "Daily Schedule",
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.3,
        "position": [
          688,
          304
        ],
        "disabled": true
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "days-back",
                "name": "daysBack",
                "value": "={{ $json.daysBack || 60 }}",
                "type": "number"
              },
              {
                "id": "fathom-key",
                "name": "fathomApiKey",
                "value": "lzTrFSjfaTlbGrxW_txpEg.iKQ-dm_4tL395VFtFv04FmLuLiTweAVQXMeiUWrdB_4",
                "type": "string"
              },
              {
                "id": "batch-limit",
                "name": "batchLimit",
                "value": 3,
                "type": "number"
              }
            ]
          },
          "options": {}
        },
        "id": "config-node",
        "name": "Config",
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          912,
          -32
        ]
      },
      {
        "parameters": {
          "url": "https://api.fathom.ai/external/v1/meetings?limit=100",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "x-api-key",
                "value": "={{ $('Config').item.json.fathomApiKey }}"
              }
            ]
          },
          "options": {}
        },
        "id": "list-meetings",
        "name": "List Meetings",
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          1136,
          -32
        ],
        "continueOnFail": true
      },
      {
        "parameters": {
          "jsCode": "// Extract meetings array from API response and handle pagination\n// This node will be called multiple times if there are more pages\nconst daysBack = $('Config').item.json.daysBack;\nconst apiKey = $('Config').item.json.fathomApiKey;\n\nconst cutoffDate = new Date();\ncutoffDate.setDate(cutoffDate.getDate() - daysBack);\n\n// Fetch all pages of meetings\nlet allMeetings = [];\nlet nextCursor = null;\nlet pageCount = 0;\nconst maxPages = 20; // Safety limit\n\ndo {\n  let url = 'https://api.fathom.ai/external/v1/meetings';\n  if (nextCursor) {\n    url += `?cursor=${encodeURIComponent(nextCursor)}`;\n  }\n  \n  const response = await this.helpers.httpRequest({\n    method: 'GET',\n    url: url,\n    headers: {\n      'x-api-key': apiKey\n    }\n  });\n  \n  const meetings = response.items || [];\n  allMeetings = allMeetings.concat(meetings);\n  \n  nextCursor = response.next_cursor || null;\n  pageCount++;\n  \n  // Check if we've gone past the cutoff date\n  if (meetings.length > 0) {\n    const lastMeeting = meetings[meetings.length - 1];\n    const lastMeetingDate = new Date(lastMeeting.created_at || lastMeeting.scheduled_start_time);\n    if (lastMeetingDate < cutoffDate) {\n      // We've fetched enough - stop pagination\n      break;\n    }\n  }\n  \n} while (nextCursor && pageCount < maxPages);\n\n// Filter by daysBack\nconst filteredMeetings = allMeetings.filter(meeting => {\n  const meetingDate = new Date(meeting.created_at || meeting.scheduled_start_time);\n  return meetingDate >= cutoffDate;\n});\n\nreturn filteredMeetings.map(meeting => ({ json: meeting }));"
        },
        "id": "extract-meetings",
        "name": "Extract Meetings Array",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1360,
          -32
        ]
      },
      {
        "parameters": {
          "url": "=https://api.fathom.ai/external/v1/recordings/{{ $json.recording_id }}/transcript",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "x-api-key",
                "value": "={{ $('Config').item.json.fathomApiKey }}"
              }
            ]
          },
          "options": {}
        },
        "id": "get-transcript",
        "name": "Get Transcript",
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          1584,
          -32
        ],
        "continueOnFail": true
      },
      {
        "parameters": {
          "jsCode": "// Group related meetings before processing\nconst meetings = $input.all();\n\n// Sort meetings by date/time (earliest first)\nmeetings.sort(function(a, b) {\n  const dateA = new Date(a.json.created_at || a.json.scheduled_start_time || 0);\n  const dateB = new Date(b.json.created_at || b.json.scheduled_start_time || 0);\n  return dateA - dateB;\n});\n\nconst grouped = [];\nconst processed = new Set();\n\nfor (let i = 0; i < meetings.length; i++) {\n  if (processed.has(i)) continue;\n  \n  const current = meetings[i].json;\n  const relatedIndices = [i];\n  \n  // Find related meetings\n  for (let j = i + 1; j < meetings.length; j++) {\n    if (processed.has(j)) continue;\n    \n    const candidate = meetings[j].json;\n    \n    // Extract meeting titles for comparison\n    const currentTitle = (current.title || current.meeting_title || '').toLowerCase();\n    const candidateTitle = (candidate.title || candidate.meeting_title || '').toLowerCase();\n    \n    // Check for impromptu keywords\n    const hasImpromptu = candidateTitle.includes('impromptu') || candidateTitle.includes('continued') || candidateTitle.includes('follow-up');\n    \n    // Extract common name parts (words longer than 3 chars)\n    const currentWords = currentTitle.split(/\\s+/).filter(function(w) { return w.length > 3; });\n    const candidateWords = candidateTitle.split(/\\s+/).filter(function(w) { return w.length > 3; });\n    const commonWords = currentWords.filter(function(w) { return candidateWords.includes(w); });\n    \n    // Rule 1: Same contact + impromptu keyword\n    if (commonWords.length >= 2 && hasImpromptu) {\n      relatedIndices.push(j);\n      processed.add(j);\n      continue;\n    }\n    \n    // Rule 2: Time-based grouping (within 2 hours)\n    const currentDate = new Date(current.created_at || current.scheduled_start_time || 0);\n    const candidateDate = new Date(candidate.created_at || candidate.scheduled_start_time || 0);\n    const timeDiffHours = Math.abs(candidateDate - currentDate) / (1000 * 60 * 60);\n    \n    if (timeDiffHours <= 2 && commonWords.length >= 1) {\n      relatedIndices.push(j);\n      processed.add(j);\n    }\n  }\n  \n  // Process the grouped meetings\n  if (relatedIndices.length === 1) {\n    // No grouping needed - single meeting\n    const meeting = current;\n    \n    // Check calendar_invitees for external contacts\n    const calendarInvitees = meeting.calendar_invitees || [];\n    const externalInvitees = calendarInvitees.filter(function(invitee) { return invitee.is_external === true; });\n    const isStandaloneImpromptu = externalInvitees.length === 0;\n    const primaryContact = externalInvitees[0] || {};\n    \n    const meetingDate = meeting.created_at || meeting.scheduled_start_time || new Date().toISOString();\n    \n    // Format date inline\n    const date = new Date(meetingDate);\n    const day = date.getDate();\n    const month = date.toLocaleString('en-US', { month: 'long' });\n    const year = date.getFullYear();\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = day % 100;\n    const ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\n    const dateFolderName = month + ' ' + ordinal + ', ' + year;\n    \n    // Format transcript inline\n    const transcript = meeting.transcript;\n    let formattedTranscript = '';\n    if (transcript && Array.isArray(transcript)) {\n      const parts = [];\n      for (let k = 0; k < transcript.length; k++) {\n        const utterance = transcript[k];\n        const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n        parts.push(speaker + ': ' + utterance.text);\n      }\n      formattedTranscript = parts.join('\\n');\n    }\n    \n    grouped.push({\n      meeting_title: meeting.title || meeting.meeting_title || 'Untitled Meeting',\n      meeting_url: meeting.url,\n      recording_id: meeting.recording_id,\n      contact_name: primaryContact.name || null,\n      contact_email: primaryContact.email || null,\n      is_standalone_impromptu: isStandaloneImpromptu,\n      meeting_date: meetingDate,\n      date_folder_name: dateFolderName,\n      combined_transcript: formattedTranscript,\n      parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9',\n      is_grouped: false,\n      grouped_meeting_count: 1\n    });\n  } else {\n    // Merge multiple related meetings\n    const baseMeeting = current;\n    const allMeetings = [];\n    for (let idx = 0; idx < relatedIndices.length; idx++) {\n      allMeetings.push(meetings[relatedIndices[idx]].json);\n    }\n    \n    // Combine transcripts chronologically\n    const transcriptParts = [];\n    for (let index = 0; index < allMeetings.length; index++) {\n      const m = allMeetings[index];\n      const transcript = m.transcript;\n      let formattedPart = '';\n      if (transcript && Array.isArray(transcript)) {\n        const parts = [];\n        for (let k = 0; k < transcript.length; k++) {\n          const utterance = transcript[k];\n          const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n          parts.push(speaker + ': ' + utterance.text);\n        }\n        formattedPart = parts.join('\\n');\n      }\n      if (index === 0) {\n        transcriptParts.push(formattedPart);\n      } else {\n        transcriptParts.push('\\n\\n--- Continued (Part ' + (index + 1) + ') ---\\n\\n' + formattedPart);\n      }\n    }\n    const combinedTranscript = transcriptParts.join('');\n    \n    // Merge participants (deduplicate)\n    const allParticipants = new Set();\n    for (let midx = 0; midx < allMeetings.length; midx++) {\n      const m = allMeetings[midx];\n      const invitees = m.calendar_invitees || [];\n      for (let iidx = 0; iidx < invitees.length; iidx++) {\n        const inv = invitees[iidx];\n        if (inv.name) allParticipants.add(inv.name);\n        if (inv.email) allParticipants.add(inv.email);\n      }\n    }\n    \n    // Sum durations\n    let totalDuration = 0;\n    for (let midx = 0; midx < allMeetings.length; midx++) {\n      totalDuration += (allMeetings[midx].duration || 0);\n    }\n    \n    // Check for external invitees in first meeting\n    const calendarInvitees = baseMeeting.calendar_invitees || [];\n    const externalInvitees = calendarInvitees.filter(function(invitee) { return invitee.is_external === true; });\n    const isStandaloneImpromptu = externalInvitees.length === 0;\n    const primaryContact = externalInvitees[0] || {};\n    \n    const meetingDate = baseMeeting.created_at || baseMeeting.scheduled_start_time || new Date().toISOString();\n    \n    // Format date inline\n    const date = new Date(meetingDate);\n    const day = date.getDate();\n    const month = date.toLocaleString('en-US', { month: 'long' });\n    const year = date.getFullYear();\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = day % 100;\n    const ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\n    const dateFolderName = month + ' ' + ordinal + ', ' + year;\n    \n    grouped.push({\n      meeting_title: (baseMeeting.title || baseMeeting.meeting_title || 'Untitled Meeting') + ' (' + relatedIndices.length + ' parts)',\n      meeting_url: baseMeeting.url,\n      recording_id: baseMeeting.recording_id,\n      contact_name: primaryContact.name || null,\n      contact_email: primaryContact.email || null,\n      is_standalone_impromptu: isStandaloneImpromptu,\n      meeting_date: meetingDate,\n      date_folder_name: dateFolderName,\n      combined_transcript: combinedTranscript,\n      parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9',\n      is_grouped: true,\n      grouped_meeting_count: relatedIndices.length,\n      total_duration: totalDuration,\n      participants: Array.from(allParticipants)\n    });\n  }\n  \n  processed.add(i);\n}\n\n// Return array of items with json property\nconst outputItems = [];\nfor (let i = 0; i < grouped.length; i++) {\n  outputItems.push({ json: grouped[i] });\n}\nreturn outputItems;"
        },
        "id": "group-related-meetings",
        "name": "Process Each Meeting",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          2032,
          -32
        ]
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "// Prepare data for folder creation and file saving\nconst meeting = $input.item.json;\n\n// Get contact name - use AI-extracted name if available, otherwise from meeting data\nlet contactName = meeting.contact_name || meeting.meeting_title || 'Unknown Contact';\n\n// Clean up contact name (remove 'and Sway Clarke' suffix if present)\nif (contactName.includes(' and Sway Clarke')) {\n  contactName = contactName.replace(' and Sway Clarke', '').trim();\n}\n\nreturn {\n  json: {\n    contact_name: contactName,\n    contact_email: meeting.contact_email || null,\n    is_standalone_impromptu: meeting.is_standalone_impromptu || false,\n    ai_extracted: meeting.ai_extracted || false,\n    transcript: meeting.combined_transcript || '',\n    date_folder_name: meeting.date_folder_name,\n    meeting_date: meeting.meeting_date,\n    parent_folder_id: meeting.parent_folder_id || '12wrqmiKIaIZJz8GmSSkl1aUc0HNY5JBw'\n  }\n};"
        },
        "id": "prepare-date-folder",
        "name": "Prepare Date Folder Name",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          5552,
          240
        ]
      },
      {
        "parameters": {
          "resource": "folder",
          "name": "={{ $json.date_folder_name }}",
          "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.parent_folder_id }}"
          },
          "options": {}
        },
        "id": "create-or-get-folder",
        "name": "Create or Get Date Folder",
        "type": "n8n-nodes-base.googleDrive",
        "typeVersion": 3,
        "position": [
          6000,
          240
        ],
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "a4m50EefR3DJoU0R",
            "name": "Google Drive account"
          }
        },
        "continueOnFail": true
      },
      {
        "parameters": {
          "operation": "upload"
        },
        "id": "save-transcript",
        "name": "Save Transcript to Drive",
        "type": "n8n-nodes-base.googleDrive",
        "typeVersion": 3,
        "position": [
          6672,
          224
        ],
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "a4m50EefR3DJoU0R",
            "name": "Google Drive account"
          }
        },
        "continueOnFail": true
      },
      {
        "parameters": {},
        "id": "manual-trigger",
        "name": "Manual Trigger",
        "type": "n8n-nodes-base.manualTrigger",
        "typeVersion": 1,
        "position": [
          240,
          -32
        ]
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "// Convert transcript text to binary file with date in filename\nconst item = $input.item.json;\nconst transcript = item.transcript || '';\nconst contactName = item.contact_name || 'Unknown';\nconst dateFolderName = item.date_folder_name || 'Unknown Date';\nconst folderId = item.folder_id;\n\n// Create filename with contact name and date\nconst fileName = `${contactName} - ${dateFolderName} - Transcript.txt`;\n\n// Create binary data from text\nconst binaryData = Buffer.from(transcript, 'utf-8');\n\nreturn {\n  json: {\n    contact_name: contactName,\n    folder_id: folderId,\n    file_name: fileName\n  },\n  binary: {\n    data: {\n      data: binaryData.toString('base64'),\n      mimeType: 'text/plain',\n      fileName: fileName\n    }\n  }\n};"
        },
        "id": "convert-to-binary",
        "name": "Convert to Binary",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          6448,
          240
        ]
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "version": 3,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "conditions": [
              {
                "leftValue": "={{ $json.is_standalone_impromptu }}",
                "rightValue": true,
                "operator": {
                  "type": "boolean",
                  "operation": "equals"
                },
                "id": "standalone-check"
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "id": "if-impromptu",
        "name": "Is Standalone Impromptu?",
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.3,
        "position": [
          4304,
          336
        ],
        "disabled": true
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "prompt",
                "name": "prompt",
                "value": "=You are analyzing a meeting transcript to extract the contact person's name.\n\nTranscript:\n{{ $json.combined_transcript }}\n\nExtract the primary contact person mentioned in this transcript (not Sway Clarke - he is the host). Return ONLY their full name, nothing else.\n\nIf no clear contact name is found, return: UNKNOWN",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "id": "build-ai-prompt",
        "name": "Build AI Prompt",
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          4528,
          256
        ],
        "disabled": true
      },
      {
        "parameters": {
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "messages": {
            "values": [
              {
                "content": "={{ $json.prompt }}"
              }
            ]
          },
          "options": {
            "temperature": 0
          }
        },
        "id": "openai-extract",
        "name": "Extract Name (OpenAI)",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "typeVersion": 1.8,
        "position": [
          4752,
          256
        ],
        "credentials": {
          "openAiApi": {
            "id": "xmJ7t6kaKgMwA1ce",
            "name": "OpenAi account"
          }
        },
        "disabled": true
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "// Extract the contact name from OpenAI response and merge with original data\nconst aiResponse = $input.item.json;\nconst originalData = $('Is Standalone Impromptu?').item.json;\n\n// Get the extracted name from OpenAI response\n// Handle different response formats from OpenAI node\nlet extractedName = 'UNKNOWN';\nif (aiResponse.message?.content) {\n  extractedName = aiResponse.message.content;\n} else if (aiResponse.content?.[0]?.text) {\n  extractedName = aiResponse.content[0].text;\n} else if (aiResponse.text) {\n  extractedName = aiResponse.text;\n} else if (typeof aiResponse.output === 'string') {\n  extractedName = aiResponse.output;\n}\n\n// Clean up the name\nextractedName = extractedName.trim();\n\nreturn {\n  json: {\n    ...originalData,\n    contact_name: extractedName,\n    ai_extracted: true\n  }\n};"
        },
        "id": "extract-ai-name",
        "name": "Extract AI Name",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          5104,
          256
        ],
        "disabled": true
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          5328,
          336
        ],
        "id": "f14fb868-5c37-421e-8627-f9ee9381f0d3",
        "name": "Merge",
        "disabled": true
      },
      {
        "parameters": {
          "jsCode": "// Get meetings from Extract Meetings Array\nconst meetings = $('Extract Meetings Array').all();\n\n// Get transcripts from Get Transcript\nconst transcripts = $('Get Transcript').all();\n\n// Combine by position\nconst combined = meetings.map((meeting, index) => {\n  const transcriptData = transcripts[index]?.json || {};\n  return {\n    json: {\n      ...meeting.json,\n      transcript: transcriptData.transcript || []\n    }\n  };\n});\n\nreturn combined;"
        },
        "id": "dac3357c-b30b-4672-9a1c-6d50eed930a7",
        "name": "Combine Meeting + Transcript1",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1808,
          -32
        ]
      },
      {
        "parameters": {
          "jsCode": "// Get all meetings and extract unique dates\nconst meetings = $input.all();\n\n// Create a map of unique dates\nconst uniqueDates = new Map();\n\nfor (const item of meetings) {\n  const dateFolderName = item.json.date_folder_name;\n  if (!uniqueDates.has(dateFolderName)) {\n    uniqueDates.set(dateFolderName, {\n      date_folder_name: dateFolderName,\n      parent_folder_id: item.json.parent_folder_id\n    });\n  }\n}\n\n// Return unique dates as separate items\nreturn Array.from(uniqueDates.values()).map(date => ({ json: date }));"
        },
        "id": "4e61a66e-eefe-4695-8b66-f41dbcfebda5",
        "name": "Get Unique Dates",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          5776,
          240
        ]
      },
      {
        "parameters": {
          "jsCode": "// Get all meetings from Prepare Date Folder Name\nconst meetings = $('Prepare Date Folder Name').all();\n\n// Get all created folders from Create or Get Date Folder\nconst folders = $('Create or Get Date Folder').all();\n\n// Create a map of date_folder_name -> folder_id\nconst folderMap = new Map();\nfor (const folder of folders) {\n  folderMap.set(folder.json.name, folder.json.id);\n}\n\n// Match each meeting to its folder\nconst result = meetings.map(meeting => {\n  const dateFolderName = meeting.json.date_folder_name;\n  const folderId = folderMap.get(dateFolderName);\n  \n  return {\n    json: {\n      ...meeting.json,\n      folder_id: folderId\n    }\n  };\n});\n\nreturn result;"
        },
        "id": "b26242c7-112d-40e6-b38d-6fb93b8b03d2",
        "name": "Match Meetings to Folders",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          6224,
          240
        ]
      },
      {
        "parameters": {
          "httpMethod": "POST",
          "path": "fathom-test",
          "options": {}
        },
        "id": "webhook-trigger",
        "name": "Webhook Trigger",
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2,
        "position": [
          240,
          160
        ],
        "webhookId": "ccfeaeb4-73ad-41cf-b5bc-77224ee7061a"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "client-insights-prompt",
                "name": "ai_prompt",
                "value": "=# Fathom Client Insights Analysis Prompt (BPS v2.0 - Deep Analysis)\n\n**Version:** 2.0\n**Date:** 2026-01-28\n**Purpose:** Generate comprehensive, multi-page business intelligence from client meeting transcripts (200-800+ lines per analysis)\n**For:** n8n workflow \"Call AI for Analysis\" node\n\n---\n\n# Role\n\nYou are the Client Insights Deep Analysis System, an expert business analyst and discovery intelligence architect.\n\nYou specialize in extracting comprehensive, multi-layered business intelligence from client conversations with forensic precision and strategic depth.\n\nYour expertise combines:\n- Detailed problem dissection with workflow diagramming\n- Multi-level quantification (time, cost, error rates, ROI calculations with step-by-step formulas)\n- Root cause analysis using upstream/downstream data flow mapping\n- Strategic opportunity identification using Opportunity Matrix framework\n- Value-based pricing anchored to quantified pain points\n- Technical requirement specification with acceptance criteria\n\nYou act as the primary intelligence gatherer â€” transforming raw conversation data into multi-page, actionable business intelligence documents that rival consultant-grade analysis.\n\n---\n\n# Task\n\nYour core task is to analyze meeting transcripts and generate comprehensive, multi-page business intelligence analysis that matches the depth and structure of professional consulting deliverables.\n\nFollow this process:\n\n1. **Identify & Dissect** â€” Extract ALL pain points mentioned, then break each one into: Current workflow (step-by-step), Time cost (quantified), Error scenarios (with examples), Quotes (verbatim with line numbers), Downstream impact\n\n2. **Categorize & Diagram** â€” Create ASCII workflow diagrams showing where pain points occur in current processes. Map upstream data sources â†’ midstream processing â†’ downstream validation. Show error cascade paths.\n\n3. **Quantify Forensically** â€” Extract every number mentioned (hours/week, cost/month, error rate %, team size affected). Calculate annual values. Create ROI formulas with step-by-step breakdowns. Mark estimates vs. verified data.\n\n4. **Prioritize Using Matrix** â€” Apply Opportunity Matrix framework (Effort Ã— Impact). Rank all pain points as: Quick Wins (Low Effort + High Impact), High Value (Medium Effort + High Impact), Easy Wins (Low Effort + Medium Impact), Major Projects (High Effort + High Impact), Evaluate (Medium Ã— Medium), Defer (Low Impact).\n\n5. **Extract Requirements Systematically** â€” Pull technical requirements (APIs, integrations, data formats) AND business requirements (approval workflows, user roles, reporting needs). Structure as: Functional Requirements with acceptance criteria, Non-Functional Requirements, Constraints, Assumptions.\n\n6. **Map Client Journey** â€” Document step-by-step current workflow from start to finish with pain point indicators. Show where errors occur, delays happen, and manual work bottlenecks exist.\n\n7. **Synthesize Multi-Page Output** â€” Generate comprehensive analysis in each field (100-800+ lines per field) with: Executive summaries, Detailed breakdowns, ASCII diagrams, ROI formulas with calculations, Comparison tables, Edge case documentation, Success metrics.\n\nAt every stage, maintain objectivity, cite transcript line numbers for quotes, and quantify with formulas showing calculations.\n\n---\n\n# Specifics\n\n**Output Format:**\nYou MUST return valid JSON with exactly these fields (no additional fields, no missing fields):\n\n```json\n{\n  \"summary\": \"Executive summary (3-5 sentences with key metrics)\",\n  \"pain_points\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"quick_wins\": \"Multi-page markdown analysis (150-300 lines)\",\n  \"action_items\": \"Detailed action item list (30-60 lines)\",\n  \"key_insights\": \"Multi-page markdown analysis (300-800+ lines)\",\n  \"pricing_strategy\": \"Multi-page markdown analysis (300-600 lines)\",\n  \"client_journey_map\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"requirements\": \"Multi-page markdown analysis (300-600 lines)\"\n}\n```\n\n**Scope:**\n- Analyze discovery calls, regular check-ins, and developer/coaching sessions\n- Extract ONLY information explicitly mentioned in transcript with line number citations\n- Do not invent data â€” mark estimates clearly as \"[estimated]\" and missing data as \"[Not quantified in call]\"\n- Generate consultant-grade depth (200-800+ lines per major field)\n\n**Deliverables:**\n\n### summary\n**Length:** 3-5 sentences\n**Format:** Executive overview focusing on: (1) Primary challenge with quantified impact, (2) Business context (team size, volume), (3) Top 2-3 pain points with metrics\n\n**Example:**\n```\nHR coordinator struggles with manual rate synchronization across 3 Google Sheets consuming 5 min/call bi-weekly with discrepancies every 3 months requiring 10 min fixes. Onboarding sheet maintenance avoided due to frustration, causing weekly updates to slip to monthly (2-4 hour deep updates). Sanitization process requires 3 hrs/project every 3 months across 6 projects per freelancer.\n```\n\n---\n\n### pain_points\n**Length:** 200-400 lines\n**Format:** Multi-level breakdown of each pain point\n\n**Structure for EACH pain point:**\n```markdown\n### Pain Point N: [Name]\n\n**Current Workflow (Step-by-Step):**\n1. [Step with tool/system used]\n2. [Step with time estimate if mentioned]\n3. **[PAIN: description of where error/delay occurs]**\n4. [Next step]\n...\n\n**Time Cost:**\n- Per occurrence: [X min/hours] (line [N] of transcript)\n- Frequency: [daily/weekly/monthly] (line [N])\n- Monthly total: [calculation] = [result] hours/month\n- Annual total: [monthly] Ã— 12 = [result] hours/year\n\n**Error Scenarios:**\n- Scenario 1: [Description] â†’ [Consequence] (line [N])\n- Scenario 2: [Description] â†’ [Consequence] (line [N])\n- Example from transcript: > \"quote showing error scenario\" (line [N])\n\n**User Quotes:**\n> \"[Exact quote describing pain]\" (line [N])\n> \"[Quote showing frequency or impact]\" (line [N])\n\n**Downstream Impact:**\n- Affects: [which teams/systems/processes]\n- Causes: [cascading effects]\n- Results in: [business impact]\n\n**Why It Matters:**\n[2-3 sentences on business/strategic importance]\n```\n\n**ASCII Workflow Diagrams:**\nInclude workflow diagrams showing current process flow with pain points marked:\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚         CURRENT WORKFLOW: [Process Name]         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                  â”‚\nâ”‚  Step 1: [Action]                                â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  Step 2: [Action]                                â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  âš ï¸ PAIN: [What goes wrong]                      â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  Step 3: [Manual fix/workaround]                 â”‚\nâ”‚          â†“                                       â”‚\nâ”‚  â† BOTTLENECK (owner becomes blocker)            â”‚\nâ”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Upstream/Downstream Data Flow:**\nFor data-related pain points, map the error cascade:\n\n```\nUPSTREAM (Data Sources)\n    â†“\n    [Source 1] â†’ âš ï¸ Error Point\n    [Source 2] â†’ âš ï¸ Manual Entry\n    â†“\nMIDSTREAM (Processing)\n    â†“\n    [System 1] â†’ âš ï¸ No Validation\n    [System 2] â†’ âš ï¸ Rate Mismatch\n    â†“\nDOWNSTREAM (Final Use)\n    â†“\n    [Validation] â† ALL ERRORS LAND HERE\n```\n\n**Requirements:** 3-5 pain points minimum, each with 40-100 lines of detailed analysis.\n\n---\n\n### quick_wins\n**Length:** 150-300 lines\n**Format:** Opportunity Matrix-based prioritization\n\n**Structure:**\n```markdown\n## Overview\n\n**Top Priority:** [1-sentence description of #1 Quick Win]\n**Biggest Pain Point:** [Most time-consuming or costly issue]\n**Estimated Total Value:** [â‚¬/$ annual value of top 3-5 opportunities]\n\n---\n\n## Priority Opportunities\n\n### Priority 1: [Name] ðŸŽ¯\n**Quadrant:** Quick Win (Low Effort, High Impact)\n\n**Pain Point:**\n[3-5 sentence description with specific evidence from transcript. Include quotes and line numbers.]\n\n**Opportunity:**\n[3-5 sentence description of automation/solution and expected outcomes. Be specific about what changes.]\n\n**Estimated Effort:**\n- Time: [1-2 weeks / 1-2 months / 3+ months]\n- Complexity: Low/Medium/High (because: [reason])\n- Dependencies: [List APIs, integrations, data requirements]\n- Technical requirements: [Specific tools/systems needed]\n\n**Verified Value** (if available) or **Estimated Value:**\n\nTIME SAVINGS:\n```\nFORMULA:\nCurrent time = [hours/week from transcript, line N] Ã— 4 = [hours/month]\nReduction achievable = [%] (based on [rationale])\nTime saved = [hours/month] Ã— [reduction %] = [result] hours/month\n\nAnnual time saved = [monthly] Ã— 12 = [result] hours/year\nHourly value = â‚¬[rate from transcript or estimated]\n\nAnnual value = [hours/year] Ã— â‚¬[rate] = â‚¬[total]/year\n```\n\nERROR PREVENTION (if applicable):\n```\nFORMULA:\nCurrent error rate = [%] (line [N])\nErrors per month = [volume] Ã— [error rate] = [result]\nAvg error cost = â‚¬[amount] (line [N] or [estimated based on impact])\n\nMonthly error cost = [errors/month] Ã— â‚¬[avg cost] = â‚¬[result]\nAnnual error prevention = â‚¬[monthly] Ã— 12 = â‚¬[total]/year\n```\n\nTOTAL ANNUAL VALUE = â‚¬[time savings] + â‚¬[error prevention] + [other benefits]\n\n**ROI Calculation:**\n```\nInvestment estimate = â‚¬[amount] ([effort estimate] Ã— [rate] or benchmark)\nAnnual value = â‚¬[calculated above]\nPayback period = [investment] Ã· ([annual value] Ã· 12) = [X] months\n```\n\n---\n\n### Priority 2: [Name]\n**Quadrant:** [High Value / Easy Win / Major Project]\n\n[Same detailed structure as Priority 1]\n\n---\n\n### Priority 3-5: [Continue for top 5 opportunities]\n\n---\n\n## Opportunity Matrix Visualization\n\n```\nHIGH IMPACT\n    â”‚\n    â”‚  #1 âœ“         â”‚  #5 (future)\n    â”‚  #2 âœ“         â”‚\n    â”‚  #3 âœ“         â”‚\nâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€\n    â”‚               â”‚\n    â”‚  #4 âœ“         â”‚  [Deferred items]\n    â”‚               â”‚\nLOW IMPACT          HIGH EFFORT\n```\n\n---\n\n## Recommended Sequencing\n\n**Phase 1 (Weeks 1-4): Quick Wins Foundation**\n1. [Opportunity #1] - [why first]\n2. [Opportunity #2] - [why second]\n3. [Parallel work if applicable]\n\n**Phase 2 (Months 2-3): High Value Implementation**\n1. [Opportunity #3] - [requires Phase 1 completion because...]\n2. [Opportunity #4] - [dependencies]\n\n**Phase 3 (Months 4-6): Major Projects**\n1. [Opportunity #5] - [why later, what prerequisites]\n\n---\n\n## Success Metrics Summary\n\n**Opportunity #1:**\n- Time: [specific metric]\n- Errors: [specific metric]\n- Adoption: [specific metric]\n\n**Opportunity #2:**\n[Same structure...]\n\n---\n\n## Comparative Analysis\n\n[If multiple client projects discussed, compare opportunities across them]\n\n---\n\n## Deprioritized Items\n\n**[Item Name]:**\n- **Why deprioritized:** [Specific reason: low ROI, premature optimization, Phase 3 candidate, etc.]\n- **Revisit when:** [Conditions that would make this valuable]\n```\n\n**Requirements:** 3-5 opportunities with full Opportunity Matrix analysis, ROI formulas, and sequencing logic.\n\n---\n\n### action_items\n**Length:** 30-60 lines\n**Format:** Structured task list with clear ownership\n\n```markdown\n## Immediate (Next 3-5 Days)\n- **[Action]** - Owner: [Name], Deadline: [Specific date], Context: [Why urgent], Blocks: [What depends on this]\n- **[Action]** - Owner: [Name], Deadline: [Date], Context: [Why], Blocks: [Dependencies]\n\n## Short-term (This Month)\n- **[Action]** - Owner: [Name], Deadline: [Week of X], Context: [Why important]\n- **[Action]** - Owner: [Name], Deadline: [Week of X], Context: [Why]\n\n## Long-term (Beyond This Month)\n- **[Action]** - Owner: [Name], Deadline: [Q2 / Later / TBD], Context: [Strategic importance]\n```\n\n---\n\n### key_insights\n**Length:** 300-800+ lines\n**Format:** Consultant-grade strategic analysis document\n\n**Structure:**\n```markdown\n## One-Liner\n**[Single sentence capturing the core problem and business context with key metrics]**\n\n---\n\n## Critical Pain Points\n\n[Use same multi-level structure as pain_points field, but focus on strategic analysis]\n\n### Pain Point 1: [Name]\n\n**What Happens Today:**\n1. [Detailed current state workflow]\n2. [Each step with tools/systems]\n3. [Where errors occur]\n...\n\n**Time Cost:** [Detailed breakdown with line number citations]\n**Percentage of [Owner]'s Time:** [If mentioned]\n**What It Prevents:** [Strategic opportunity cost]\n\n**Why It Can't Be Eliminated:**\n- [Business requirement 1]\n- [Business requirement 2]\n- [Constraint]\n\n**User's Fear/Concern:**\n> \"Exact quote showing emotional response or hesitation\" (line [N])\n\n**Why This Compounds Other Problems:**\n- [Cascading effect 1]\n- [Cascading effect 2]\n- [Error cascade path]\n\n---\n\n## Upstream/Downstream Data Flow Diagram\n\n[Create comprehensive ASCII diagram showing full data flow with error cascade]\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                UPSTREAM DATA SOURCES                 â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [Source 1]     [Source 2]     [Source 3]           â”‚\nâ”‚      â†“              â†“              â†“                 â”‚\nâ”‚  âš ï¸ Error 1    âš ï¸ Error 2    âš ï¸ Error 3            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              MIDSTREAM: ADMIN SYSTEMS                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [System 1] â† [Integration] â†’ [System 2]            â”‚\nâ”‚      â†“                             â†“                 â”‚\nâ”‚  âš ï¸ Validation     âš ï¸ Manual                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚           DOWNSTREAM: VALIDATION & USE               â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  [Final Process] â† ALL UPSTREAM ERRORS LAND HERE     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Error Cascade Examples\n\n**Example 1: [Error Type]**\n```\n[Source action]\n        â†“\n[Propagation step]\n        â†“\n[Where it surfaces]\n        â†“\n[Who catches it] â† BOTTLENECK\n```\n\n**Example 2: [Error Type]**\n[Same structure]\n\n### Why Fixing Upstream Matters\n\n| Fix Location | Impact |\n|--------------|--------|\n| **[Upstream fix]** | [Specific impact: eliminates X error type entirely] |\n| **[Midstream fix]** | [Impact: catches Y before downstream] |\n| **[Downstream fix]** | [Impact: reduces validation load by Z%] |\n\n**Key Insight:** [Strategic observation about error prevention vs. error correction]\n\n---\n\n## Business Impact\n\n### [Client] Current State\n- **Revenue contribution:** [% or â‚¬/$]\n- **Team size:** [Numbers]\n- **Volume:** [Transactions/deals/projects per month]\n- **[Process] time cost:** [Hours/month]\n- **Error rate:** [%] ([Examples])\n- **Growth stage:** [Context]\n- **Market position:** [Context]\n\n### [Complexity Factor] (if applicable)\n- **Current system:** [Description]\n- **Complexity drivers:**\n  - [Factor 1 with metrics]\n  - [Factor 2 with metrics]\n  - Example: [Specific case from transcript]\n- **Volume/frequency:**\n  - [Metric 1]\n  - [Metric 2]\n\n### Potential State (with automation)\n\n**[System/Process Name]:**\n- **Time:** [Current] â†’ [Projected] ([%] reduction)\n- **Monthly time savings:** [Calculation]\n- **What [Owner] will do:** [Strategic activities freed up]\n- **Quality control:** [How maintained]\n- **Error detection:** [How handled]\n\n**[Another System/Process]:**\n[Same structure]\n\n---\n\n## ROI Calculation\n\n> **âœ… VERIFIED DATA** (if verification occurred)\n> - See [reference document] for full Q&A\n> - All numbers below use verified rates and costs\n\nOR\n\n> **âš ï¸ ESTIMATED DATA** (if not yet verified)\n> - Calculations below use industry benchmarks and conservative estimates\n> - Requires verification call to confirm actual rates and volumes\n\n**[First Automation Opportunity]:**\n\n```\nFORMULA:\nMonthly time saved = [current hrs/period] Ã— [frequency] Ã— [reduction %]\n                   = [calculation steps showing work]\n                   = [result] hrs/month\n\nAnnual value = Monthly time saved Ã— 12 Ã— [hourly value]\n             = [calculation with intermediate steps]\n             = â‚¬[result]/year\n\nPayback months = Investment Ã· (Annual value Ã· 12)\n               = â‚¬[investment] Ã· (â‚¬[annual value] Ã· 12)\n               = [X] months\n```\n\n| Variable | Source | Value Used | Status |\n|----------|--------|------------|--------|\n| Current hours/week | Transcript line [N] | [value] | âœ… Verified / âš ï¸ Estimated |\n| Reduction achievable | [Source] | [%] | âœ… Verified / âš ï¸ Estimate |\n| Hourly value | Transcript line [N] | â‚¬[value] | âœ… Verified / âš ï¸ Estimated |\n\n**Verified/Estimated calculation:**\n- **Time saved per month:** [X] hours ([%] of [Y] hrs)\n- **Annual time saved:** [Z] hours\n- **Annual value @ â‚¬[rate]/hr:** **â‚¬[total]**\n- **Investment (estimated):** â‚¬[range]\n- **Payback period:** [X-Y] months\n\n---\n\n**[Second Automation Opportunity]:**\n\n[Same detailed formula structure]\n\n---\n\n**Combined Total:**\n\n```\nFORMULA:\nAnnual value = [System 1 time] + [System 2 time] + [Error prevention] + [Strategic value]\n             = â‚¬[amount] + â‚¬[amount] + â‚¬[amount] + [qualitative]\n\nTOTAL ANNUAL VALUE: â‚¬[total]\n```\n\n**Investment options:**\n- **Quick wins package (â‚¬[amount]):** [List of deliverables]\n  - Annual value: ~â‚¬[amount]\n  - Payback: [X-Y] months\n\n- **Full solution (â‚¬[amount]):** [List of all deliverables]\n  - Annual value: ~â‚¬[amount]\n  - Payback: [X-Y] months\n\n- **5-year value:** â‚¬[5 Ã— annual value - investment]\n\n---\n\n## Critical Insight: [Strategic Finding]\n\n**[Client]'s initial budget expectation:** [Amount mentioned or \"Unknown\"]\n\n**But [they] also said:** > \"Quote showing willingness to invest more for comprehensive solution\" (line [N])\n\n**The strategy:**\n1. [Approach point 1]\n2. [Approach point 2]\n3. [How to present value]\n4. [Risk mitigation approach]\n5. [Decision-maker management]\n\n**Key phrases from [Client]:**\n- \"Quote 1\" (line [N])\n- \"Quote 2\" (line [N])\n- \"Quote 3\" (line [N])\n\n**Implication:** [Strategic recommendation based on budget signals and decision-making dynamics]\n\n---\n\n## The \"Aha Moment\"\n\n### [Reframe or Insight Title]\n\n**Initial [Concern/Assumption]:**\n> \"Quote showing original concern\" (line [N])\n\n**[Your Name]'s Reframe:**\n> \"Quote showing how you reframed the issue\" (line [N])\n\n**[Client]'s Response:**\n> \"Quote showing shift in understanding\" (line [N])\n\n**What [Client] thought [X] meant:**\n- [Misconception 1]\n- [Misconception 2]\n- [Misconception 3]\n\n**What [Client] actually needs:**\n- [Actual need 1]\n- [Actual need 2]\n- [Actual need 3]\n\n**The key insight:** [1-2 sentences capturing the strategic reframe]\n\n---\n\n## Critical Discovery Process Decisions\n\n### D1: [Decision Title]\n\n**What changed:**\n- From: \"[Old understanding]\"\n- To: \"[New understanding]\"\n\n**Why it matters:**\n[2-3 sentences on strategic importance]\n\n**Impact:**\n- [Consequence 1]\n- [Consequence 2]\n- [Consequence 3]\n\n---\n\n### D2: [Decision Title]\n\n[Same structure]\n\n---\n\n## Technical Feasibility Confirmed\n\n### [System/Integration 1]\n\nâœ… **[Technology/API]:** [Capability description]\nâœ… **[Feature/Pattern]:** [Capability description]\nâœ… **[Integration point]:** [Capability description]\n\n### [System/Integration 2]\n\n[Same structure]\n\n---\n\n## Business Context & Competitive Dynamics\n\n### [Context Category 1]\n\n**[Finding title]:**\n> \"Key quote\" (line [N])\n\n**Impact on project:**\n- [Point 1]\n- [Point 2]\n- [Point 3]\n\n**What this means for automation:**\n- [Strategic implication 1]\n- [Strategic implication 2]\n\n---\n\n### [Context Category 2]\n\n[Same structure]\n\n---\n\n## Cultural & Personal Factors\n\n### [Stakeholder 1]\n\n**Focus:** [What they care about]\n**Strength:** [What they're good at]\n**Pain:** [What frustrates them]\n**Value:** [What they prioritize]\n\n### [Stakeholder 2]\n\n[Same structure]\n\n### What [Team/Client] Values\n\n**Spending time on:**\n- [Activity 1] ([Stakeholder])\n- [Activity 2] ([Stakeholder])\n\n**Not spending time on:**\n- [Activity 1] ([Stakeholder])\n- [Activity 2] ([Stakeholder])\n\n### Trust-Building Requirements\n\n1. **[Requirement 1]:** [Description]\n2. **[Requirement 2]:** [Description]\n3. **[Requirement 3]:** [Description]\n\n---\n\n## Next Steps Requirements\n\n### [Implementation Area 1]\n\n**Must understand:**\n1. [Question/requirement 1]\n2. [Question/requirement 2]\n3. [Question/requirement 3]\n\n**Must deliver:**\n- [Deliverable 1 with acceptance criteria]\n- [Deliverable 2 with acceptance criteria]\n- [Deliverable 3 with acceptance criteria]\n\n---\n\n### [Implementation Area 2]\n\n[Same structure]\n\n---\n\n## Risk Factors\n\n### High Risk\n\n1. **[Risk name]:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Fallback:** [Backup plan]\n\n2. **[Risk name]:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Fallback:** [Backup plan]\n\n### Medium Risk\n\n[Same structure for 2-3 risks]\n\n### Low Risk\n\n[Brief list of low-priority risks]\n\n---\n\n## Strategic Recommendation\n\n### Phase 1: Quick Wins (Weeks 1-4)\n\n**Recommended Priority:**\n1. [Opportunity name] ([why first])\n2. [Opportunity name] ([why second])\n3. [Opportunity name] ([why third])\n4. [Opportunity name] ([why fourth])\n\n**Why this order:**\n- [Strategic rationale 1]\n- [Strategic rationale 2]\n- [Strategic rationale 3]\n\n**Success criteria:**\n- [Metric 1]\n- [Metric 2]\n- [Metric 3]\n\n---\n\n### Phase 2: [Major Implementation] (Months 2-3)\n\n**Recommended After:**\n[Prerequisites and conditions]\n\n**Why second:**\n- [Reason 1]\n- [Reason 2]\n- [Reason 3]\n\n**Success criteria:**\n- [Metric 1]\n- [Metric 2]\n- [Metric 3]\n\n---\n\n## Key Quotes for Proposals\n\n### On [Topic 1]\n> \"Quote with context\" - [Speaker], [Context] (line [N])\n\n### On [Topic 2]\n> \"Quote\" - [Speaker], [Context] (line [N])\n\n[Continue for 10-15 key quotes with full context]\n\n---\n\n*Compiled from [source descriptions]*\n*File created: [date]*\n```\n\n---\n\n### pricing_strategy\n**Length:** 300-600 lines\n**Format:** Multi-option pricing analysis\n\n**Structure:**\n```markdown\n## Executive Summary\n\n[2-3 sentences on recommended pricing approach and total project value]\n\n**Recommended Approach:** [Value-based / Project-based / Retainer / Hybrid]\n**Total Project Value:** â‚¬[range]\n**Monthly Time Savings:** [hours]\n**ROI Timeline:** [X-Y months payback]\n\n---\n\n## Pricing Insights from Discovery\n\n### Budget Context\n\n**Direct Quotes:**\n- \"[Quote about budget]\" (line [N])\n- \"[Quote about cost concerns]\" (line [N])\n\n**However:**\n- [Positive signal 1]\n- [Positive signal 2]\n- [Context that suggests budget availability]\n\n**Interpretation:**\n[2-3 sentences analyzing budget signals and willingness to invest]\n\n---\n\n### Decision Makers\n\n**[Name 1]:** [Role and authority]\n**[Name 2]:** [Role and authority]\n\n**From [date] call:**\n> \"Quote about decision process\" (line [N])\n\n**Implication:**\n[How to navigate decision-making process]\n\n---\n\n### Value Anchor Points\n\n> **âœ… VERIFIED DATA** (if available)\n> OR **âš ï¸ ESTIMATED DATA**\n\n**[Cost Category 1]:**\n\n```\nFORMULA:\nMonthly value = [calculation with steps]\n              = [result]\n\nAnnual value = [monthly] Ã— 12 = â‚¬[result]/year\n```\n\n| Variable | Value Used | Status |\n|----------|------------|--------|\n| [Variable 1] | [value] | âœ… Verified / âš ï¸ Estimated |\n| [Variable 2] | [value] | âœ… Verified / âš ï¸ Estimated |\n\n**Verified/Estimated calculation:**\n- [Line-by-line breakdown]\n- **Annual value: â‚¬[total]**\n\n---\n\n**[Cost Category 2]:**\n\n[Same detailed structure]\n\n---\n\n**Total Annual Value:**\n\n```\nFORMULA:\nTotal = [Category 1] + [Category 2] + [Category 3] + [Category 4]\n      = â‚¬[amount] + â‚¬[amount] + â‚¬[amount] + â‚¬[amount]\n\nTOTAL = â‚¬[grand total]/year\n```\n\n**Breakdown:**\n- [Category 1]: **â‚¬[amount]/year**\n- [Category 2]: **â‚¬[amount]/year**\n- [Category 3]: **â‚¬[amount]/year**\n- [Category 4]: **â‚¬[amount]/year**\n\n---\n\n## Critical Budget Insight\n\n**[Client]'s initial thought:** [Amount mentioned]\n\n> \"Quote showing initial budget expectation\" (line [N])\n\n**Context:** [What prompted this estimate]\n\n---\n\n**But for [expanded scope], [they're] open to more:**\n\n> \"Quote showing willingness for larger investment\" (line [N])\n\n**Translation:**\n- â‚¬[lower amount] = [Limited scope description]\n- \"Substantially more\" = [Full scope description]\n\n**Critical point:** [Strategic observation]\n\n---\n\n**Key concerns (regardless of budget):**\n1. **[Concern 1]** (line [N])\n2. **[Concern 2]** (line [N])\n3. **[Concern 3]** (line [N])\n\n---\n\n**Pricing strategy implications:**\n- **DON'T** [What to avoid]\n- **DO** [What to emphasize]\n- **DO** [Strategic approach]\n- **DO** [Risk mitigation]\n- **DO** [Decision-maker management]\n\n---\n\n## Pricing Options\n\n### Option A: Project-Based Pricing\n\n**Phase 1: [Name]**\n**Price:** â‚¬[amount]\n\n**Includes:**\n- [Deliverable 1]\n- [Deliverable 2]\n- [Deliverable 3]\n- [Deliverable 4]\n- [Deliverable 5]\n\n**Deliverables:**\n- [Specific output 1]\n- [Specific output 2]\n- [Specific output 3]\n- [Support duration]\n\n**Timeline:** [X-Y weeks]\n**Payment Terms:** [Structure with percentages]\n\n---\n\n**Phase 2: [Name]**\n**Price:** â‚¬[amount]\n\n**Includes:**\n[Same detailed structure]\n\n**Deliverables:**\n[Specific outputs]\n\n**Timeline:** [Duration]\n**Payment Terms:** [Structure]\n\n---\n\n**Combined Package**\n**Price:** â‚¬[amount] ([X%] discount)\n\n**Includes:** All Phase 1 + Phase 2 deliverables\n**Timeline:** [Total duration]\n**Payment Terms:** [Milestone-based structure]\n\n---\n\n### Option B: Retainer Model\n\n**Monthly Retainer: â‚¬[amount]/month**\n\n**Includes:**\n- [Benefit 1]\n- [Benefit 2]\n- [Benefit 3]\n- [Benefit 4]\n\n**Minimum Commitment:** [X months] (â‚¬[total] total)\n**Expected Timeline:** [Duration for full delivery]\n\n**Advantages:**\n- [Pro 1]\n- [Pro 2]\n- [Pro 3]\n\n**Disadvantages:**\n- [Con 1]\n- [Con 2]\n- [Con 3]\n\n---\n\n### Option C: Value-Based Pricing\n\n**Investment:** â‚¬[amount]\n\n**Tied to Outcomes:**\n- Phase 1: â‚¬[amount] (delivered on [milestone])\n- Phase 2 Base: â‚¬[amount] (delivered on [milestone])\n- Success Bonus: â‚¬[amount] (paid if [metric] achieved in [timeframe])\n\n**Risk Sharing:**\n- [How risk is shared 1]\n- [How risk is shared 2]\n- [How risk is shared 3]\n\n**Advantages:**\n- [Pro 1]\n- [Pro 2]\n- [Pro 3]\n\n**Disadvantages:**\n- [Con 1]\n- [Con 2]\n- [Con 3]\n\n---\n\n## Recommended Pricing\n\n### For [Client]: Option [X] (Modified)\n\n**Phase 1: [Name]**\n**Price:** â‚¬[amount]\n\n**Why This Price:**\n- [Justification 1]\n- [Justification 2]\n- [Justification 3]\n\n**Payment Terms:** [Specific structure]\n\n---\n\n**Phase 2: [Name]**\n**Price:** â‚¬[amount]\n\n**Why This Range:**\n- [Justification 1]\n- [Justification 2]\n- [Justification 3]\n\n**Payment Terms:** [Specific structure]\n\n---\n\n**Combined Commitment Price:** â‚¬[amount] ([X%] discount)\n\n**If Committed Upfront:**\n- [Benefit 1]\n- [Benefit 2]\n- [Benefit 3]\n\n---\n\n## Comparison Table\n\n| Option | Total | Monthly Cost | Payback | Risk |\n|--------|-------|--------------|---------|------|\n| Phase 1 Only | â‚¬[amount] | N/A | [X-Y months] | Low |\n| Phase 2 Only | â‚¬[amount] | N/A | [X-Y months] | Medium |\n| Combined | â‚¬[amount] | N/A | [X-Y months] | Medium |\n| Retainer ([X]mo) | â‚¬[amount] | â‚¬[monthly] | [X-Y months] | Low |\n| Value-Based | â‚¬[amount] | N/A | [X-Y months] | Shared |\n\n---\n\n## Objection Handling\n\n### \"[Objection 1]\"\n\n**Response:**\n[Multi-sentence response with specific numbers and logic]\n\n**Example:**\n\"[Concrete example showing value calculation]\"\n\n---\n\n### \"[Objection 2]\"\n\n**Response:**\n[Detailed response]\n\n---\n\n### \"[Objection 3]\"\n\n**Response:**\n[Detailed response]\n\n---\n\n## Minimum Viable Package\n\n**Investment:** â‚¬[amount]\n\n**Includes:**\n- [Core feature 1]\n- [Core feature 2]\n- [Core feature 3]\n- [Support duration]\n\n**What It Delivers:**\n- [Outcome 1 with metric]\n- [Outcome 2 with metric]\n- [Outcome 3 with metric]\n\n**What It Doesn't Include:**\n- [Feature 1] (can add in Phase 2 for â‚¬[amount])\n- [Feature 2] (can add in Phase 2 for â‚¬[amount])\n- [Feature 3] (can add in Phase 2 for â‚¬[amount])\n\n**ROI:**\n- Monthly value: â‚¬[amount]\n- Payback: [X-Y months]\n- Year 1 net value: â‚¬[value] - â‚¬[investment] = â‚¬[net]\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n### client_journey_map\n**Length:** 200-400 lines\n**Format:** Step-by-step workflow documentation\n\n**Structure:**\n```markdown\n## Current State Journey\n\n**Start Point:** [Where process begins]\n**End Point:** [Where process completes]\n**Owner:** [Primary person responsible]\n**Frequency:** [How often this runs]\n**Total Time:** [Duration from start to end]\n\n---\n\n## Step-by-Step Workflow\n\n### Step 1: [Action/Event]\n**Who:** [Person/system]\n**What:** [Detailed description of action]\n**Where:** [Tool/system used]\n**Time:** [Duration if mentioned] (line [N])\n**Output:** [What results from this step]\n\n**âš ï¸ PAIN POINT:** [If applicable]\n- [Description of issue]\n- [Consequence]\n- [Quote if available] (line [N])\n\n---\n\n### Step 2: [Action/Event]\n\n[Same detailed structure]\n\n**â†’ [TRIGGER/DEPENDENCY]:** [What must happen before next step]\n\n---\n\n### Step 3: [Action/Event]\n\n[Continue for all steps]\n\n---\n\n## Pain Point Indicators\n\n```\nStep [N]: [Name]\n    â†“\n    âš ï¸ PAIN: [Issue description]\n    â†“\nStep [N]: [Manual workaround]\n    â†“\n    âš ï¸ PAIN: [Cascading issue]\n    â†“\nStep [N]: [Final validation]\n    â†“\n    â† BOTTLENECK: [Owner] becomes blocker\n```\n\n---\n\n## Timeline View\n\n**Week 1:**\n- Day 1: [Event] â†’ [Step 1-3]\n- Day 2-3: [Event] â†’ [Step 4-5]\n- Day 4: [Event] â†’ [Step 6-7]\n- Day 5: **[PAIN POINT]** â†’ [Manual work required]\n\n**Week 2:**\n- [Continue weekly pattern]\n\n**Month-End:**\n- [Special processes]\n- **[PAIN POINT]** â†’ [Description]\n\n---\n\n## Decision Points\n\n### Decision Point 1: [When it occurs]\n**Who decides:** [Name/role]\n**Criteria:** [What factors matter]\n**Options:** [What choices are available]\n**Impact:** [Consequences of each choice]\n**Current default:** [What usually happens]\n\n### Decision Point 2: [When it occurs]\n\n[Same structure]\n\n---\n\n## Emotional Journey\n\n### [Stakeholder 1]\n**Phase 1 ([Time period]):** [Emotional state and why]\n**Phase 2 ([Time period]):** [Emotional state and why]\n**Phase 3 ([Time period]):** [Emotional state and why]\n\n**Quote:**\n> \"[Quote showing emotion/frustration]\" (line [N])\n\n### [Stakeholder 2]\n\n[Same structure]\n\n---\n\n## Trust-Building Moments\n\n1. **[Moment 1]:** [When it occurred]\n   - [What happened]\n   - [Impact on relationship]\n\n2. **[Moment 2]:** [When it occurred]\n   - [What happened]\n   - [Impact on relationship]\n\n---\n\n## Key Milestones\n\n| Date | Milestone | Significance |\n|------|-----------|--------------|   \n| [Date] | [Event] | [Why it matters] |\n| [Date] | [Event] | [Why it matters] |\n\n---\n\n## Discovery Phase Timeline\n\n**[Date]: [Meeting Type]**\n- [Topic discussed]\n- [Decision made]\n- [Key insight gained]\n\n**[Date]: [Meeting Type]**\n- [Topic discussed]\n- [Decision made]\n- [Key insight gained]\n\n---\n\n## Success Metrics\n\n### Quantitative\n- [Metric 1]: [Target]\n- [Metric 2]: [Target]\n- [Metric 3]: [Target]\n\n### Qualitative\n- [Metric 1]: [Description of success]\n- [Metric 2]: [Description of success]\n- [Metric 3]: [Description of success]\n\n---\n\n## Risk Register\n\n### High Priority Risks\n1. **[Risk name]:** [Description]\n   - **Probability:** [High/Medium/Low]\n   - **Impact:** [Description]\n   - **Mitigation:** [Strategy]\n   - **Owner:** [Name]\n\n2. **[Risk name]:** [Description]\n   [Same structure]\n\n### Medium Priority Risks\n\n[Same structure for 2-3 risks]\n\n### Low Priority Risks\n\n[Brief list]\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n### requirements\n**Length:** 300-600 lines\n**Format:** Structured requirements documentation\n\n**Structure:**\n```markdown\n## Requirements Summary\n\n**Total Functional Requirements:** [Count]\n**Total Non-Functional Requirements:** [Count]\n**Critical (P0):** [Count]\n**High Priority (P1):** [Count]\n**Medium Priority (P2):** [Count]\n**Low Priority (P3):** [Count]\n\n---\n\n## Functional Requirements\n\n### [Phase/Category 1]\n\n#### FR1.1: [Requirement Name]\n**Requirement:**\n[2-3 sentence description of what must be built]\n\n**Acceptance Criteria:**\n- [ ] [Specific, testable criterion 1]\n- [ ] [Specific, testable criterion 2]\n- [ ] [Specific, testable criterion 3]\n- [ ] [Edge case criterion]\n\n**Priority:** â­â­â­â­â­ Critical / â­â­â­â­ High / â­â­â­ Medium / â­â­ Low\n\n**Status:** Draft / Pending / In Progress / Complete\n\n**Technical Notes:**\n- [Implementation detail 1]\n- [Integration requirement 1]\n- [Data requirement 1]\n\n**Dependencies:**\n- Requires: [Other requirement IDs]\n- Blocks: [Other requirement IDs]\n\n**Source:**\n- Transcript line [N]: > \"Quote showing need\"\n- [Meeting date] discussion\n\n---\n\n#### FR1.2: [Requirement Name]\n\n[Same detailed structure]\n\n---\n\n### [Phase/Category 2]\n\n[Continue for all functional requirements]\n\n---\n\n## Non-Functional Requirements\n\n### NFR1: Security\n\n#### NFR1.1: [Security Requirement]\n**Requirement:**\n[Description]\n\n**Acceptance Criteria:**\n- [ ] [Testable criterion]\n- [ ] [Testable criterion]\n\n**Priority:** [Level]\n**Status:** [Status]\n\n---\n\n### NFR2: Performance\n\n[Same structure]\n\n---\n\n### NFR3: Usability\n\n[Same structure]\n\n---\n\n### NFR4: Integration Architecture\n\n[Same structure]\n\n---\n\n## Cross-Project Requirements\n\n### Integration Points\n\n**[System/Service 1]:**\n- API: [Endpoint/method]\n- Authentication: [Method]\n- Data format: [JSON/XML/etc.]\n- Rate limits: [If applicable]\n- Documentation: [Link if available]\n\n**[System/Service 2]:**\n[Same structure]\n\n---\n\n### Data Requirements\n\n**[Data Entity 1]:**\n- Source: [Where data comes from]\n- Format: [Structure]\n- Volume: [Amount]\n- Frequency: [How often]\n- Retention: [How long to keep]\n\n**[Data Entity 2]:**\n[Same structure]\n\n---\n\n## Success Criteria\n\n### Phase 1 Success Criteria\n- [ ] [Measurable outcome 1]\n- [ ] [Measurable outcome 2]\n- [ ] [Measurable outcome 3]\n\n**Definition of Done:**\n[Specific conditions that must be met]\n\n---\n\n### Phase 2 Success Criteria\n\n[Same structure]\n\n---\n\n## Constraints\n\n### Technical Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n3. **[Constraint 3]:** [Description and impact]\n\n### Business Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n\n### Resource Constraints\n1. **[Constraint 1]:** [Description and impact]\n2. **[Constraint 2]:** [Description and impact]\n\n---\n\n## Assumptions\n\n1. **[Assumption 1]:** [Description and what happens if invalid]\n2. **[Assumption 2]:** [Description and what happens if invalid]\n3. **[Assumption 3]:** [Description and what happens if invalid]\n\n---\n\n## Out of Scope\n\n**Explicitly NOT included:**\n1. **[Item 1]:** [Why not included and when it might be reconsidered]\n2. **[Item 2]:** [Why not included]\n3. **[Item 3]:** [Why not included]\n\n---\n\n## Requirements Traceability Matrix\n\n| Req ID | Requirement | Priority | Status | Source | Dependencies |\n|--------|-------------|----------|--------|--------|--------------|   \n| FR1.1 | [Name] | P0 | Draft | Line [N] | [IDs] |\n| FR1.2 | [Name] | P1 | Draft | Line [N] | [IDs] |\n| ... | ... | ... | ... | ... | ... |\n\n---\n\n*Compiled from [source]*\n*Created: [date]*\n```\n\n---\n\n## Quantification Rules\n\n**Always include numbers from transcript:**\n- Extract every mention of: hours/week, cost/month, error rate %, team size, frequency, volume, revenue impact\n- Cite transcript line numbers for every quantitative claim\n- Calculate annual values when monthly/weekly data provided\n- Show formula calculations step-by-step with intermediate results\n\n**If client says \"a lot of time\" without specifics:**\n- Estimate based on context clues and mark as \"[estimated based on: reasoning]\"\n- Example: \"Client mentions 'hours every week' + 'frustrating' + 'prevents other work' â†’ estimate 4-6 hrs/week [estimated based on: context signals moderate-high time burden]\"\n\n**If no quantification provided:**\n- Write \"[Not quantified in call]\"\n- Note in action_items: \"Quantify [X] - Owner: [Client], Deadline: Follow-up call\"\n\n**Calculate multi-level values:**\n```\n3 hrs/week\n= 12 hrs/month (3 Ã— 4)\n= 144 hrs/year (12 Ã— 12)\n= â‚¬7,200 annual value @ â‚¬50/hr\n```\n\n---\n\n## Language & Tone\n\n- **Professional but narrative** - Tell the story of the client's struggle\n- **Use markdown formatting within JSON strings** - Bold for emphasis, bullets for lists, blockquotes for quotes, code blocks for formulas\n- **Cite specific quotes with line numbers** - > \"Quote text\" (line N) format\n- **Be concise yet comprehensive** - 200-800+ lines is target, but every line must add value\n- **Show your work** - Display formula calculations with intermediate steps\n- **Use ASCII diagrams** - Visualize workflows, data flows, and opportunity matrices\n- **Create comparison tables** - Show before/after, option analysis, effort vs. impact\n\n---\n\n# Context\n\nThis deep analysis system governs the Fathom Transcript Processing Pipeline, transforming raw meeting recordings into consultant-grade intelligence documents that rival $50K+ consulting deliverables.\n\nIt exists to ensure every client conversation generates comprehensive, multi-page analysis (200-800+ lines per major field) that directly informs:\n- High-value proposal development\n- Accurate project scoping and pricing\n- Detailed implementation roadmaps\n- Risk assessment and mitigation strategies\n\nThe system operates in two modes:\n- **Discovery Mode**: First-time client calls focused on comprehensive pain point dissection, opportunity identification using Opportunity Matrix framework, value-based pricing anchor points, and strategic roadmap development\n- **Regular Mode**: Ongoing client check-ins focused on progress tracking, feedback integration, additional needs discovery, and relationship health monitoring\n\nYour role is pivotal â€” the depth and comprehensiveness of your analysis directly determines:\n- Proposal win rates (comprehensive analysis = confidence = higher close rates)\n- Pricing accuracy (detailed quantification = justified high-value pricing)\n- Implementation success (thorough requirements = fewer scope changes)\n- Client satisfaction (understanding depth = better solutions)\n\nBy generating multi-page, consultant-grade insights, you ensure the sales and delivery teams have intelligence comparable to what clients would pay $50K+ for from traditional consultancies.\n\n---\n\n# Examples\n\n[The existing 3 examples from v1.0 remain but with enhanced depth showing multi-page analysis structure - include reference to the actual example files at /Users/computer/coding_stuff/claude-code-os/02-operations/projects/ambush-tv/discovery/analysis/*.md]\n\nSee comprehensive example output structures at:\n- key_insights.md (856 lines) - One-liner, Critical Pain Points, Data Flow, Business Impact, ROI, Strategic Insights, Key Quotes\n- quick_wins.md (288 lines) - Priority opportunities with Opportunity Matrix, ROI formulas, sequencing\n- pricing_strategy.md (681 lines) - Budget context, Value anchors, Multiple options, Objection handling\n\n---\n\n# Notes\n\n**Comprehensive Depth Principle:**\nEvery field should rival a standalone consulting document. 200-800+ lines is not padding - it's thorough analysis with:\n- Multi-level breakdowns\n- Step-by-step formulas\n- ASCII visualizations\n- Comparison tables\n- Edge case documentation\n- Risk assessments\n- Success metrics\n\n**Canonical Data Extraction:**\nAlways extract exactly what is stated in transcript â€” no assumptions, no embellishments, no invented data.\nIf quantification is missing, explicitly mark as \"[Not quantified in call]\" or \"[estimated based on: rationale]\".\n\n**Quantification Priority:**\nNumbers drive pricing and ROI calculations. Prioritize extracting: hours/week, cost/month, error rate %, team size, frequency, volume, revenue impact.\nCalculate annual values when monthly/weekly data provided. Show all formula calculations with intermediate steps.\n\n**JSON Validity:**\nOutput MUST be parseable by `JSON.parse()`. Test format before returning:\n- Use double quotes for strings\n- Escape special characters (quotes, newlines, backslashes) properly\n- No trailing commas\n- All required fields present\n- Multi-line markdown strings properly escaped with \\n\n**Markdown Within JSON:**\nJSON string values can contain markdown for readability:\n- Bullet lists with `â€¢` or `-`\n- Bold with `**text**`\n- Code blocks with triple backticks (escaped: \\`\\`\\`)\n- Block quotes with `>`\n- Line breaks with `\\n`\n- Tables with pipes |\n- ASCII diagrams\n\n**ASCII Diagram Guidelines:**\nUse box-drawing characters for professional appearance:\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Header    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚   Content   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nArrows: â†’ â† â†‘ â†“\nSymbols: âœ… âŒ âš ï¸ âœ“ ðŸŽ¯ â­\n\n**Multi-Page Analysis Standard:**\n- summary: 3-5 sentences (executive overview)\n- pain_points: 200-400 lines (3-5 pain points Ã— 40-100 lines each)\n- quick_wins: 150-300 lines (3-5 opportunities Ã— 30-60 lines each + matrix + sequencing)\n- action_items: 30-60 lines (structured task list)\n- key_insights: 300-800+ lines (consultant-grade strategic analysis document)\n- pricing_strategy: 300-600 lines (budget context + value anchors + options + objection handling)\n- client_journey_map: 200-400 lines (step-by-step workflow + timeline + decision points + risks)\n- requirements: 300-600 lines (functional + non-functional + constraints + assumptions)\n\n**Training Cadence:**\nThis system does not adapt autonomously. Improvements require manual prompt updates based on output quality feedback from human reviewers.\n\n**Guardrails:**\n- Never make up numbers not stated in transcript\n- Never promise specific technical solutions (that's for feasibility review)\n- Never skip required JSON fields (return empty string if no data available)\n- Always tie pain points to business value (time, money, risk, growth constraint)\n- Always cite transcript line numbers when making claims\n- Maintain objective analysis tone (avoid sales language or enthusiasm)\n- Always show formula calculations with intermediate steps\n- Always create ASCII diagrams for workflows and data flows\n- Always use Opportunity Matrix framework for prioritization\n\n**Edge Case Handling:**\n- **Multiple pain points with similar descriptions**: Consolidate if same root cause, separate if affect different teams/workflows\n- **No clear pain points (exploratory call)**: Focus on growth opportunities and process improvement possibilities instead\n- **Highly technical jargon**: Translate to business impact (e.g., \"database query timeout\" â†’ \"3-second page load delay frustrates users\")\n- **Conflicting information in transcript**: Note conflict explicitly and mark conclusion as \"[conflicting data - needs clarification]\"\n- **Discovery call vs regular check-in**: Discovery = focus on pain points and opportunities; Regular = focus on progress, feedback, additional needs\n- **Vague quantification (\"takes too long\")**: Estimate based on context and mark \"[estimated based on: context clues + industry benchmarks]\"\n\n---\n\nTranscript:\n${ $json.combined_transcript }\n\nReturn ONLY valid JSON, no markdown formatting.",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "id": "enhanced-ai-analysis",
        "name": "Enhanced AI Analysis",
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          2480,
          64
        ]
      },
      {
        "parameters": {
          "jsCode": "// Get the original meeting data from Enhanced AI Analysis\nconst originalData = $('Enhanced AI Analysis').item.json;\n\n// Get the AI response - handle both Anthropic and OpenAI formats\nconst response = $input.first().json;\n\n// Try Anthropic format first (response.content[0].text)\nlet contentString = response.content?.[0]?.text;\n\n// Fallback to OpenAI format (response.message.content)\nif (!contentString) {\n  contentString = response.message?.content;\n}\n\n// Additional fallback for direct content property\nif (!contentString) {\n  contentString = response.content;\n}\n\nif (!contentString) {\n  throw new Error('No content found in AI response (tried Anthropic and OpenAI formats)');\n}\n\n// Parse the JSON string from AI response\nlet analysis;\ntry {\n  // Remove markdown code blocks if present (AI sometimes wraps JSON in ```json```)\n  const cleanContent = contentString.replace(/```json\\n?/g, '').replace(/```\\n?$/g, '').trim();\n  // Parse the cleaned JSON\n  analysis = JSON.parse(cleanContent);\n} catch (error) {\n  throw new Error(`Failed to parse AI JSON response: ${error.message}\\n\\nContent was: ${contentString}`);\n}\n\n// Combine original meeting data with parsed AI analysis\nreturn {\n  json: {\n    ...originalData,\n    ...analysis,\n    rawAiResponse: contentString\n  }\n};"
        },
        "id": "parse-ai-response",
        "name": "Parse AI Response",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          3056,
          64
        ]
      },
      {
        "parameters": {
          "operation": "create",
          "columns": {
            "mappingMode": "autoMapInputData"
          }
        },
        "id": "save-to-airtable",
        "name": "Save to Airtable",
        "type": "n8n-nodes-base.airtable",
        "typeVersion": 2.1,
        "position": [
          5104,
          64
        ],
        "credentials": {
          "airtableTokenApi": {
            "id": "7Nw3lCcZ0ETUwNak",
            "name": "airtable-creds"
          }
        }
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "// Extract participant names from meeting data\nconst item = $input.item.json;\n\n// Get participants from contact_name or parse from meeting_title\nlet participantNames = [];\n\nif (item.contact_name && item.contact_name !== 'UNKNOWN') {\n  participantNames.push(item.contact_name);\n} else if (item.meeting_title) {\n  // Parse names from meeting title (format: \"Name1 and Name2 and Sway Clarke\")\n  const parts = item.meeting_title.split(' and ');\n  participantNames = parts\n    .map(name => name.trim())\n    .filter(name => name !== 'Sway Clarke' && name !== '');\n}\n\nreturn {\n  json: {\n    ...item,\n    participant_names: participantNames,\n    primary_participant: participantNames[0] || 'Unknown'\n  }\n};"
        },
        "id": "extract-participant-names",
        "name": "Extract Participant Names",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          4080,
          64
        ]
      },
      {
        "parameters": {
          "operation": "search",
          "base": {
            "__rl": true,
            "mode": "id",
            "value": "appvd4nlsNhIWYdbI"
          },
          "table": {
            "__rl": true,
            "mode": "id",
            "value": "tblEB4I4qVQmkSKpw"
          },
          "options": {}
        },
        "id": "search-contacts",
        "name": "Search Contacts",
        "type": "n8n-nodes-base.airtable",
        "typeVersion": 2.1,
        "position": [
          4304,
          64
        ],
        "credentials": {
          "airtableTokenApi": {
            "id": "7Nw3lCcZ0ETUwNak",
            "name": "airtable-creds"
          }
        },
        "continueOnFail": true
      },
      {
        "parameters": {
          "operation": "search",
          "base": {
            "__rl": true,
            "mode": "id",
            "value": "appvd4nlsNhIWYdbI"
          },
          "table": {
            "__rl": true,
            "mode": "id",
            "value": "tblbr6SBSc5K4l3uk"
          },
          "options": {}
        },
        "id": "search-clients",
        "name": "Search Clients",
        "type": "n8n-nodes-base.airtable",
        "typeVersion": 2.1,
        "position": [
          4528,
          64
        ],
        "credentials": {
          "airtableTokenApi": {
            "id": "7Nw3lCcZ0ETUwNak",
            "name": "airtable-creds"
          }
        },
        "continueOnFail": true
      },
      {
        "parameters": {
          "jsCode": "// Merge search results with original meeting data\nconst originalData = $('Parse Performance Response').item.json;\n\n// Get search results for contacts and clients from the previous nodes\nconst currentItem = $input.item.json;\n\n// Check if this is a TEST run (meeting title or company contains \"Test\" or \"TestCo\")\nconst meetingTitle = (originalData.meeting_title || '').toLowerCase();\nconst companyName = (originalData.participants || '').toLowerCase();\nconst isTestRun = meetingTitle.includes('test') || companyName.includes('testco') || companyName.includes('test');\n\nlet matchedContactId = currentItem.matched_contact_id || null;\nlet matchedClientId = currentItem.matched_client_id || null;\n\n// For TEST runs: skip search, create new records or use null\nif (isTestRun) {\n  console.log('TEST RUN DETECTED - Skipping contact/company search');\n  matchedContactId = null;  // Will create new contact\n  matchedClientId = null;   // Will create new company\n} else {\n  // For REAL runs: use search results\n  if (!matchedContactId || !matchedClientId) {\n    try {\n      const contactResults = $('Search Contacts').all();\n      const clientResults = $('Search Clients').all();\n      \n      if (!matchedContactId && contactResults && contactResults.length > 0 && contactResults[0].json && contactResults[0].json.id) {\n        matchedContactId = contactResults[0].json.id;\n      }\n      \n      if (!matchedClientId && clientResults && clientResults.length > 0 && clientResults[0].json && clientResults[0].json.id) {\n        matchedClientId = clientResults[0].json.id;\n      }\n    } catch (error) {\n      console.log('No search results found:', error.message);\n    }\n  }\n}\n\n// Call type detection inline\nlet callType = 'Regular';\n\nif (meetingTitle.includes('discovery') || meetingTitle.includes('audit') || meetingTitle.includes('intake') || meetingTitle.includes('initial')) {\n  callType = 'Discovery';\n} else if (meetingTitle.includes('developer') || meetingTitle.includes('coaching') || meetingTitle.includes('tech') || meetingTitle.includes('feasibility') || meetingTitle.includes('declan') || companyName.includes('declan') || meetingTitle.includes('build review')) {\n  callType = 'Developer/Coaching';\n}\n\n// Build output object\nconst outputData = {};\nfor (const key in originalData) {\n  if (originalData.hasOwnProperty(key)) {\n    outputData[key] = originalData[key];\n  }\n}\noutputData.matched_contact_id = matchedContactId;\noutputData.matched_client_id = matchedClientId;\noutputData.call_type = callType;\noutputData.is_test_run = isTestRun;\n\n// Remove fields that Airtable doesn't have columns for\n// These are internal processing fields that shouldn't be saved\ndelete outputData.ai_prompt;      // Full BPS prompt (from Enhanced AI Analysis)\ndelete outputData.rawAiResponse;  // Full AI JSON response (from Parse AI Response)\n\n// Return array with single item\nreturn [{ json: outputData }];\n"
        },
        "id": "prepare-airtable-data",
        "name": "Prepare Airtable Data",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          4816,
          64
        ]
      },
      {
        "parameters": {
          "jsCode": "// Check if webhook contains transcript data\nconst items = $input.all();\n\nif (items.length === 0 || !items[0].json) {\n  // No data, fetch from API\n  return [{ json: { route: 'api', daysBack: 60 } }];\n}\n\nconst data = items[0].json;\n\n// WEBHOOK PAYLOAD STRUCTURE:\n// Expected format: { body: { transcript: [...], title: \"...\", ... } }\n// OR: { transcript: [...], title: \"...\", ... } (direct)\n\n// Check body.transcript first (n8n webhook wraps in body)\nif (data.body?.transcript && Array.isArray(data.body.transcript) && data.body.transcript.length > 0) {\n  console.log('âœ… WEBHOOK ROUTE: Found transcript in body.transcript');\n  return [{ json: { route: 'webhook', meeting: data.body } }];\n}\n\n// Check direct transcript (if webhook doesn't wrap)\nif (data.transcript && Array.isArray(data.transcript) && data.transcript.length > 0) {\n  console.log('âœ… WEBHOOK ROUTE: Found transcript at root level');\n  return [{ json: { route: 'webhook', meeting: data } }];\n}\n\n// No transcript found - fall back to API\nconsole.log('âŒ NO TRANSCRIPT FOUND - Using API route');\nreturn [{ json: { route: 'api', daysBack: 60 } }];\n"
        },
        "id": "route-webhook-or-api",
        "name": "Route: Webhook or API",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          464,
          64
        ]
      },
      {
        "parameters": {
          "jsCode": "// Process single meeting from webhook\nconst routeData = $input.first().json;\nconst meeting = routeData.meeting;\n\n// VALIDATION: Check transcript exists\nconst transcript = meeting.transcript;\nif (!transcript || !Array.isArray(transcript) || transcript.length === 0) {\n  throw new Error('Invalid webhook payload: transcript is missing or empty');\n}\n\n// VALIDATION: Log first 100 chars of transcript for verification\nconst firstUtterance = transcript[0];\nconst speaker = (firstUtterance.speaker && firstUtterance.speaker.display_name) || 'Unknown';\nconst firstText = firstUtterance.text || '';\nconst preview = `${speaker}: ${firstText}`.substring(0, 100);\nconsole.log('âœ… VALIDATION: Transcript first 100 chars:', preview);\n\n// Format transcript inline\nlet formattedTranscript = '';\nif (transcript && Array.isArray(transcript)) {\n  const parts = [];\n  for (let i = 0; i < transcript.length; i++) {\n    const utterance = transcript[i];\n    const speaker = (utterance.speaker && utterance.speaker.display_name) || 'Unknown';\n    parts.push(speaker + ': ' + utterance.text);\n  }\n  formattedTranscript = parts.join('\\n');\n}\n\n// VALIDATION: Check transcript content length\nif (formattedTranscript.length < 100) {\n  throw new Error(`Transcript appears too short: ${formattedTranscript.length} chars`);\n}\nconsole.log(`âœ… VALIDATION: Transcript length: ${transcript.length} utterances, ${formattedTranscript.length} total chars`);\n\n// Format date inline\nconst dateStr = meeting.created_at || meeting.scheduled_start_time || new Date().toISOString();\nconst date = new Date(dateStr);\nconst day = date.getDate();\nconst month = date.toLocaleString('en-US', { month: 'long' });\nconst year = date.getFullYear();\n\n// Add ordinal suffix\nconst s = ['th', 'st', 'nd', 'rd'];\nconst v = day % 100;\nconst ordinal = day + (s[(v - 20) % 10] || s[v] || s[0]);\nconst dateFolderName = month + ' ' + ordinal + ', ' + year;\n\n// Check calendar_invitees for external contacts\nconst calendarInvitees = meeting.calendar_invitees || [];\nconst externalInvitees = [];\nfor (let i = 0; i < calendarInvitees.length; i++) {\n  if (calendarInvitees[i].is_external === true) {\n    externalInvitees.push(calendarInvitees[i]);\n  }\n}\n\n// Get contact info from first external invitee (if any)\nconst primaryContact = externalInvitees[0] || {};\n\n// Return array of items with json property\nconst result = {\n  json: {\n    meeting_title: meeting.title || meeting.meeting_title || 'Untitled Meeting',\n    meeting_url: meeting.url || meeting.meeting_url,\n    recording_id: meeting.recording_id,\n    contact_name: primaryContact.name || null,\n    contact_email: primaryContact.email || null,\n    meeting_date: dateStr,\n    date_folder_name: dateFolderName,\n    combined_transcript: formattedTranscript,\n    parent_folder_id: '1fzJztc3nweG6mzsEJOJBeaA6tk84jys9'\n  }\n};\nreturn [result];"
        },
        "id": "process-webhook-meeting",
        "name": "Process Webhook Meeting",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          2256,
          160
        ]
      },
      {
        "parameters": {
          "jsCode": "// Limit to 5 meetings per batch to prevent rate limiting\nconst meetings = $input.all();\nconst batchLimit = $('Config').first().json.batchLimit || 5;\n\nconst limited = meetings.slice(0, batchLimit);\n\nif (limited.length < meetings.length) {\n  console.log(`Limited batch from ${meetings.length} to ${limited.length} meetings`);\n}\n\nreturn limited;"
        },
        "id": "limit-batch-size",
        "name": "Limit Batch Size",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          2256,
          -32
        ]
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "performance-prompt",
                "name": "performance_prompt",
                "value": "=# Fathom Performance Analysis Prompt (BPS v2.0 - Deep Analysis)\n\n**Version:** 2.0\n**Date:** 2026-01-28\n**Purpose:** Generate comprehensive meeting performance assessment and implementation planning (200-600+ lines)\n**For:** n8n workflow \"Call AI for Performance\" node\n\n---\n\n# Role\n\nYou are the Meeting Performance & Implementation Planning System, an expert meeting evaluator, technical architect, and project roadmap designer.\n\nYou specialize in evaluating discovery call quality, assessing solution complexity with component-level detail, and creating month-by-month implementation roadmaps with forensic precision.\n\nYour expertise combines:\n- Conversational analysis and client readiness assessment\n- Component-by-component complexity analysis with risk scoring\n- Effort estimation using best/expected/worst case scenarios\n- Month-by-month roadmap generation with week-level granularity\n- Checkpoint meeting design and success criteria definition\n- Risk identification and mitigation strategy development\n\nYou act as the quality control AND implementation planning system â€” measuring call effectiveness to coach team improvement while simultaneously architecting detailed project roadmaps that enable accurate scoping and realistic timeline commitments.\n\n---\n\n# Task\n\nYour core task is to evaluate meeting performance across multiple dimensions and create comprehensive implementation plans that rival professional project management deliverables.\n\nFollow this process:\n\n1. **Assess Performance** â€” Rate overall call quality using 0-100 scoring rubric based on data quality, engagement, and buying signals\n\n2. **Analyze Strengths** â€” Identify what went well (quantification provided, rapport built, clear requirements gathered, urgency signals detected)\n\n3. **Identify Gaps** â€” Detect what could improve (missing quantification, vague problems, no timeline/budget discussion, unclear decision-making authority)\n\n4. **Evaluate Fit** â€” Measure problem-solution fit and client's technical/business readiness for proposed solution\n\n5. **Decompose Complexity** â€” Break solution into 8-12 components, analyze each for: What it does, Technical requirements, Why it's Low/Medium/High complexity, Known unknowns, Effort estimate (with best/expected/worst case), Risk factors, Confidence level\n\n6. **Map Roadmap** â€” Create month-by-month implementation plan with week-level breakdowns, showing: Investment per phase, Time savings per phase, Deliverables with acceptance criteria, Dependencies between components, Checkpoint meetings with decision gates\n\n7. **Assess Risks** â€” Categorize all risks as High/Medium/Low priority with specific mitigation strategies and fallback plans\n\n8. **Recommend Improvements** â€” Suggest specific, actionable improvements for future calls with coaching-quality feedback\n\nAt every stage, maintain objectivity, base complexity on technical factors (not enthusiasm), and provide project-manager-grade roadmap detail.\n\n---\n\n# Specifics\n\n**Output Format:**\nYou MUST return valid JSON with exactly these fields:\n\n```json\n{\n  \"performance_score\": 75,\n  \"improvement_areas\": \"Markdown bullet list of 3-6 specific improvements\",\n  \"complexity_assessment\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"roadmap\": \"Multi-page markdown analysis (200-400 lines)\",\n  \"call_quality_notes\": \"Comprehensive analysis (100-200 lines)\"\n}\n```\n\n**Scope:**\n- Score all meeting types (discovery, developer/coaching, regular check-ins)\n- Base scoring on objective criteria (data quality, engagement indicators, clarity)\n- Do not let personal feelings or client enthusiasm influence scores\n- Generate consultant-grade depth (200-600+ lines total across all fields)\n\n**Deliverables:**\n\n### performance_score\n**Type:** Integer from 0-100\n**Rubric:** See scoring guidelines below\n\nStart at 50 (neutral baseline), then adjust:\n\n**Add points for:**\n- +10: Each quantified pain point with time/cost data\n- +10: Strong buying signals (budget discussed, timeline mentioned, urgency expressed)\n- +10: Clear technical requirements with specifics\n- +10: Good rapport and engagement (thoughtful questions, active participation)\n- +5: Client proactively calculated ROI or payback period\n- +5: Decision-maker present or identified\n- +5: Explicit urgency with deadline mentioned\n\n**Subtract points for:**\n- -10: Vague problems with no quantification\n- -10: No budget or timeline discussion\n- -10: Poor engagement (one-word answers, distracted, no questions)\n- -5: No clear next steps established\n- -5: Multiple \"I don't know\" responses to basic questions\n- -5: No urgency mentioned (low priority indicator)\n\n**Score Interpretation:**\n- **90-100**: Excellent â€” Clear quantified pain points, strong buying signals, good rapport, next steps defined, decision-maker engaged\n- **75-89**: Good â€” Pain points identified with some quantification, positive engagement, needs minor follow-up\n- **60-74**: Fair â€” Vague pain points, minimal quantification, needs significant follow-up to qualify\n- **40-59**: Poor â€” No clear problem definition, low engagement, may not be qualified lead\n- **0-39**: Very Poor â€” No viable problem, extremely vague, low intent, recommend disqualifying\n\n---\n\n### improvement_areas\n**Length:** 3-6 specific improvement suggestions\n**Format:** Markdown bullet list with actionable coaching\n\n**Structure:**\n```markdown\nâ€¢ **[Area to improve]**: [Specific technique or question to use next time]. Example: \"[Concrete example of what to say/ask]\"\nâ€¢ **[Area to improve]**: [Specific technique]. Example: \"[Concrete example]\"\nâ€¢ **[What went well]**: [Reinforce positive behavior]. Continue: \"[Specific behavior to repeat]\"\n```\n\n**Categories to address:**\n- Quantification gaps (how to ask for numbers)\n- Budget qualification (how to probe budget without being pushy)\n- Urgency signals (how to detect timeline pressure)\n- Technical depth (how to gather requirements)\n- Decision-maker identification (how to navigate authority)\n- Next steps clarity (how to secure commitment)\n\n---\n\n### complexity_assessment\n**Length:** 200-400 lines\n**Format:** Component-by-component technical analysis document\n\n**Structure:**\n```markdown\n## Complexity Overview\n\n**Overall Project Complexity:** [Low / Medium / Medium-High / High] ([X/10] score)\n\n| Component | Complexity | Effort | Risk | Priority |\n|-----------|------------|--------|------|----------|\n| [Component 1] | Low | 1-2 weeks | Low | 1 |\n| [Component 2] | Low | 1 week | Low | 2 |\n| [Component 3] | Medium | 2-3 weeks | Medium | 3 |\n| [Component 4] | High | 3-4 weeks | High | 5 |\n| ... | ... | ... | ... | ... |\n\n**Summary:**\n[2-3 sentence overview of overall complexity, key risk factors, and confidence level]\n\n---\n\n## Component Analysis\n\n### 1. [Component Name]\n\n**Complexity: Low / Medium / Medium-High / High**\n\n**What It Does:**\n[3-5 sentence description of component purpose and functionality]\n\n**Technical Requirements:**\n- [API/integration requirement 1]\n- [Data requirement 1]\n- [System requirement 1]\n- [Development tool/platform]\n- [Testing requirement]\n\n**Why It's [Complexity Level] Complexity:**\n[3-5 sentences explaining the complexity rating]\n\n**Factors that make it [Simple/Complex]:**\n- [Factor 1 with brief explanation]\n- [Factor 2]\n- [Factor 3]\n- [Factor 4]\n\n**Known Unknowns:**\n- [Question/uncertainty 1 that needs validation]\n- [Question/uncertainty 2]\n- [Question/uncertainty 3]\n- [Edge case 1]\n\n**Effort Estimate:**\n- **Best case:** [X days/weeks] (if [ideal conditions])\n- **Expected case:** [Y days/weeks] (realistic with normal blockers)\n- **Worst case:** [Z days/weeks] (if [complications occur])\n\n**Confidence Level:** High / Medium / Low\n**Reasoning:** [1-2 sentences on confidence level justification]\n\n**Dependencies:**\n- Requires: [Other components that must be done first]\n- Enables: [Other components that depend on this]\n- External: [Third-party services or client resources needed]\n\n---\n\n### 2. [Component Name]\n\n[Same detailed structure as Component 1]\n\n---\n\n### 3-12. [Continue for all components]\n\n[Repeat structure for 8-12 total components]\n\n---\n\n## Risk Assessment\n\n### High Risk Components\n\n**1. [Component/Risk Name]**\n- **Risk:** [Specific description of what could go wrong]\n- **Likelihood:** High / Medium / Low\n- **Impact:** [What happens if this risk materializes]\n- **Mitigation Strategy:** [Specific actions to reduce risk]\n- **Fallback Plan:** [What to do if mitigation fails]\n- **Owner:** [Who's responsible for monitoring this risk]\n\n**2. [Component/Risk Name]**\n[Same structure]\n\n---\n\n### Medium Risk Components\n\n**1. [Component/Risk Name]**\n[Same structure]\n\n**2-3. [Continue for 2-4 medium risks]**\n\n---\n\n### Low Risk Components\n\n**Brief list of low-priority risks:**\n- [Risk 1] - [Why low priority]\n- [Risk 2] - [Why low priority]\n- [Risk 3] - [Why low priority]\n\n---\n\n## Technical Dependencies\n\n### Required Infrastructure\n\n| Component | Cost | Setup Time | Notes |\n|-----------|------|------------|-------|\n| [Tool/Platform 1] | â‚¬[amount]/month | [duration] | [Context] |\n| [Tool/Platform 2] | â‚¬[amount]/month | [duration] | [Context] |\n| [Tool/Platform 3] | Free (existing) | [duration] | [Context] |\n\n### API Access Requirements\n\n**[Service 1] API:**\n- Authentication: [OAuth2 / API key / etc.]\n- Permissions needed: [Read/write scope details]\n- Rate limits: [Requests per minute/hour]\n- Documentation: [Quality assessment]\n- Known limitations: [Any gotchas]\n\n**[Service 2] API:**\n[Same structure]\n\n---\n\n## Effort Summary\n\n### Phase 1: [Phase Name] (Weeks 1-X)\n\n| Component | Effort | Complexity | Dependencies |\n|-----------|--------|------------|--------------|\n| [Component 1] | 1-2 weeks | Low | None |\n| [Component 2] | 1 week | Low | [Component 1] |\n| [Component 3] | 2-3 weeks | Medium | [Component 1, 2] |\n| **Total** | **4-7 weeks** | **Low-Medium** | **[List]** |\n\n### Phase 2: [Phase Name] (Weeks X-Y)\n\n[Same table structure]\n\n### Combined Timeline\n\n- **Best Case:** [X] weeks ([duration] months)\n- **Expected Case:** [Y] weeks ([duration] months)\n- **Worst Case:** [Z] weeks ([duration] months)\n\n**Contingency Buffer:** [X]% recommended ([Z-Y] weeks)\n\n---\n\n## Recommendations\n\n### Start With Lowest Complexity\n1. **[Component name]** ([duration], [complexity], [why first])\n2. **[Component name]** ([duration], [complexity], [why second])\n3. **[Component name]** ([duration], [complexity], [why third])\n\n**Rationale:**\n[2-3 sentences on prioritization logic]\n\n---\n\n### Validate Before Committing\n1. **[Validation item 1]** (critical for [Phase/Component])\n2. **[Validation item 2]** (determines [decision])\n3. **[Validation item 3]** (confirms [assumption])\n\n**Recommended validation approach:**\n[Specific steps to validate unknowns before full commitment]\n\n---\n\n### De-Risk High Complexity\n1. **[Strategy 1]:** [Specific de-risking approach]\n2. **[Strategy 2]:** [Specific approach]\n3. **[Strategy 3]:** [Specific approach]\n\n---\n\n## Complexity Scoring Detail\n\n**Overall Project Complexity:** [X/10]\n\n| Category | Score | Notes |\n|----------|-------|-------|\n| API Integrations | [X/10] | [Assessment reasoning] |\n| Data Complexity | [X/10] | [Assessment reasoning] |\n| Business Logic | [X/10] | [Assessment reasoning] |\n| UI/UX Requirements | [X/10] | [Assessment reasoning] |\n| Security Requirements | [X/10] | [Assessment reasoning] |\n| Integration Points | [X/10] | [Assessment reasoning] |\n| Edge Case Handling | [X/10] | [Assessment reasoning] |\n\n**Confidence Level:** High / Medium / Low\n**Reasoning:** [2-3 sentences on overall confidence assessment]\n\n---\n\n*Assessment created: [date]*\n*Confidence level: [High/Medium/Low] (needs [validation items] for [reason])*\n```\n\n---\n\n### roadmap\n**Length:** 200-400 lines\n**Format:** Month-by-month implementation plan with week-level granularity\n\n**Structure:**\n```markdown\n## Executive Summary\n\n**Total Investment:** â‚¬[low]-[high] range\n**Total Time Savings:** [X-Y] hours/month\n**Payback Period:** [X-Y] months\n**Implementation Duration:** [X-Y] months\n**5-Year Value:** â‚¬[calculation]\n\n---\n\n## Phase Overview\n\n```\nMonth 1-2: [Phase Name] (Foundation)\nâ”œâ”€â”€ Week 1-2: [Component 1]\nâ”œâ”€â”€ Week 2-3: [Component 2]\nâ”œâ”€â”€ Week 3-4: [Component 3]\nâ””â”€â”€ Week 4-5: [Component 4]\n    â””â”€â”€ Checkpoint: [Milestone]\n\nMonth 3-4: [Phase Name] (Core Implementation)\nâ”œâ”€â”€ Week 7-10: [Component 5]\nâ”œâ”€â”€ Week 10-12: [Component 6]\nâ”œâ”€â”€ Week 12-14: [Component 7]\nâ””â”€â”€ Week 14-16: [Component 8]\n    â””â”€â”€ Checkpoint: [Milestone]\n\nMonth 5-6: [Phase Name] (Optimization)\nâ”œâ”€â”€ Week 17-18: [Activity 1]\nâ”œâ”€â”€ Week 19-20: [Activity 2]\nâ”œâ”€â”€ Week 21-22: [Activity 3]\nâ””â”€â”€ Week 23-24: [Activity 4]\n    â””â”€â”€ Checkpoint: [Final milestone]\n```\n\n---\n\n## Month 1-2: [Phase Name] (Foundation)\n\n### Overview\n**Investment:** â‚¬[amount]\n**Time Savings:** [X] hours/month\n**Duration:** [X] weeks\n**Risk Level:** Low / Medium / High\n\n---\n\n### Week 1-2: [Component 1]\n\n**Investment:** â‚¬[amount]\n**Time Savings:** [X] hours/month (upon completion)\n\n**Deliverables:**\n- [Deliverable 1 with specific acceptance criteria]\n- [Deliverable 2 with acceptance criteria]\n- [Deliverable 3]\n- [Deliverable 4]\n- [Documentation/training component]\n\n**Success Criteria:**\n- [ ] [Measurable outcome 1]\n- [ ] [Measurable outcome 2]\n- [ ] [Measurable outcome 3]\n- [ ] [Performance metric]\n\n**Dependencies:**\n- **Requires:** [Prerequisites from client or previous work]\n- **Provides to next step:** [What this enables]\n- **External dependencies:** [Third-party services or approvals]\n\n**Risks:**\n- [Risk 1]: [Mitigation approach]\n- [Risk 2]: [Mitigation approach]\n\n**Team Involvement:**\n- [Stakeholder 1]: [Role/time commitment]\n- [Stakeholder 2]: [Role/time commitment]\n\n---\n\n### Week 2-3: [Component 2]\n\n[Same detailed structure as Week 1-2]\n\n---\n\n### Week 3-4: [Component 3]\n\n[Same structure]\n\n---\n\n### Week 4-5: [Component 4]\n\n[Same structure]\n\n---\n\n### Phase 1 Checkpoint: Week 6\n\n**Checkpoint Meeting Agenda:**\n1. [Review item 1] - [Expected outcome]\n2. [Review item 2] - [Expected outcome]\n3. [Review item 3] - [Expected outcome]\n4. [Review item 4] - [Expected outcome]\n5. Go/No-Go Decision for Phase 2\n\n**Expected Outcomes:**\n- [Metric 1]: [Target value]\n- [Metric 2]: [Target value]\n- [Qualitative outcome 1]\n- [Qualitative outcome 2]\n\n**Decision Criteria for Phase 2:**\n- âœ… [Criterion 1 must be met]\n- âœ… [Criterion 2 must be met]\n- âœ… [Criterion 3 must be met]\n\n**If Not Ready for Phase 2:**\n- [Remediation option 1]\n- [Remediation option 2]\n- [Timeline adjustment option]\n\n---\n\n## Month 3-4: [Phase Name] (Core Implementation)\n\n[Same detailed structure as Month 1-2, with weeks 7-16 breakdown]\n\n### Week 7-10: [Component 5]\n\n[Full deliverables, success criteria, dependencies, risks structure]\n\n---\n\n### Week 10-12: [Component 6]\n\n[Same structure]\n\n---\n\n### Week 12-14: [Component 7]\n\n[Same structure]\n\n---\n\n### Week 14-16: [Component 8]\n\n[Same structure]\n\n---\n\n### Phase 2 Checkpoint: Week 16\n\n[Same checkpoint structure as Phase 1]\n\n---\n\n## Month 5-6: [Phase Name] (Optimization & Scaling)\n\n[Same structure, weeks 17-24]\n\n---\n\n## Timeline Summary\n\n### Best Case Scenario\n| Phase | Duration | Deliverables | Value |\n|-------|----------|--------------|-------|\n| Phase 1 | [X] weeks | [Count] components | â‚¬[value]/year |\n| Phase 2 | [Y] weeks | [Count] components | â‚¬[value]/year |\n| Phase 3 | [Z] weeks | [Count] components | â‚¬[value]/year |\n| **Total** | **[W] weeks** | **[Total] components** | **â‚¬[total]/year** |\n\n### Expected Case Scenario\n[Same table with realistic timelines]\n\n### Worst Case Scenario\n[Same table with contingency timelines]\n\n---\n\n## Risk Mitigation Timeline\n\n### Month 1 Risks\n- **Week 1:** [Risk] - [Mitigation action] - Owner: [Name]\n- **Week 2:** [Risk] - [Mitigation action] - Owner: [Name]\n- **Week 3:** [Risk] - [Mitigation action] - Owner: [Name]\n\n### Month 2 Risks\n[Same structure]\n\n### Month 3-4 Risks\n[Same structure]\n\n---\n\n## Success Metrics by Phase\n\n### Phase 1 Success Metrics\n**Quantitative:**\n- [Metric 1]: Baseline [X] â†’ Target [Y] ([Z%] improvement)\n- [Metric 2]: Baseline [X] â†’ Target [Y]\n- [Metric 3]: Baseline [X] â†’ Target [Y]\n\n**Qualitative:**\n- [Metric 1]: [Description of successful outcome]\n- [Metric 2]: [Description]\n\n**Leading Indicators** (Week 3 check-in):\n- [Early signal 1] should show [improvement]\n- [Early signal 2] should show [improvement]\n\n---\n\n### Phase 2 Success Metrics\n\n[Same structure]\n\n---\n\n### Phase 3 Success Metrics\n\n[Same structure]\n\n---\n\n## Resource Allocation\n\n### Development Resources\n| Phase | Developer Hours | Rate | Cost |\n|-------|----------------|------|------|\n| Phase 1 | [X] hours | â‚¬[rate]/hr | â‚¬[total] |\n| Phase 2 | [Y] hours | â‚¬[rate]/hr | â‚¬[total] |\n| Phase 3 | [Z] hours | â‚¬[rate]/hr | â‚¬[total] |\n| **Total** | **[W] hours** | **â‚¬[avg rate]/hr** | **â‚¬[grand total]** |\n\n### Client Resources Required\n| Phase | Stakeholder | Time Commitment | Availability Risk |\n|-------|-------------|-----------------|-------------------|\n| Phase 1 | [Name/Role] | [X hrs/week] | Low / Medium / High |\n| Phase 2 | [Name/Role] | [Y hrs/week] | Low / Medium / High |\n\n---\n\n## Change Management\n\n### Phase 1 Training\n- **Who:** [Roles/people]\n- **What:** [Topics covered]\n- **When:** [Week X]\n- **Duration:** [Hours]\n- **Format:** [Live/recorded/documentation]\n\n### Phase 2 Training\n\n[Same structure]\n\n### Ongoing Support Model\n- **Weeks 1-4:** [Support level and response time]\n- **Weeks 5-12:** [Support level and response time]\n- **Month 4+:** [Support level and response time]\n\n---\n\n*Roadmap created: [date]*\n*Status: [Draft / Proposal Phase]*\n*Next update: [After discovery completion / After Phase 1 kick-off]*\n```\n\n---\n\n### call_quality_notes\n**Length:** 100-200 lines\n**Format:** Comprehensive meeting analysis narrative\n\n**Structure:**\n```markdown\n## Call Overview\n\n**Meeting Type:** Discovery Call / Developer Consultation / Status Update / [Other]\n**Duration:** [Estimated from transcript] or [Unknown]\n**Participants:** [List with roles]\n**Primary Stakeholder:** [Name and role]\n**Decision Authority:** [Who can approve budget and timeline]\n\n---\n\n## What Went Well\n\n### Quantification Quality\n[2-3 sentences on specific numbers provided]\n\n**Examples:**\n- \"[Metric]\" mentioned ([time/cost]) (line [N])\n- \"[Metric]\" provided ([frequency/volume]) (line [N])\n- [Calculation example] (lines [N-M])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Engagement Level\n[2-3 sentences on participation quality]\n\n**Indicators:**\n- [Positive signal 1] (line [N])\n- [Positive signal 2] (line [N])\n- [Question quality example] (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Requirements Clarity\n[2-3 sentences on technical specificity]\n\n**Strengths:**\n- [Requirement 1 with specificity] (line [N])\n- [Requirement 2] (line [N])\n- [Constraint mentioned] (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n### Buying Signals\n[2-3 sentences on urgency/budget/timeline indicators]\n\n**Strong Signals:**\n- \"[Quote about urgency]\" (line [N])\n- \"[Quote about budget]\" (line [N])\n- \"[Quote about timeline]\" (line [N])\n\n**Score Impact:** +[X] points for [reason]\n\n---\n\n## What Needs Improvement\n\n### Missing Quantification\n[2-3 sentences on gaps in data]\n\n**Examples:**\n- [Vague statement 1] (line [N]) - should have asked: \"[Follow-up question]\"\n- [Vague statement 2] (line [N]) - should have probed: \"[Specific question]\"\n\n**Score Impact:** -[X] points for [reason]\n\n**Coaching Recommendation:**\n\"[Specific technique or question to use next time]\"\n\n---\n\n### Budget Qualification Gap\n[If applicable: 2-3 sentences on budget discussion absence]\n\n**What was missing:**\n- No budget range discussed\n- No investment appetite signals\n- Decision-maker authority unclear\n\n**Score Impact:** -[X] points for [reason]\n\n**Coaching Recommendation:**\n\"[Specific approach for next call]\"\n\n---\n\n### [Other Gap Category]\n\n[Same structure for 1-2 additional improvement areas]\n\n---\n\n## Client Readiness Assessment\n\n### Technical Maturity\n**Rating:** High / Medium / Low\n**Evidence:**\n- [Signal 1] (line [N])\n- [Signal 2] (line [N])\n**Implications:** [What this means for implementation]\n\n---\n\n### Decision-Making Clarity\n**Rating:** Clear / Moderate / Unclear\n**Evidence:**\n- [Who makes decisions] (line [N])\n- [Approval process] (line [N])\n**Implications:** [Timeline impact and next steps needed]\n\n---\n\n### Urgency Level\n**Rating:** High / Medium / Low\n**Evidence:**\n- \"[Quote]\" (line [N])\n- [Context signal] (line [N])\n**Implications:** [Recommended response speed and approach]\n\n---\n\n### Problem-Solution Fit\n**Rating:** Excellent / Good / Fair / Poor\n**Evidence:**\n[2-3 sentences on alignment between stated problem and proposed solution]\n\n**Gaps:**\n- [Gap 1 if any]\n- [Gap 2 if any]\n\n**Recommendation:** [Next steps to validate fit]\n\n---\n\n## Competitive Intelligence\n\n### Existing Solutions Mentioned\n- **[Tool/Approach 1]:** [What they said about it] (line [N])\n- **[Tool/Approach 2]:** [What they said] (line [N])\n\n**Strategic Implications:**\n[How to position against existing attempts]\n\n---\n\n### Prior Automation Attempts\n[If mentioned: what they tried, why it failed, lessons learned]\n\n**Quote:**\n> \"[What they said]\" (line [N])\n\n**Implication:** [What to avoid or emphasize]\n\n---\n\n## Recommended Next Steps\n\n### Immediate (Within 3 Days)\n1. **[Action]** - Owner: [You/Client], Purpose: [Why urgent]\n2. **[Action]** - Owner: [Name], Purpose: [Why]\n\n### Short-term (This Week)\n1. **[Action]** - Owner: [Name], Purpose: [Why important]\n2. **[Action]** - Owner: [Name], Purpose: [Why]\n\n### Before Proposal\n1. **[Validation item 1]** - Critical for [reason]\n2. **[Validation item 2]** - Determines [decision]\n3. **[Validation item 3]** - Confirms [assumption]\n\n---\n\n## Proposal Strategy\n\n### Recommended Approach\n[2-3 sentences on how to structure proposal based on this call]\n\n### Value Anchors to Emphasize\n1. **[Value point 1]:** [Specific metric from call] (line [N])\n2. **[Value point 2]:** [Specific metric] (line [N])\n3. **[Value point 3]:** [Strategic value mentioned] (line [N])\n\n### Objections to Pre-Address\n1. **[Potential objection 1]:** [How to handle based on call signals]\n2. **[Potential objection 2]:** [How to handle]\n\n### Decision-Maker Messaging\n- **For [Stakeholder 1]:** Emphasize [what they care about based on call]\n- **For [Stakeholder 2]:** Emphasize [what they care about]\n\n---\n\n## Overall Assessment\n\n**Performance Score: [X]/100**\n\n**Score Breakdown:**\n- Quantification: [X points] ([reason])\n- Engagement: [X points] ([reason])\n- Requirements: [X points] ([reason])\n- Buying Signals: [X points] ([reason])\n- Gaps: -[X points] ([reason])\n\n**Call Quality Rating:** Excellent / Good / Fair / Poor\n\n**Win Probability Estimate:** High / Medium / Low\n**Reasoning:** [2-3 sentences justifying probability assessment]\n\n**Recommended Investment Level:**\n[How much time/effort to invest in proposal based on win probability]\n\n---\n\n## Coaching Summary\n\n**Top 3 Improvements for Next Call:**\n1. **[Improvement 1]:** [Specific technique]\n2. **[Improvement 2]:** [Specific technique]\n3. **[Improvement 3]:** [Specific technique]\n\n**Top 3 Strengths to Maintain:**\n1. **[Strength 1]:** [What was done well]\n2. **[Strength 2]:** [What was done well]\n3. **[Strength 3]:** [What was done well]\n\n---\n\n*Call analysis completed: [date]*\n*Recommendation: [Proceed to proposal / Schedule follow-up discovery / Qualify further / Pass]*\n```\n\n---\n\n## Complexity Classification\n\n**Use these criteria for component complexity ratings:**\n\n### Low Complexity\n- 1-2 weeks implementation\n- Simple tech (well-documented APIs, standard patterns)\n- Minimal dependencies (<3 integration points)\n- Clear requirements with no unknowns\n- Low technical risk\n- Example: Google Sheets API sync, Discord webhooks, simple scheduled triggers\n\n### Medium Complexity\n- 1-2 months implementation\n- Moderate tech complexity (some custom logic, multiple APIs)\n- Moderate dependencies (5-10 integration points)\n- Some requirements ambiguity\n- Moderate technical risk or unknowns\n- Example: Invoice parsing with OCR, cross-system validation logic, dashboard interfaces\n\n### High Complexity\n- 3+ months implementation\n- Complex tech (heavy custom development, complex algorithms)\n- Significant dependencies (>10 integration points)\n- Major requirements unknowns\n- High technical risk\n- Example: Full payment automation with fraud detection, real-time bidirectional sync, machine learning components\n\n---\n\n## Roadmap Granularity Standards\n\n**Week-level breakdown:**\n- Use for first 2-3 months (highest detail needed for immediate work)\n- Each week: 1-2 major deliverables maximum\n- Include checkpoint meetings every 4-6 weeks\n\n**Month-level breakdown:**\n- Use for months 4-6 (less detail needed for future work)\n- Each month: 3-5 major milestones\n- Include phase-end checkpoints\n\n**Phase-level summary:**\n- Use for months 7-12 (strategic planning only)\n- Each phase: Objectives, major deliverables, success criteria\n- Acknowledge uncertainty and need for replanning\n\n---\n\n## Language & Tone\n\n- **Objective and data-driven** - Avoid emotional language\n- **Specific and actionable** - Not generic advice\n- **Constructive** - Frame improvements positively\n- **Technical but accessible** - Explain complexity clearly\n- **Project-manager grade** - Professional roadmap depth\n- **Coaching-quality feedback** - Helpful, specific improvement guidance\n\n---\n\n# Context\n\nThis performance system governs the Call Quality Feedback Loop AND Implementation Planning Pipeline, a dual-purpose workflow that improves team effectiveness AND enables accurate project scoping.\n\nIt exists to ensure every client interaction receives:\n1. **Objective performance measurement** for team coaching and improvement\n2. **Detailed complexity analysis** for accurate effort estimation\n3. **Month-by-month roadmaps** for realistic timeline commitments\n4. **Risk assessment** for mitigation planning\n\nThe system operates in three evaluation modes:\n- **Discovery Mode**: Score based on problem clarity, quantification, buying signals PLUS generate comprehensive complexity analysis and implementation roadmap\n- **Developer/Coaching Mode**: Score based on technical depth, specific questions, learning indicators PLUS assess technical solution complexity\n- **Regular Mode**: Score based on progress tracking, feedback quality, relationship health\n\nYour role is pivotal â€” the accuracy of your scoring determines coaching effectiveness, AND the quality of your complexity analysis and roadmaps determines project success rates and timeline reliability.\n\nBy providing objective, data-driven performance scores AND project-manager-grade implementation plans, you ensure continuous team improvement AND successful project delivery.\n\n---\n\n# Examples\n\n[Include 3 examples matching the v1.0 examples but with v2.0 depth showing 200-400 line complexity assessments and roadmaps]\n\nSee comprehensive example output structures at:\n- complexity_assessment.md (442 lines) - Component breakdowns, Risk assessment, Effort tables\n- roadmap.md (474 lines) - Month-by-month, Week-by-week, Checkpoint meetings, Timeline tables\n\n---\n\n# Notes\n\n**Comprehensive Depth Principle:**\nComplexity assessment and roadmap should rival professional PM deliverables. 200-400 lines each is not padding - it's thorough analysis with:\n- Component-level breakdowns (8-12 components)\n- Best/expected/worst case timelines\n- Week-level granularity for first 3 months\n- Checkpoint meeting structures\n- Risk assessment with mitigations\n- Success metrics per phase\n\n**Objectivity Principle:**\nScores MUST be based on data quality, not client enthusiasm or likability.\nA friendly client with no quantification scores lower than a cold client with detailed time/cost data.\n\n**Scoring Calibration:**\nStart every score at 50 (neutral). Add/subtract based on rubric. Do not anchor on first impression.\nRe-check math: Is this score justified by the rubric criteria? Can you cite specific evidence?\n\n**Complexity Assessment Rules:**\nBase complexity on: number of integration points, custom logic requirements, team size affected, data volume, technical risk.\nDo NOT base on: client's enthusiasm, urgency, or budget size.\n\n**Roadmap Discipline:**\nOnly create detailed roadmap if solution scope is clear from discovery call.\nFor vague calls, note \"[Roadmap pending further discovery and requirements definition]\".\nEmpty roadmap or high-level only is acceptable if scope unclear.\n\n**JSON Validity:**\nperformance_score MUST be integer (no decimals, no strings).\ncomplexity_assessment MUST start with \"## Complexity Overview\" heading.\nroadmap MUST start with \"## Executive Summary\" heading.\nTest JSON format before returning.\n\n**Multi-Page Analysis Standard:**\n- performance_score: Integer 0-100\n- improvement_areas: 3-6 bullet points (20-40 lines)\n- complexity_assessment: 200-400 lines (8-12 components Ã— 30-40 lines each + tables)\n- roadmap: 200-400 lines (3-6 months Ã— 50-80 lines each + tables + checkpoints)\n- call_quality_notes: 100-200 lines (comprehensive narrative analysis)\n\n**Training Cadence:**\nThis system does not adapt autonomously. Scoring calibration requires periodic manual review:\n- After 20 calls: Review score distribution (should be normal curve centered around 70-75)\n- After 50 calls: Correlate scores with proposal win rate (high scores should win more often)\n- Adjust rubric if scores consistently too high or too low\n\n**Guardrails:**\n- Never let enthusiasm override data deficiencies (friendly â‰  qualified)\n- Never score based on client's budget size (â‚¬1K project with great data > â‚¬100K project with vague problem)\n- Never inflate scores to make team feel good (coaching requires honest feedback)\n- Always provide specific improvement actions (not \"be better at discovery\")\n- Always base complexity on technical factors (not effort or price)\n- Maintain consistent scoring across all call types (discovery vs coaching vs check-in)\n- Always create roadmaps with week-level detail for first 3 months\n- Always include checkpoint meetings every 4-6 weeks\n- Always provide best/expected/worst case timelines\n\n**Edge Case Handling:**\n- **Multi-stakeholder calls**: +5 points if decision-maker present, -5 if decision-maker absent\n- **Second/third calls with same client**: Score based on incremental progress, not cumulative relationship\n- **Emergency/urgent calls**: High urgency adds +5 points IF backed by specific deadline/impact, otherwise no bonus\n- **Calls with no clear problem**: Base score (50) minus engagement deductions, recommend disqualifying\n- **Highly technical calls**: Score technical depth instead of business quantification (different rubric applies)\n- **Vague scope calls**: Generate high-level roadmap only, note need for requirements workshop\n- **Multi-phase projects**: Break roadmap into phases with phase-end decision gates\n\n**Call Type Detection (for context):**\n- **Discovery**: First interaction, focused on problem identification, qualification â†’ Generate full complexity + roadmap\n- **Developer/Coaching**: Technical problem-solving, implementation guidance â†’ Generate complexity only for specific solution discussed\n- **Regular**: Ongoing relationship, progress updates, feedback â†’ Score only, minimal complexity/roadmap unless new scope\n\n---\n\nTranscript:\n${ $json.combined_transcript }\n\nReturn ONLY valid JSON, no markdown formatting.",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "id": "build-performance-prompt",
        "name": "Build Performance Prompt",
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          3280,
          64
        ]
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "// Parse performance AI response and merge with original data\nconst aiResponse = $input.item.json;\nconst originalData = $('Parse AI Response').item.json;\n\n// Extract AI response content - handle both Anthropic and OpenAI formats\nlet aiContent = '';\n\n// Try Anthropic format first (response.content[0].text)\nif (aiResponse.content?.[0]?.text) {\n  aiContent = aiResponse.content[0].text;\n}\n// Fallback to OpenAI format (response.message.content)\nelse if (aiResponse.message?.content) {\n  aiContent = aiResponse.message.content;\n}\n// Additional fallbacks\nelse if (aiResponse.text) {\n  aiContent = aiResponse.text;\n} else if (typeof aiResponse.output === 'string') {\n  aiContent = aiResponse.output;\n}\n\n// Parse JSON response\nlet perfData = {};\ntry {\n  // Remove markdown code blocks if present\n  const cleanContent = aiContent.replace(/```json\\n?|```\\n?/g, '').trim();\n  perfData = JSON.parse(cleanContent);\n} catch (error) {\n  console.error('Failed to parse performance AI response:', error);\n  perfData = {\n    overall_score: 0,\n    framework_adherence: 'Failed to parse',\n    quantification_quality: 0,\n    discovery_depth: 0,\n    talk_ratio: 0,\n    '4_cs_coverage': '',\n    key_questions_asked: '',\n    quantification_tactics_used: '',\n    numbers_captured: '',\n    quotable_moments: '',\n    next_steps_clarity: 0,\n    improvement_areas: '',\n    strengths: ''\n  };\n}\n\nreturn {\n  json: {\n    ...originalData,\n    // Performance fields\n    perf_overall_score: perfData.overall_score || 0,\n    perf_framework_adherence: perfData.framework_adherence || '',\n    perf_quantification_quality: perfData.quantification_quality || 0,\n    perf_discovery_depth: perfData.discovery_depth || 0,\n    perf_talk_ratio: perfData.talk_ratio || 0,\n    perf_4cs_coverage: perfData['4_cs_coverage'] || '',\n    perf_key_questions_asked: perfData.key_questions_asked || '',\n    perf_quantification_tactics_used: perfData.quantification_tactics_used || '',\n    perf_numbers_captured: perfData.numbers_captured || '',\n    perf_quotable_moments: perfData.quotable_moments || '',\n    perf_next_steps_clarity: perfData.next_steps_clarity || 0,\n    perf_improvement_areas: perfData.improvement_areas || '',\n    perf_strengths: perfData.strengths || ''\n  }\n};"
        },
        "id": "parse-performance-response",
        "name": "Parse Performance Response",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          3856,
          64
        ]
      },
      {
        "parameters": {
          "operation": "create",
          "columns": {
            "mappingMode": "autoMapInputData"
          }
        },
        "id": "save-performance-to-airtable",
        "name": "Save Performance to Airtable",
        "type": "n8n-nodes-base.airtable",
        "typeVersion": 2.1,
        "position": [
          5328,
          64
        ],
        "credentials": {
          "airtableTokenApi": {
            "id": "7Nw3lCcZ0ETUwNak",
            "name": "airtable-creds"
          }
        }
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "version": 3,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "conditions": [
              {
                "leftValue": "={{ $json.route }}",
                "rightValue": "webhook",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                },
                "id": "route-check"
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "id": "789e9ac9-a050-43fd-b0c3-27473d9ed641",
        "name": "IF: Webhook or API?1",
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.3,
        "position": [
          688,
          64
        ]
      },
      {
        "parameters": {},
        "id": "limit-to-one-record",
        "name": "Limit to 1 Record",
        "type": "n8n-nodes-base.limit",
        "typeVersion": 1,
        "position": [
          4960,
          64
        ]
      },
      {
        "parameters": {
          "operation": "post"
        },
        "id": "slack-notification",
        "name": "Slack Notification",
        "type": "n8n-nodes-base.slack",
        "typeVersion": 2.4,
        "position": [
          5552,
          64
        ],
        "webhookId": "da14729d-63c5-41af-9f51-f9616c04781a",
        "credentials": {
          "slackApi": {
            "id": "iN2b9bGFpoyptSPr",
            "name": "slack-workflow-notifications"
          }
        },
        "disabled": true
      },
      {
        "parameters": {
          "jsCode": "const saveToAirtableData = $('Save to Airtable').item.json;\nconst performanceData = $('Save Performance to Airtable').item.json;\nconst parseAIData = $('Parse AI Response').first().json;\n\nconst clientName = saveToAirtableData.matched_client_name || 'Unknown';\nconst contactName = saveToAirtableData.matched_contact_name || 'Unknown';\nconst performanceScore = performanceData.perf_overall_score || 'N/A';\nconst topPainPoint = (parseAIData.pain_points && parseAIData.pain_points[0]) || 'Not identified';\n\nconst blocks = [\n  {\n    type: 'section',\n    text: {\n      type: 'mrkdwn',\n      text: 'ðŸ“ž *Call Analysis Complete*\\n\\n*Client:* ' + clientName + '\\n*Contact:* ' + contactName + '\\n*Performance Score:* ' + performanceScore + '/100\\n\\n*Top Pain Point:* ' + topPainPoint\n    }\n  },\n  {\n    type: 'actions',\n    elements: [\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Create Proposal (Company)' },\n        value: 'proposal_company',\n        action_id: 'proposal_company'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Create Proposal (Individual)' },\n        value: 'proposal_individual',\n        action_id: 'proposal_individual'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Send to Figma' },\n        value: 'send_figma',\n        action_id: 'send_figma'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Send to Slides' },\n        value: 'send_slides',\n        action_id: 'send_slides',\n        style: 'primary'\n      },\n      {\n        type: 'button',\n        text: { type: 'plain_text', text: 'Do Nothing' },\n        value: 'do_nothing',\n        action_id: 'do_nothing'\n      }\n    ]\n  }\n];\n\nreturn {\n  json: {\n    slackBlocks: JSON.stringify(blocks),\n    ...performanceData\n  }\n};"
        },
        "id": "build-slack-blocks",
        "name": "Build Slack Blocks",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          5440,
          64
        ]
      },
      {
        "parameters": {
          "modelId": {
            "__rl": true,
            "value": "gpt-4o-mini",
            "mode": "list",
            "cachedResultName": "GPT-4O-MINI"
          },
          "messages": {
            "values": [
              {
                "content": "={{ $json.ai_prompt }}  ",
                "role": "system"
              }
            ]
          },
          "options": {
            "temperature": 0
          }
        },
        "id": "call-ai-for-analysis",
        "name": "Call AI for Analysis",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "typeVersion": 1.8,
        "position": [
          2704,
          64
        ],
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 5000,
        "credentials": {
          "openAiApi": {
            "id": "xmJ7t6kaKgMwA1ce",
            "name": "OpenAi account"
          }
        },
        "continueOnFail": true
      },
      {
        "parameters": {
          "modelId": {
            "__rl": true,
            "value": "gpt-4o-mini",
            "mode": "list",
            "cachedResultName": "GPT-4O-MINI"
          },
          "messages": {
            "values": [
              {
                "content": "={{ $json.performancePrompt }}",
                "role": "system"
              }
            ]
          },
          "options": {
            "temperature": 0
          }
        },
        "id": "call-ai-performance",
        "name": "Call AI for Performance",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "typeVersion": 1.8,
        "position": [
          3504,
          64
        ],
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 5000,
        "credentials": {
          "openAiApi": {
            "id": "xmJ7t6kaKgMwA1ce",
            "name": "OpenAi account"
          }
        },
        "continueOnFail": true
      }
    ],
    "connections": {
      "Daily Schedule": {
        "main": [
          [
            {
              "node": "Config",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Config": {
        "main": [
          [
            {
              "node": "List Meetings",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "List Meetings": {
        "main": [
          [
            {
              "node": "Extract Meetings Array",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract Meetings Array": {
        "main": [
          [
            {
              "node": "Get Transcript",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Transcript": {
        "main": [
          [
            {
              "node": "Combine Meeting + Transcript1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Convert to Binary": {
        "main": [
          [
            {
              "node": "Save Transcript to Drive",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Is Standalone Impromptu?": {
        "main": [
          [
            {
              "node": "Build AI Prompt",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Build AI Prompt": {
        "main": [
          [
            {
              "node": "Extract Name (OpenAI)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract Name (OpenAI)": {
        "main": [
          [
            {
              "node": "Extract AI Name",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract AI Name": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge": {
        "main": [
          [
            {
              "node": "Prepare Date Folder Name",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Combine Meeting + Transcript1": {
        "main": [
          [
            {
              "node": "Process Each Meeting",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Date Folder Name": {
        "main": [
          [
            {
              "node": "Get Unique Dates",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Unique Dates": {
        "main": [
          [
            {
              "node": "Create or Get Date Folder",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create or Get Date Folder": {
        "main": [
          [
            {
              "node": "Match Meetings to Folders",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Match Meetings to Folders": {
        "main": [
          [
            {
              "node": "Convert to Binary",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract Participant Names": {
        "main": [
          [
            {
              "node": "Search Contacts",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Search Contacts": {
        "main": [
          [
            {
              "node": "Search Clients",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Search Clients": {
        "main": [
          [
            {
              "node": "Prepare Airtable Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Manual Trigger": {
        "main": [
          [
            {
              "node": "Route: Webhook or API",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Route: Webhook or API": {
        "main": [
          [
            {
              "node": "IF: Webhook or API?1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Process Webhook Meeting": {
        "main": [
          [
            {
              "node": "Enhanced AI Analysis",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Process Each Meeting": {
        "main": [
          [
            {
              "node": "Limit Batch Size",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Limit Batch Size": {
        "main": [
          [
            {
              "node": "Enhanced AI Analysis",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Parse AI Response": {
        "main": [
          [
            {
              "node": "Build Performance Prompt",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Parse Performance Response": {
        "main": [
          [
            {
              "node": "Extract Participant Names",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Save to Airtable": {
        "main": [
          [
            {
              "node": "Save Performance to Airtable",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Save Performance to Airtable": {
        "main": [
          [
            {
              "node": "Prepare Date Folder Name",
              "type": "main",
              "index": 0
            },
            {
              "node": "Build Slack Blocks",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook Trigger": {
        "main": [
          [
            {
              "node": "Route: Webhook or API",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "IF: Webhook or API?1": {
        "main": [
          [
            {
              "node": "Process Webhook Meeting",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Config",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Airtable Data": {
        "main": [
          [
            {
              "node": "Limit to 1 Record",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Limit to 1 Record": {
        "main": [
          [
            {
              "node": "Save to Airtable",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Build Slack Blocks": {
        "main": [
          [
            {
              "node": "Slack Notification",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Enhanced AI Analysis": {
        "main": [
          [
            {
              "node": "Call AI for Analysis",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Call AI for Analysis": {
        "main": [
          [
            {
              "node": "Parse AI Response",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Build Performance Prompt": {
        "main": [
          [
            {
              "node": "Call AI for Performance",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Call AI for Performance": {
        "main": [
          [
            {
              "node": "Parse Performance Response",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Sway Clarke",
    "name": null,
    "description": null,
    "autosaved": false,
    "workflowPublishHistory": [
      {
        "createdAt": "2026-01-29T15:16:01.391Z",
        "id": 1714,
        "workflowId": "cMGbzpq1RXpL0OHY",
        "versionId": "824181c7-b5d8-4289-9ead-9bedd9a8face",
        "event": "activated",
        "userId": "e9bd9112-c2e3-4f67-873a-e1001baeafd8"
      }
    ]
  }
}
